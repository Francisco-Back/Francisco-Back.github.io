"use strict";(self.webpackChunkUMGFIFA2022=self.webpackChunkUMGFIFA2022||[]).push([[179],{206:()=>{function ye(t){return"function"==typeof t}function Ao(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Ml=Ao(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function is(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Vt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(ye(r))try{r()}catch(s){e=s instanceof Ml?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{bw(s)}catch(o){e=e??[],o instanceof Ml?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ml(e)}}add(e){var n;if(e&&e!==this)if(this.closed)bw(e);else{if(e instanceof Vt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&is(n,e)}remove(e){const{_finalizers:n}=this;n&&is(n,e),e instanceof Vt&&e._removeParent(this)}}Vt.EMPTY=(()=>{const t=new Vt;return t.closed=!0,t})();const Cw=Vt.EMPTY;function Iw(t){return t instanceof Vt||t&&"closed"in t&&ye(t.remove)&&ye(t.add)&&ye(t.unsubscribe)}function bw(t){ye(t)?t():t.unsubscribe()}const ai={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Rl={setTimeout(t,e,...n){const{delegate:r}=Rl;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Rl;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Dw(t){Rl.setTimeout(()=>{const{onUnhandledError:e}=ai;if(!e)throw t;e(t)})}function Tw(){}const xx=zd("C",void 0,void 0);function zd(t,e,n){return{kind:t,value:e,error:n}}let li=null;function Pl(t){if(ai.useDeprecatedSynchronousErrorHandling){const e=!li;if(e&&(li={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=li;if(li=null,n)throw r}}else t()}class qd extends Vt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Iw(e)&&e.add(this)):this.destination=Bx}static create(e,n,r){return new Mo(e,n,r)}next(e){this.isStopped?Qd(function Ox(t){return zd("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Qd(function Nx(t){return zd("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Qd(xx,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Lx=Function.prototype.bind;function Kd(t,e){return Lx.call(t,e)}class Ux{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){kl(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){kl(r)}else kl(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){kl(n)}}}class Mo extends qd{constructor(e,n,r){let i;if(super(),ye(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&ai.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Kd(e.next,s),error:e.error&&Kd(e.error,s),complete:e.complete&&Kd(e.complete,s)}):i=e}this.destination=new Ux(i)}}function kl(t){ai.useDeprecatedSynchronousErrorHandling?function Fx(t){ai.useDeprecatedSynchronousErrorHandling&&li&&(li.errorThrown=!0,li.error=t)}(t):Dw(t)}function Qd(t,e){const{onStoppedNotification:n}=ai;n&&Rl.setTimeout(()=>n(t,e))}const Bx={closed:!0,next:Tw,error:function Vx(t){throw t},complete:Tw},Yd="function"==typeof Symbol&&Symbol.observable||"@@observable";function ui(t){return t}function Sw(t){return 0===t.length?ui:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Pe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function Hx(t){return t&&t instanceof qd||function $x(t){return t&&ye(t.next)&&ye(t.error)&&ye(t.complete)}(t)&&Iw(t)}(n)?n:new Mo(n,r,i);return Pl(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Aw(r))((i,s)=>{const o=new Mo({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Yd](){return this}pipe(...n){return Sw(n)(this)}toPromise(n){return new(n=Aw(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Aw(t){var e;return null!==(e=t??ai.Promise)&&void 0!==e?e:Promise}const Wx=Ao(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Mn=(()=>{class t extends Pe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Mw(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Wx}next(n){Pl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Pl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Pl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Cw:(this.currentObservers=null,s.push(n),new Vt(()=>{this.currentObservers=null,is(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Pe;return n.source=this,n}}return t.create=(e,n)=>new Mw(e,n),t})();class Mw extends Mn{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Cw}}function Rw(t){return ye(t?.lift)}function Qe(t){return e=>{if(Rw(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ye(t,e,n,r,i){return new Gx(t,e,n,r,i)}class Gx extends qd{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function re(t,e){return Qe((n,r)=>{let i=0;n.subscribe(Ye(r,s=>{r.next(t.call(e,s,i++))}))})}function kw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function ci(t){return this instanceof ci?(this.v=t,this):new ci(t)}function Kx(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof ci?Promise.resolve(h.value.v).then(u,c):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function u(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Qx(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Nw(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}(a,l,(o=t[s](o)).done,o.value)})}}}const Ow=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Fw(t){return ye(t?.then)}function Lw(t){return ye(t[Yd])}function Uw(t){return Symbol.asyncIterator&&ye(t?.[Symbol.asyncIterator])}function Vw(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Bw=function Jx(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function jw(t){return ye(t?.[Bw])}function $w(t){return Kx(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield ci(n.read());if(i)return yield ci(void 0);yield yield ci(r)}}finally{n.releaseLock()}})}function Hw(t){return ye(t?.getReader)}function Rn(t){if(t instanceof Pe)return t;if(null!=t){if(Lw(t))return function Zx(t){return new Pe(e=>{const n=t[Yd]();if(ye(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Ow(t))return function Xx(t){return new Pe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(Fw(t))return function eN(t){return new Pe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Dw)})}(t);if(Uw(t))return Ww(t);if(jw(t))return function tN(t){return new Pe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(Hw(t))return function nN(t){return Ww($w(t))}(t)}throw Vw(t)}function Ww(t){return new Pe(e=>{(function rN(t,e){var n,r,i,s;return function zx(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Qx(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Zn(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function rt(t,e,n=1/0){return ye(e)?rt((r,i)=>re((s,o)=>e(r,s,i,o))(Rn(t(r,i))),n):("number"==typeof e&&(n=e),Qe((r,i)=>function iN(t,e,n,r,i,s,o,a){const l=[];let u=0,c=0,d=!1;const h=()=>{d&&!l.length&&!u&&e.complete()},f=g=>u<r?p(g):l.push(g),p=g=>{s&&e.next(g),u++;let y=!1;Rn(n(g,c++)).subscribe(Ye(e,I=>{i?.(I),s?f(I):e.next(I)},()=>{y=!0},void 0,()=>{if(y)try{for(u--;l.length&&u<r;){const I=l.shift();o?Zn(e,o,()=>p(I)):p(I)}h()}catch(I){e.error(I)}}))};return t.subscribe(Ye(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function ss(t=1/0){return rt(ui,t)}const Xn=new Pe(t=>t.complete());function Zd(t){return t[t.length-1]}function Ro(t){return function oN(t){return t&&ye(t.schedule)}(Zd(t))?t.pop():void 0}function xl(t,e=0){return Qe((n,r)=>{n.subscribe(Ye(r,i=>Zn(r,t,()=>r.next(i),e),()=>Zn(r,t,()=>r.complete(),e),i=>Zn(r,t,()=>r.error(i),e)))})}function Nl(t,e=0){return Qe((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Gw(t,e){if(!t)throw new Error("Iterable cannot be null");return new Pe(n=>{Zn(n,e,()=>{const r=t[Symbol.asyncIterator]();Zn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function je(t,e){return e?function pN(t,e){if(null!=t){if(Lw(t))return function uN(t,e){return Rn(t).pipe(Nl(e),xl(e))}(t,e);if(Ow(t))return function dN(t,e){return new Pe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(Fw(t))return function cN(t,e){return Rn(t).pipe(Nl(e),xl(e))}(t,e);if(Uw(t))return Gw(t,e);if(jw(t))return function hN(t,e){return new Pe(n=>{let r;return Zn(n,e,()=>{r=t[Bw](),Zn(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>ye(r?.return)&&r.return()})}(t,e);if(Hw(t))return function fN(t,e){return Gw($w(t),e)}(t,e)}throw Vw(t)}(t,e):Rn(t)}function Xd(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Mo({next:()=>{r.unsubscribe(),t()}});return e(...n).subscribe(r)}function ge(t){for(let e in t)if(t[e]===ge)return e;throw Error("Could not find renamed property on target object.")}function me(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(me).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function th(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const _N=ge({__forward_ref__:ge});function nh(t){return t.__forward_ref__=nh,t.toString=function(){return me(this())},t}function B(t){return function rh(t){return"function"==typeof t&&t.hasOwnProperty(_N)&&t.__forward_ref__===nh}(t)?t():t}class P extends Error{constructor(e,n){super(function Ol(t,e){return`NG0${Math.abs(t)}${e?": "+e.trim():""}`}(e,n)),this.code=e}}function H(t){return"string"==typeof t?t:null==t?"":String(t)}function Fl(t,e){throw new P(-201,!1)}function jt(t,e){null==t&&function ue(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function Q(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Pn(t){return{providers:t.providers||[],imports:t.imports||[]}}function ih(t){return zw(t,Ll)||zw(t,Kw)}function zw(t,e){return t.hasOwnProperty(e)?t[e]:null}function qw(t){return t&&(t.hasOwnProperty(sh)||t.hasOwnProperty(DN))?t[sh]:null}const Ll=ge({\u0275prov:ge}),sh=ge({\u0275inj:ge}),Kw=ge({ngInjectableDef:ge}),DN=ge({ngInjectorDef:ge});var O=(()=>((O=O||{})[O.Default=0]="Default",O[O.Host=1]="Host",O[O.Self=2]="Self",O[O.SkipSelf=4]="SkipSelf",O[O.Optional=8]="Optional",O))();let oh;function Zt(t){const e=oh;return oh=t,e}function Qw(t,e,n){const r=ih(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&O.Optional?null:void 0!==e?e:void Fl(me(t))}function kr(t){return{toString:t}.toString()}var hn=(()=>((hn=hn||{})[hn.OnPush=0]="OnPush",hn[hn.Default=1]="Default",hn))(),kn=(()=>{return(t=kn||(kn={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",kn;var t})();const pe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),os={},ae=[],Ul=ge({\u0275cmp:ge}),ah=ge({\u0275dir:ge}),lh=ge({\u0275pipe:ge}),Yw=ge({\u0275mod:ge}),tr=ge({\u0275fac:ge}),Po=ge({__NG_ELEMENT_ID__:ge});let SN=0;function Xt(t){return kr(()=>{const n=!0===t.standalone,r={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===hn.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||ae,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||kn.Emulated,id:"c"+SN++,styles:t.styles||ae,_:null,setInput:null,schemas:t.schemas||null,tView:null},s=t.dependencies,o=t.features;return i.inputs=Xw(t.inputs,r),i.outputs=Xw(t.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(Jw).filter(Zw):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(yt).filter(Zw):null,i})}function Jw(t){return he(t)||_t(t)}function Zw(t){return null!==t}const MN={};function nr(t){return kr(()=>{const e={type:t.type,bootstrap:t.bootstrap||ae,declarations:t.declarations||ae,imports:t.imports||ae,exports:t.exports||ae,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(MN[t.id]=t.type),e})}function Xw(t,e){if(null==t)return os;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const ut=Xt;function he(t){return t[Ul]||null}function _t(t){return t[ah]||null}function yt(t){return t[lh]||null}function $t(t,e){const n=t[Yw]||null;if(!n&&!0===e)throw new Error(`Type ${me(t)} does not have '\u0275mod' property.`);return n}const K=11;function Rt(t){return Array.isArray(t)&&"object"==typeof t[1]}function pn(t){return Array.isArray(t)&&!0===t[1]}function dh(t){return 0!=(8&t.flags)}function $l(t){return 2==(2&t.flags)}function Hl(t){return 1==(1&t.flags)}function gn(t){return null!==t.template}function NN(t){return 0!=(256&t[2])}function gi(t,e){return t.hasOwnProperty(tr)?t[tr]:null}class LN{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function mi(){return nC}function nC(t){return t.type.prototype.ngOnChanges&&(t.setInput=VN),UN}function UN(){const t=iC(this),e=t?.current;if(e){const n=t.previous;if(n===os)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function VN(t,e,n,r){const i=iC(t)||function BN(t,e){return t[rC]=e}(t,{previous:os,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],l=o[a];s[a]=new LN(l&&l.currentValue,e,o===os),t[r]=e}mi.ngInherit=!0;const rC="__ngSimpleChanges__";function iC(t){return t[rC]||null}function Ne(t){for(;Array.isArray(t);)t=t[0];return t}function nn(t,e){return Ne(e[t.index])}function mh(t,e){return t.data[e]}function Wt(t,e){const n=e[t];return Rt(n)?n:n[0]}function _h(t){return 64==(64&t[2])}function xr(t,e){return null==e?null:t[e]}function oC(t){t[18]=0}function yh(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const $={lFrame:gC(null),bindingsEnabled:!0};function lC(){return $.bindingsEnabled}function C(){return $.lFrame.lView}function ne(){return $.lFrame.tView}function $e(){let t=uC();for(;null!==t&&64===t.type;)t=t.parent;return t}function uC(){return $.lFrame.currentTNode}function xn(t,e){const n=$.lFrame;n.currentTNode=t,n.isParent=e}function vh(){return $.lFrame.isParent}function hs(){return $.lFrame.bindingIndex++}function n1(t,e){const n=$.lFrame;n.bindingIndex=n.bindingRootIndex=t,wh(e)}function wh(t){$.lFrame.currentDirectiveIndex=t}function Ih(t){$.lFrame.currentQueryIndex=t}function i1(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function fC(t,e,n){if(n&O.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&O.Host||(i=i1(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=$.lFrame=pC();return r.currentTNode=e,r.lView=t,!0}function bh(t){const e=pC(),n=t[1];$.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function pC(){const t=$.lFrame,e=null===t?null:t.child;return null===e?gC(t):e}function gC(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function mC(){const t=$.lFrame;return $.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const _C=mC;function Dh(){const t=mC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Et(){return $.lFrame.selectedIndex}function Nr(t){$.lFrame.selectedIndex=t}function Me(){const t=$.lFrame;return mh(t.tView,t.selectedIndex)}function _i(){$.lFrame.currentNamespace="svg"}function yi(){!function l1(){$.lFrame.currentNamespace=null}()}function zl(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),l&&(t.viewHooks||(t.viewHooks=[])).push(-n,l),u&&((t.viewHooks||(t.viewHooks=[])).push(n,u),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,u)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function ql(t,e,n){yC(t,e,3,n)}function Kl(t,e,n,r){(3&t[2])===n&&yC(t,e,n,r)}function Th(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function yC(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&t[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[18]+=65536),(a<s||-1==s)&&(d1(t,n,e,l),t[18]=(4294901760&t[18])+l+2),l++}function d1(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Fo{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Ql(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];EC(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function vC(t){return 3===t||4===t||6===t}function EC(t){return 64===t.charCodeAt(0)}function Yl(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||wC(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function wC(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function CC(t){return-1!==t}function fs(t){return 32767&t}function ps(t,e){let n=function m1(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let Ah=!0;function Jl(t){const e=Ah;return Ah=t,e}let _1=0;const Nn={};function Uo(t,e){const n=Rh(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Mh(r.data,t),Mh(e,null),Mh(r.blueprint,null));const i=Zl(t,e),s=t.injectorIndex;if(CC(i)){const o=fs(i),a=ps(i,e),l=a[1].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|l[o+u]}return e[s+8]=i,s}function Mh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Rh(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Zl(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=PC(i),null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Xl(t,e,n){!function y1(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Po)&&(r=n[Po]),null==r&&(r=n[Po]=_1++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function DC(t,e,n){if(n&O.Optional)return t;Fl()}function TC(t,e,n,r){if(n&O.Optional&&void 0===r&&(r=null),0==(n&(O.Self|O.Host))){const i=t[9],s=Zt(void 0);try{return i?i.get(e,r,n&O.Optional):Qw(e,r,n&O.Optional)}finally{Zt(s)}}return DC(r,0,n)}function SC(t,e,n,r=O.Default,i){if(null!==t){if(1024&e[2]){const o=function b1(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=AC(s,o,n,r|O.Self,Nn);if(a!==Nn)return a;let l=s.parent;if(!l){const u=o[21];if(u){const c=u.get(n,Nn,r);if(c!==Nn)return c}l=PC(o),o=o[15]}s=l}return i}(t,e,n,r,Nn);if(o!==Nn)return o}const s=AC(t,e,n,r,Nn);if(s!==Nn)return s}return TC(e,n,r,i)}function AC(t,e,n,r,i){const s=function w1(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Po)?t[Po]:void 0;return"number"==typeof e?e>=0?255&e:C1:e}(n);if("function"==typeof s){if(!fC(e,t,r))return r&O.Host?DC(i,0,r):TC(e,n,r,i);try{const o=s(r);if(null!=o||r&O.Optional)return o;Fl()}finally{_C()}}else if("number"==typeof s){let o=null,a=Rh(t,e),l=-1,u=r&O.Host?e[16][6]:null;for((-1===a||r&O.SkipSelf)&&(l=-1===a?Zl(t,e):e[a+8],-1!==l&&RC(r,!1)?(o=e[1],a=fs(l),e=ps(l,e)):a=-1);-1!==a;){const c=e[1];if(MC(s,a,c.data)){const d=E1(a,e,n,o,r,u);if(d!==Nn)return d}l=e[a+8],-1!==l&&RC(r,e[1].data[a+8]===u)&&MC(s,a,e)?(o=c,a=fs(l),e=ps(l,e)):a=-1}}return i}function E1(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],c=function eu(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,l=t.directiveStart,c=s>>20,h=i?a+c:t.directiveEnd;for(let f=r?a:a+c;f<h;f++){const p=o[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(i){const f=o[l];if(f&&gn(f)&&f.type===n)return l}return null}(a,o,n,null==r?$l(a)&&Ah:r!=o&&0!=(3&a.type),i&O.Host&&s===a);return null!==c?Vo(e,o,c,a):Nn}function Vo(t,e,n,r){let i=t[n];const s=e.data;if(function h1(t){return t instanceof Fo}(i)){const o=i;o.resolving&&function yN(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new P(-200,`Circular dependency in DI detected for ${t}${n}`)}(function oe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():H(t)}(s[n]));const a=Jl(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Zt(o.injectImpl):null;fC(t,r,O.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function c1(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=nC(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==l&&Zt(l),Jl(a),o.resolving=!1,_C()}}return i}function MC(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function RC(t,e){return!(t&O.Self||t&O.Host&&e)}class gs{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return SC(this._tNode,this._lView,e,r,n)}}function C1(){return new gs($e(),C())}function PC(t){const e=t[1],n=e.type;return 2===n?e.declTNode:1===n?t[6]:null}const _s="__parameters__";function vs(t,e,n){return kr(()=>{const r=function kh(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,u,c){const d=l.hasOwnProperty(_s)?l[_s]:Object.defineProperty(l,_s,{value:[]})[_s];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class j{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Q({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const T1=new j("AnalyzeForEntryComponents");function sr(t,e){t.forEach(n=>Array.isArray(n)?sr(n,e):e(n))}function xC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function tu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const Wo={},Fh="__NG_DI_FLAG__",ru="ngTempTokenPath",L1=/\n/gm,LC="__source";let Go;function ws(t){const e=Go;return Go=t,e}function V1(t,e=O.Default){if(void 0===Go)throw new P(-203,!1);return null===Go?Qw(t,void 0,e):Go.get(t,e&O.Optional?null:void 0,e)}function x(t,e=O.Default){return(function TN(){return oh}()||V1)(B(t),e)}function Fr(t,e=O.Default){return"number"!=typeof e&&(e=0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)),x(t,e)}function Lh(t){const e=[];for(let n=0;n<t.length;n++){const r=B(t[n]);if(Array.isArray(r)){if(0===r.length)throw new P(900,!1);let i,s=O.Default;for(let o=0;o<r.length;o++){const a=r[o],l=B1(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(x(i,s))}else e.push(x(r))}return e}function zo(t,e){return t[Fh]=e,t.prototype[Fh]=e,t}function B1(t){return t[Fh]}const it=zo(vs("Optional"),8),qo=zo(vs("SkipSelf"),4);let Vh;class YC{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const cO=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,dO=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Oe=(()=>((Oe=Oe||{})[Oe.NONE=0]="NONE",Oe[Oe.HTML=1]="HTML",Oe[Oe.STYLE=2]="STYLE",Oe[Oe.SCRIPT=3]="SCRIPT",Oe[Oe.URL=4]="URL",Oe[Oe.RESOURCE_URL=5]="RESOURCE_URL",Oe))();function Fe(t){const e=function Zo(){const t=C();return t&&t[12]}();return e?e.sanitize(Oe.URL,t)||"":function Yo(t,e){const n=function oO(t){return t instanceof YC&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"URL")?function Lr(t){return t instanceof YC?t.changingThisBreaksApplicationSecurity:t}(t):function lu(t){return(t=String(t)).match(cO)||t.match(dO)?t:"unsafe:"+t}(H(t))}const zh=new j("ENVIRONMENT_INITIALIZER"),sI=new j("INJECTOR",-1),oI=new j("INJECTOR_DEF_TYPES");class aI{get(e,n=Wo){if(n===Wo){const r=new Error(`NullInjectorError: No provider for ${me(e)}!`);throw r.name="NullInjectorError",r}return n}}function DO(...t){return{\u0275providers:lI(0,t)}}function lI(t,...e){const n=[],r=new Set;let i;return sr(e,s=>{const o=s;qh(o,n,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&uI(i,n),n}function uI(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];sr(i,s=>{e.push(s)})}}function qh(t,e,n,r){if(!(t=B(t)))return!1;let i=null,s=qw(t);const o=!s&&he(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const l=t.ngModule;if(s=qw(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of l)qh(u,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;r.add(i);try{sr(s.imports,c=>{qh(c,e,n,r)&&(u||(u=[]),u.push(c))})}finally{}void 0!==u&&uI(u,e)}if(!a){const u=gi(i)||(()=>new i);e.push({provide:i,useFactory:u,deps:ae},{provide:oI,useValue:i,multi:!0},{provide:zh,useValue:()=>x(i),multi:!0})}const l=s.providers;null==l||a||sr(l,c=>{e.push(c)})}}return i!==t&&void 0!==t.providers}const TO=ge({provide:String,useValue:ge});function Kh(t){return null!==t&&"object"==typeof t&&TO in t}function vi(t){return"function"==typeof t}const Qh=new j("Set Injector scope."),cu={},AO={};let Yh;function du(){return void 0===Yh&&(Yh=new aI),Yh}class Ur{}class hI extends Ur{constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Zh(e,o=>this.processProvider(o)),this.records.set(sI,bs(void 0,this)),i.has("environment")&&this.records.set(Ur,bs(void 0,this));const s=this.records.get(Qh);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(oI.multi,ae,O.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const n=ws(this),r=Zt(void 0);try{return e()}finally{ws(n),Zt(r)}}get(e,n=Wo,r=O.Default){this.assertNotDestroyed();const i=ws(this),s=Zt(void 0);try{if(!(r&O.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function xO(t){return"function"==typeof t||"object"==typeof t&&t instanceof j}(e)&&ih(e);a=l&&this.injectableDefInScope(l)?bs(Jh(e),cu):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&O.Self?du():this.parent).get(e,n=r&O.Optional&&n===Wo?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[ru]=o[ru]||[]).unshift(me(e)),i)throw o;return function j1(t,e,n,r){const i=t[ru];throw e[LC]&&i.unshift(e[LC]),t.message=function $1(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=me(e);if(Array.isArray(e))i=e.map(me).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):me(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(L1,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[ru]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{Zt(s),ws(i)}}resolveInjectorInitializers(){const e=ws(this),n=Zt(void 0);try{const r=this.get(zh.multi,ae,O.Self);for(const i of r)i()}finally{ws(e),Zt(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(me(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new P(205,!1)}processProvider(e){let n=vi(e=B(e))?e:B(e&&e.provide);const r=function RO(t){return Kh(t)?bs(void 0,t.useValue):bs(function fI(t,e,n){let r;if(vi(t)){const i=B(t);return gi(i)||Jh(i)}if(Kh(t))r=()=>B(t.useValue);else if(function dI(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Lh(t.deps||[]));else if(function cI(t){return!(!t||!t.useExisting)}(t))r=()=>x(B(t.useExisting));else{const i=B(t&&(t.useClass||t.provide));if(!function PO(t){return!!t.deps}(t))return gi(i)||Jh(i);r=()=>new i(...Lh(t.deps))}return r}(t),cu)}(e);if(vi(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=bs(void 0,cu,!0),i.factory=()=>Lh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===cu&&(n.value=AO,n.value=n.factory()),"object"==typeof n.value&&n.value&&function kO(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=B(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function Jh(t){const e=ih(t),n=null!==e?e.factory:gi(t);if(null!==n)return n;if(t instanceof j)throw new P(204,!1);if(t instanceof Function)return function MO(t){const e=t.length;if(e>0)throw function Ho(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new P(204,!1);const n=function IN(t){const e=t&&(t[Ll]||t[Kw]);if(e){const n=function bN(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new P(204,!1)}function bs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function NO(t){return!!t.\u0275providers}function Zh(t,e){for(const n of t)Array.isArray(n)?Zh(n,e):NO(n)?Zh(n.\u0275providers,e):e(n)}class pI{}class LO{resolveComponentFactory(e){throw function FO(t){const e=Error(`No component factory found for ${me(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let Xo=(()=>{class t{}return t.NULL=new LO,t})();function UO(){return Ds($e(),C())}function Ds(t,e){return new Vr(nn(t,e))}let Vr=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=UO,t})();class mI{}let jO=(()=>{class t{}return t.\u0275prov=Q({token:t,providedIn:"root",factory:()=>null}),t})();class ea{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const _I=new ea("14.1.0"),Xh={};function sf(t){return t.ngOriginalError}class Ts{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&sf(e);for(;n&&sf(n);)n=sf(n);return n||null}}const af=new Map;let eF=0;const uf="__ngContext__";function ht(t,e){Rt(e)?(t[uf]=e[20],function nF(t){af.set(t[20],t)}(e)):t[uf]=e}function ta(t){const e=t[uf];return"number"==typeof e?function CI(t){return af.get(t)||null}(e):e||null}function cf(t){const e=ta(t);return e?Rt(e)?e:e.lView:null}const dF=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(pe))();function or(t){return t instanceof Function?t():t}var Pt=(()=>((Pt=Pt||{})[Pt.Important=1]="Important",Pt[Pt.DashCase=2]="DashCase",Pt))();function hf(t,e){return undefined(t,e)}function na(t){const e=t[3];return pn(e)?e[3]:e}function ff(t){return RI(t[13])}function pf(t){return RI(t[4])}function RI(t){for(;null!==t&&!pn(t);)t=t[4];return t}function As(t,e,n,r,i){if(null!=r){let s,o=!1;pn(r)?s=r:Rt(r)&&(o=!0,r=r[0]);const a=Ne(r);0===t&&null!==n?null==i?FI(e,n,a):Ei(e,n,a,i||null,!0):1===t&&null!==n?Ei(e,n,a,i||null,!0):2===t?function HI(t,e,n){const r=fu(t,e);r&&function MF(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function kF(t,e,n,r,i){const s=n[7];s!==Ne(n)&&As(e,t,r,s,i);for(let a=10;a<n.length;a++){const l=n[a];ra(l[1],l,t,e,r,s)}}(e,t,s,n,i)}}function mf(t,e,n){return t.createElement(e,n)}function kI(t,e){const n=t[9],r=n.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,yh(i,-1)),n.splice(r,1)}function _f(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&kI(i,r),e>0&&(t[n-1][4]=r[4]);const s=tu(t,10+e);!function wF(t,e){ra(t,e,e[K],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function xI(t,e){if(!(128&e[2])){const n=e[K];n.destroyNode&&ra(t,e,n,3,null,null),function bF(t){let e=t[13];if(!e)return yf(t[1],t);for(;e;){let n=null;if(Rt(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Rt(e)&&yf(e[1],e),e=e[3];null===e&&(e=t),Rt(e)&&yf(e[1],e),n=e&&e[4]}e=n}}(e)}}function yf(t,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function AF(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Fo)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function SF(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):Ne(e[o]),l=r[i=n[s+2]],u=n[s+3];"boolean"==typeof u?a.removeEventListener(n[s],l,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[7]=null}}(t,e),1===e[1].type&&e[K].destroy();const n=e[17];if(null!==n&&pn(e[3])){n!==e[3]&&kI(n,e);const r=e[19];null!==r&&r.detachView(t)}!function rF(t){af.delete(t[20])}(e)}}function NI(t,e,n){return function OI(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===kn.None||i===kn.Emulated)return null}return nn(r,n)}(t,e.parent,n)}function Ei(t,e,n,r,i){t.insertBefore(e,n,r,i)}function FI(t,e,n){t.appendChild(e,n)}function LI(t,e,n,r,i){null!==r?Ei(t,e,n,r,i):FI(t,e,n)}function fu(t,e){return t.parentNode(e)}let BI=function VI(t,e,n){return 40&t.type?nn(t,n):null};function pu(t,e,n,r){const i=NI(t,r,e),s=e[K],a=function UI(t,e,n){return BI(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)LI(s,i,n[l],a,!1);else LI(s,i,n,a,!1)}function gu(t,e){if(null!==e){const n=e.type;if(3&n)return nn(e,t);if(4&n)return Ef(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return gu(t,r);{const i=t[e.index];return pn(i)?Ef(-1,i):Ne(i)}}if(32&n)return hf(e,t)()||Ne(t[e.index]);{const r=$I(t,e);return null!==r?Array.isArray(r)?r[0]:gu(na(t[16]),r):gu(t,e.next)}}return null}function $I(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Ef(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return gu(r,i)}return e[7]}function wf(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;if(o&&0===e&&(a&&ht(Ne(a),r),n.flags|=4),64!=(64&n.flags))if(8&l)wf(t,e,n.child,r,i,s,!1),As(e,t,i,a,s);else if(32&l){const u=hf(n,r);let c;for(;c=u();)As(e,t,i,c,s);As(e,t,i,a,s)}else 16&l?WI(t,e,r,n,i,s):As(e,t,i,a,s);n=o?n.projectionNext:n.next}}function ra(t,e,n,r,i,s){wf(n,r,t.firstChild,e,i,s,!1)}function WI(t,e,n,r,i,s){const o=n[16],l=o[6].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)As(e,t,i,l[u],s);else wf(t,e,l,o[3],i,s,!0)}function GI(t,e,n){t.setAttribute(e,"style",n)}function Cf(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function zI(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const qI="ng-template";function NF(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==zI(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function KI(t){return 4===t.type&&t.value!==qI}function OF(t,e,n){return e===(4!==t.type||n?t.value:qI)}function FF(t,e,n){let r=4;const i=t.attrs||[],s=function VF(t){for(let e=0;e<t.length;e++)if(vC(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!OF(t,l,n)||""===l&&1===e.length){if(mn(r))return!1;o=!0}}else{const u=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!NF(t.attrs,u,n)){if(mn(r))return!1;o=!0}continue}const d=LF(8&r?"class":l,i,KI(t),n);if(-1===d){if(mn(r))return!1;o=!0;continue}if(""!==u){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==zI(f,u,0)||2&r&&u!==h){if(mn(r))return!1;o=!0}}}}else{if(!o&&!mn(r)&&!mn(l))return!1;if(o&&mn(l))continue;o=!1,r=l|1&r}}return mn(r)||o}function mn(t){return 0==(1&t)}function LF(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function BF(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function QI(t,e,n=!1){for(let r=0;r<e.length;r++)if(FF(t,e[r],n))return!0;return!1}function YI(t,e){return t?":not("+e.trim()+")":e}function $F(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!mn(o)&&(e+=YI(s,i),i=""),r=o,s=s||!mn(r);n++}return""!==i&&(e+=YI(s,i)),e}const W={};function S(t){JI(ne(),C(),Et()+t,!1)}function JI(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&ql(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Kl(e,s,0,n)}Nr(n)}function tb(t,e=null,n=null,r){const i=nb(t,e,n,r);return i.resolveInjectorInitializers(),i}function nb(t,e=null,n=null,r,i=new Set){const s=[n||ae,DO(t)];return r=r||("object"==typeof t?void 0:me(t)),new hI(s,e||du(),r||null,i)}let qt=(()=>{class t{static create(n,r){if(Array.isArray(n))return tb({name:""},r,n,"");{const i=n.name??"";return tb({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=Wo,t.NULL=new aI,t.\u0275prov=Q({token:t,providedIn:"any",factory:()=>x(sI)}),t.__NG_ELEMENT_ID__=-1,t})();function k(t,e=O.Default){const n=C();return null===n?x(t,e):SC($e(),n,B(t),e)}function Sf(){throw new Error("invalid")}function vb(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];Ih(i),o.contentQueries(2,e[s],s)}}}function Eu(t,e,n,r,i,s,o,a,l,u,c){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==c||t&&1024&t[2])&&(d[2]|=1024),oC(d),d[3]=d[15]=t,d[8]=n,d[10]=o||t&&t[10],d[K]=a||t&&t[K],d[12]=l||t&&t[12]||null,d[9]=u||t&&t[9]||null,d[6]=s,d[20]=function tF(){return eF++}(),d[21]=c,d[16]=2==e.type?t[16]:d,d}function Rs(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Vf(t,e,n,r,i){const s=uC(),o=vh(),l=t.data[e]=function DL(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(t,e,n,r,i),function t1(){return $.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Oo(){const t=$.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return xn(s,!0),s}function Ps(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function wu(t,e,n){bh(e);try{const r=t.viewQuery;null!==r&&Kf(1,r,n);const i=t.template;null!==i&&Eb(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&vb(t,e),t.staticViewQueries&&Kf(2,t.viewQuery,n);const s=t.components;null!==s&&function wL(t,e){for(let n=0;n<e.length;n++)jL(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,Dh()}}function ia(t,e,n,r){const i=e[2];if(128!=(128&i)){bh(e);try{oC(e),function cC(t){return $.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&Eb(t,e,n,2,r);const o=3==(3&i);if(o){const u=t.preOrderCheckHooks;null!==u&&ql(e,u,null)}else{const u=t.preOrderHooks;null!==u&&Kl(e,u,0,null),Th(e,0)}if(function VL(t){for(let e=ff(t);null!==e;e=pf(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(512&i[2])&&yh(s,1),i[2]|=512}}}(e),function UL(t){for(let e=ff(t);null!==e;e=pf(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];_h(r)&&ia(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&vb(t,e),o){const u=t.contentCheckHooks;null!==u&&ql(e,u)}else{const u=t.contentHooks;null!==u&&Kl(e,u,1),Th(e,1)}!function vL(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Nr(~i);else{const s=i,o=n[++r],a=n[++r];n1(o,s),a(2,e[s])}}}finally{Nr(-1)}}(t,e);const a=t.components;null!==a&&function EL(t,e){for(let n=0;n<e.length;n++)BL(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&Kf(2,l,r),o){const u=t.viewCheckHooks;null!==u&&ql(e,u)}else{const u=t.viewHooks;null!==u&&Kl(e,u,2),Th(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,yh(e[3],-1))}finally{Dh()}}}function CL(t,e,n,r){const i=e[10],o=function sC(t){return 4==(4&t[2])}(e);try{!o&&i.begin&&i.begin(),o&&wu(t,e,r),ia(t,e,n,r)}finally{!o&&i.end&&i.end()}}function Eb(t,e,n,r,i){const s=Et(),o=2&r;try{Nr(-1),o&&e.length>22&&JI(t,e,22,!1),n(r,i)}finally{Nr(s)}}function Bf(t,e,n){!lC()||(function RL(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Uo(n,e),ht(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const l=t.data[a],u=gn(l);u&&OL(e,n,l);const c=Vo(e,t,a,n);ht(c,e),null!==o&&FL(0,a-i,c,l,0,o),u&&(Wt(n.index,e)[8]=c)}}(t,e,n,nn(n,e)),128==(128&n.flags)&&function PL(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function r1(){return $.lFrame.currentDirectiveIndex}();try{Nr(s);for(let a=r;a<i;a++){const l=t.data[a],u=e[a];wh(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&Ab(l,u)}}finally{Nr(-1),wh(o)}}(t,e,n))}function jf(t,e,n=nn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Cb(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=$f(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function $f(t,e,n,r,i,s,o,a,l,u){const c=22+r,d=c+i,h=function IL(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:W);return n}(c,d),f="function"==typeof u?u():u;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function bb(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Db(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,l=null;for(let u=e.directiveStart;u<r;u++){const c=i[u],d=c.inputs,h=null===s||KI(e)?null:LL(d,s);o.push(h),a=bb(d,u,a),l=bb(c.outputs,u,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=l}function Kt(t,e,n,r,i,s,o,a){const l=nn(e,n);let c,u=e.inputs;!a&&null!=u&&(c=u[r])?(Qf(t,n,c,r,i),$l(e)&&Tb(n,e.index)):3&e.type&&(r=function TL(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}function Tb(t,e){const n=Wt(e,t);16&n[2]||(n[2]|=32)}function Hf(t,e,n,r){let i=!1;if(lC()){const s=function kL(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];QI(n,o.selectors,!1)&&(i||(i=[]),Xl(Uo(n,e),t,o.type),gn(o)?(Mb(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Rb(n,t.data.length,s.length);for(let c=0;c<s.length;c++){const d=s[c];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,u=Ps(t,e,s.length,null);for(let c=0;c<s.length;c++){const d=s[c];n.mergedAttrs=Yl(n.mergedAttrs,d.hostAttrs),Pb(t,n,e,u,d),NL(u,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),l=!0),u++}Db(t,n)}o&&function xL(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new P(-301,!1);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=Yl(n.mergedAttrs,n.attrs),i}function Sb(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const l=~e.index;(function ML(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=l&&a.push(l),a.push(r,i,o)}}function Ab(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Mb(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function NL(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;gn(e)&&(n[""]=t)}}function Rb(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Pb(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=gi(i.type)),o=new Fo(s,gn(i),k);t.blueprint[r]=o,n[r]=o,Sb(t,e,0,r,Ps(t,n,i.hostVars,W),i)}function OL(t,e,n){const r=nn(e,t),i=Cb(n),s=t[10],o=Cu(t,Eu(t,i,null,n.onPush?32:16,r,e,s,s.createRenderer(r,n),null,null,null));t[e.index]=o}function Fn(t,e,n,r,i,s){const o=nn(t,e);!function Wf(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?H(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[K],o,s,t.value,n,r,i)}function FL(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const u=o[l++],c=o[l++],d=o[l++];null!==a?r.setInput(n,d,u,c):n[c]=d}}}function LL(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function kb(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function BL(t,e){const n=Wt(e,t);if(_h(n)){const r=n[1];48&n[2]?ia(r,n,r.template,n[8]):n[5]>0&&Gf(n)}}function Gf(t){for(let r=ff(t);null!==r;r=pf(r))for(let i=10;i<r.length;i++){const s=r[i];if(512&s[2]){const o=s[1];ia(o,s,o.template,s[8])}else s[5]>0&&Gf(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Wt(n[r],t);_h(i)&&i[5]>0&&Gf(i)}}function jL(t,e){const n=Wt(e,t),r=n[1];(function $L(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),wu(r,n,n[8])}function Cu(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function zf(t){for(;t;){t[2]|=32;const e=na(t);if(NN(t)&&!e)return t;t=e}return null}function Nb(t){!function xb(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=cf(n);if(null!==r){const i=r[1];CL(i,r,i.template,n)}}}(t[8])}function Kf(t,e,n){Ih(0),e(t,n)}const WL=(()=>Promise.resolve(null))();function Ob(t){return t[7]||(t[7]=[])}function Fb(t){return t.cleanup||(t.cleanup=[])}function Ub(t,e){const n=t[9],r=n?n.get(Ts,null):null;r&&r.handleError(e)}function Qf(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=e[o],u=t.data[o];null!==u.setInput?u.setInput(l,i,r,a):l[a]=i}}function lr(t,e,n){const r=function Wl(t,e){return Ne(e[t])}(e,t);!function PI(t,e,n){t.setValue(e,n)}(t[K],r,n)}function Iu(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=th(i,a):2==s&&(r=th(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function bu(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Ne(s)),pn(s))for(let a=10;a<s.length;a++){const l=s[a],u=l[1].firstChild;null!==u&&bu(l[1],l,u,r)}const o=n.type;if(8&o)bu(t,e,n.child,r);else if(32&o){const a=hf(n,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=$I(e,n);if(Array.isArray(a))r.push(...a);else{const l=na(e[16]);bu(l[1],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class sa{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return bu(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(pn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(_f(e,r),tu(n,r))}this._attachedToViewContainer=!1}xI(this._lView[1],this._lView)}onDestroy(e){!function Ib(t,e,n,r){const i=Ob(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Fb(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){zf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function qf(t,e,n){const r=e[10];r.begin&&r.begin();try{ia(t,e,t.template,n)}catch(i){throw Ub(e,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function IF(t,e){ra(t,e,e[K],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=e}}class GL extends sa{constructor(e){super(e),this._view=e}detectChanges(){Nb(this._view)}checkNoChanges(){}get context(){return null}}class Yf extends Xo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=he(e);return new oa(n,this.ngModule)}}function Vb(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class qL{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){const i=this.injector.get(e,Xh,r);return i!==Xh||n===Xh?i:this.parentInjector.get(e,n,r)}}class oa extends pI{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function HF(t){return t.map($F).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return Vb(this.componentDef.inputs)}get outputs(){return Vb(this.componentDef.outputs)}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Ur?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new qL(e,s):e,a=o.get(mI,null);if(null===a)throw new P(407,!1);const l=o.get(jO,null),u=a.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",d=r?function bL(t,e,n){return t.selectRootElement(e,n===kn.ShadowDom)}(u,r,this.componentDef.encapsulation):mf(a.createRenderer(null,this.componentDef),c,function zL(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),h=this.componentDef.onPush?288:272,f=function ZL(t,e){return{components:[],scheduler:t||dF,clean:WL,playerHandler:e||null,flags:0}}(),p=$f(0,null,null,1,0,null,null,null,null,null),g=Eu(null,p,f,h,null,null,a,u,l,o,null);let y,I;bh(g);try{const D=function YL(t,e,n,r,i,s){const o=n[1];n[22]=t;const l=Rs(o,22,2,"#host",null),u=l.mergedAttrs=e.hostAttrs;null!==u&&(Iu(l,u,!0),null!==t&&(Ql(i,t,u),null!==l.classes&&Cf(i,t,l.classes),null!==l.styles&&GI(i,t,l.styles)));const c=r.createRenderer(t,e),d=Eu(n,Cb(e),null,e.onPush?32:16,n[22],l,r,c,s||null,null,null);return o.firstCreatePass&&(Xl(Uo(l,n),o,e.type),Mb(o,l),Rb(l,n.length,1)),Cu(n,d),n[22]=d}(d,this.componentDef,g,a,u);if(d)if(r)Ql(u,d,["ng-version",_I.full]);else{const{attrs:v,classes:R}=function WF(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!mn(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);v&&Ql(u,d,v),R&&R.length>0&&Cf(u,d,R.join(" "))}if(I=mh(p,22),void 0!==n){const v=I.projection=[];for(let R=0;R<this.ngContentSelectors.length;R++){const V=n[R];v.push(null!=V?Array.from(V):null)}}y=function JL(t,e,n,r,i){const s=n[1],o=function AL(t,e,n){const r=$e();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Pb(t,r,e,Ps(t,e,1,null),n),Db(t,r));const i=Vo(e,t,r.directiveStart,r);ht(i,e);const s=nn(r,e);return s&&ht(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,null!==i)for(const l of i)l(o,e);if(e.contentQueries){const l=$e();e.contentQueries(1,o,l.directiveStart)}const a=$e();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Nr(a.index),Sb(n[1],a,0,a.directiveStart,a.directiveEnd,e),Ab(e,o)),o}(D,this.componentDef,g,f,[XL]),wu(p,g,null)}finally{Dh()}return new QL(this.componentType,y,Ds(I,g),g,I)}}class QL extends class OO{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new GL(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;Qf(s[1],s,i,e,n),Tb(s,this._tNode.index)}}get injector(){return new gs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function XL(){const t=$e();zl(C()[1],t)}let Du=null;function wi(){if(!Du){const t=pe.Symbol;if(t&&t.iterator)Du=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Du=r)}}}return Du}function aa(t){return!!function Zf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&wi()in t)}function ft(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Xf(t,e,n,r){const i=C();return ft(i,hs(),e)&&(ne(),Fn(Me(),i,t,e,n,r)),Xf}function xs(t,e,n,r){return ft(t,hs(),n)?e+H(n)+r:W}function Ct(t,e,n,r,i,s,o,a){const l=C(),u=ne(),c=t+22,d=u.firstCreatePass?function h2(t,e,n,r,i,s,o,a,l){const u=e.consts,c=Rs(e,t,4,o||null,xr(u,a));Hf(e,n,c,xr(u,l)),zl(e,c);const d=c.tViews=$f(2,c,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,u,l,e,n,r,i,s,o):u.data[c];xn(d,!1);const h=l[K].createComment("");pu(u,l,h,d),ht(h,l),Cu(l,l[c]=kb(h,l,h,d)),Hl(d)&&Bf(u,l,d),null!=o&&jf(l,d,a)}function fe(t,e,n){const r=C();return ft(r,hs(),e)&&Kt(ne(),Me(),r,t,e,r[K],n,!1),fe}function ep(t,e,n,r,i){const o=i?"class":"style";Qf(t,n,e.inputs[o],o,r)}function m(t,e,n,r){const i=C(),s=ne(),o=22+t,a=i[K],l=i[o]=mf(a,e,function u1(){return $.lFrame.currentNamespace}()),u=s.firstCreatePass?function g2(t,e,n,r,i,s,o){const a=e.consts,u=Rs(e,t,2,i,xr(a,s));return Hf(e,n,u,xr(a,o)),null!==u.attrs&&Iu(u,u.attrs,!1),null!==u.mergedAttrs&&Iu(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];xn(u,!0);const c=u.mergedAttrs;null!==c&&Ql(a,l,c);const d=u.classes;null!==d&&Cf(a,l,d);const h=u.styles;return null!==h&&GI(a,l,h),64!=(64&u.flags)&&pu(s,i,l,u),0===function qN(){return $.lFrame.elementDepthCount}()&&ht(l,i),function KN(){$.lFrame.elementDepthCount++}(),Hl(u)&&(Bf(s,i,u),function wb(t,e,n){if(dh(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,u,i)),null!==r&&jf(i,u),m}function _(){let t=$e();vh()?function Eh(){$.lFrame.isParent=!1}():(t=t.parent,xn(t,!1));const e=t;!function QN(){$.lFrame.elementDepthCount--}();const n=ne();return n.firstCreatePass&&(zl(n,t),dh(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function p1(t){return 0!=(16&t.flags)}(e)&&ep(n,e,C(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function g1(t){return 0!=(32&t.flags)}(e)&&ep(n,e,C(),e.stylesWithoutHost,!1),_}function N(t,e,n,r){return m(t,e,n,r),_(),N}function Su(t){return!!t&&"function"==typeof t.then}const Xb=function Zb(t){return!!t&&"function"==typeof t.subscribe};function Au(t,e,n,r){const i=C(),s=ne(),o=$e();return function tD(t,e,n,r,i,s,o,a){const l=Hl(r),c=t.firstCreatePass&&Fb(t),d=e[8],h=Ob(e);let f=!0;if(3&r.type||a){const y=nn(r,e),I=a?a(y):y,D=h.length,v=a?V=>a(Ne(V[r.index])):r.index;let R=null;if(!a&&l&&(R=function y2(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==R)(R.__ngLastListenerFn__||R).__ngNextListenerFn__=s,R.__ngLastListenerFn__=s,f=!1;else{s=rD(r,e,d,s,!1);const V=n.listen(I,i,s);h.push(s,V),c&&c.push(i,v,D,D+1)}}else s=rD(r,e,d,s,!1);const p=r.outputs;let g;if(f&&null!==p&&(g=p[i])){const y=g.length;if(y)for(let I=0;I<y;I+=2){const se=e[g[I]][g[I+1]].subscribe(s),Jn=h.length;h.push(s,se),c&&c.push(i,r.index,Jn,-(Jn+1))}}}(s,i,i[K],o,t,e,0,r),Au}function nD(t,e,n,r){try{return!1!==n(r)}catch(i){return Ub(t,i),!1}}function rD(t,e,n,r,i){return function s(o){if(o===Function)return r;zf(2&t.flags?Wt(t.index,e):e);let l=nD(e,0,r,o),u=s.__ngNextListenerFn__;for(;u;)l=nD(e,0,u,o)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function We(t,e,n){return rp(t,"",e,"",n),We}function rp(t,e,n,r,i){const s=C(),o=xs(s,e,n,r);return o!==W&&Kt(ne(),Me(),s,t,o,s[K],i,!1),rp}function w(t,e=""){const n=C(),r=ne(),i=t+22,s=r.firstCreatePass?Rs(r,i,1,e,null):r.data[i],o=n[i]=function gf(t,e){return t.createText(e)}(n[K],e);pu(r,n,o,s),xn(s,!1)}function le(t){return $s("",t,""),le}function $s(t,e,n){const r=C(),i=xs(r,t,e,n);return i!==W&&lr(r,Et(),i),$s}const Ws="en-US";let KD=Ws;class bi{}class ET{}class wT extends bi{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Yf(this);const r=$t(e);this._bootstrapComponents=or(r.bootstrap),this._r3Injector=nb(e,n,[{provide:bi,useValue:this},{provide:Xo,useValue:this.componentFactoryResolver}],me(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class dp extends ET{constructor(e){super(),this.moduleType=e}create(e){return new wT(this.moduleType,e)}}class aV extends bi{constructor(e,n,r){super(),this.componentFactoryResolver=new Yf(this),this.instance=null;const i=new hI([...e,{provide:bi,useValue:this},{provide:Xo,useValue:this.componentFactoryResolver}],n||du(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Nu(t,e,n=null){return new aV(t,e,n).injector}function kt(t,e,n){const r=function vt(){const t=$.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}()+t,i=C();return i[r]===W?function Ln(t,e,n){return t[e]=n}(i,r,n?e.call(n):e()):function la(t,e){return t[e]}(i,r)}function fp(t){return e=>{setTimeout(t,void 0,e)}}const bt=class NV extends Mn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=fp(s),i&&(i=fp(i)),o&&(o=fp(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Vt&&e.add(a),a}};let ur=(()=>{class t{}return t.__NG_ELEMENT_ID__=UV,t})();const FV=ur,LV=class extends FV{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e,n){const r=this._declarationTContainer.tViews,i=Eu(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,n||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),wu(r,i,e),new sa(i)}};function UV(){return function Ou(t,e){return 4&t.type?new LV(e,t,Ds(t,e)):null}($e(),C())}let En=(()=>{class t{}return t.__NG_ELEMENT_ID__=VV,t})();function VV(){return function OT(t,e){let n;const r=e[t.index];if(pn(r))n=r;else{let i;if(8&t.type)i=Ne(r);else{const s=e[K];i=s.createComment("");const o=nn(t,e);Ei(s,fu(s,o),i,function RF(t,e){return t.nextSibling(e)}(s,o),!1)}e[t.index]=n=kb(r,e,i,t),Cu(e,n)}return new xT(n,t,e)}($e(),C())}const BV=En,xT=class extends BV{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ds(this._hostTNode,this._hostLView)}get injector(){return new gs(this._hostTNode,this._hostLView)}get parentInjector(){const e=Zl(this._hostTNode,this._hostLView);if(CC(e)){const n=ps(e,this._hostLView),r=fs(e);return new gs(n[1].data[r+8],n)}return new gs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=NT(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(n||{},s);return this.insert(o,i),o}createComponent(e,n,r,i,s){const o=e&&!function $o(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const l=o?e:new oa(he(e)),u=r||this.parentInjector;if(!s&&null==l.ngModule){const h=(o?u:this.parentInjector).get(Ur,null);h&&(s=h)}const c=l.create(u,i,void 0,s);return this.insert(c.hostView,a),c}insert(e,n){const r=e._lView,i=r[1];if(function zN(t){return pn(t[3])}(r)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const d=r[3],h=new xT(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function DF(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],xC(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function TF(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=64}(i,r,o,s);const a=Ef(s,o),l=r[K],u=fu(l,o[7]);return null!==u&&function CF(t,e,n,r,i,s){r[0]=i,r[6]=e,ra(t,r,n,1,i,s)}(i,o[6],l,r,u,a),e.attachToViewContainerRef(),xC(gp(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=NT(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=_f(this._lContainer,n);r&&(tu(gp(this._lContainer),n),xI(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=_f(this._lContainer,n);return r&&null!=tu(gp(this._lContainer),n)?new sa(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function NT(t){return t[8]}function gp(t){return t[8]||(t[8]=[])}function Lu(...t){}const Uu=new j("Application Initializer");let Vu=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Lu,this.reject=Lu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Su(s))n.push(s);else if(Xb(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(x(Uu,8))},t.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const _a=new j("AppId",{providedIn:"root",factory:function o0(){return`${Ap()}${Ap()}${Ap()}`}});function Ap(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const a0=new j("Platform Initializer"),Bu=new j("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),l0=new j("appBootstrapListener");let mB=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const cr=new j("LocaleId",{providedIn:"root",factory:()=>Fr(cr,O.Optional|O.SkipSelf)||function _B(){return typeof $localize<"u"&&$localize.locale||Ws}()});class vB{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let Mp=(()=>{class t{compileModuleSync(n){return new dp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=or($t(n).declarations).reduce((o,a)=>{const l=he(a);return l&&o.push(new oa(l)),o},[]);return new vB(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const CB=(()=>Promise.resolve(0))();function Rp(t){typeof Zone>"u"?CB.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class De{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bt(!1),this.onMicrotaskEmpty=new bt(!1),this.onStable=new bt(!1),this.onError=new bt(!1),typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const s=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new s("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function IB(){let t=pe.requestAnimationFrame,e=pe.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function TB(t){const e=()=>{!function DB(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(pe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,kp(t),t.isCheckStableRunning=!0,Pp(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),kp(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return d0(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),h0(t)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return d0(t),n.invoke(i,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),h0(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,kp(t),Pp(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!De.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(De.isInAngularZone())throw new P(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,bB,Lu,Lu);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const bB={};function Pp(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function kp(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function d0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function h0(t){t._nesting--,Pp(t)}class SB{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bt,this.onMicrotaskEmpty=new bt,this.onStable=new bt,this.onError=new bt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const f0=new j(""),ju=new j("");let Op,xp=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Op||(function AB(t){Op=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{De.assertNotInAngularZone(),Rp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Rp(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(x(De),x(Np),x(ju))},t.\u0275prov=Q({token:t,factory:t.\u0275fac}),t})(),Np=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Op?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),$r=null;const p0=new j("AllowMultipleToken"),Fp=new j("PlatformDestroyListeners");class g0{constructor(e,n){this.name=e,this.token=n}}function _0(t,e,n=[]){const r=`Platform: ${e}`,i=new j(r);return(s=[])=>{let o=Lp();if(!o||o.injector.get(p0,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function PB(t){if($r&&!$r.get(p0,!1))throw new P(400,!1);$r=t;const e=t.get(v0);(function m0(t){const e=t.get(a0,null);e&&e.forEach(n=>n())})(t)}(function y0(t=[],e){return qt.create({name:e,providers:[{provide:Qh,useValue:"platform"},{provide:Fp,useValue:new Set([()=>$r=null])},...t]})}(a,r))}return function xB(t){const e=Lp();if(!e)throw new P(401,!1);return e}()}}function Lp(){return $r?.get(v0)??null}let v0=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function NB(t,e){let n;return n="noop"===t?new SB:("zone.js"===t?void 0:t)||new De(e),n}(r?.ngZone,function E0(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:De,useValue:i}];return i.run(()=>{const o=qt.create({providers:s,parent:this.injector,name:n.moduleType.name}),a=n.create(o),l=a.injector.get(Ts,null);if(!l)throw new P(402,!1);return i.runOutsideAngular(()=>{const u=i.onError.subscribe({next:c=>{l.handleError(c)}});a.onDestroy(()=>{Hu(this._modules,a),u.unsubscribe()})}),function w0(t,e,n){try{const r=n();return Su(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(l,i,()=>{const u=a.injector.get(Vu);return u.runInitializers(),u.donePromise.then(()=>(function QD(t){jt(t,"Expected localeId to be defined"),"string"==typeof t&&(KD=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(cr,Ws)||Ws),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=C0({},r);return function MB(t,e,n){const r=new dp(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get($u);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new P(403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new P(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Fp,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(x(qt))},t.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function C0(t,e){return Array.isArray(e)?e.reduce(C0,t):{...t,...e}}let $u=(()=>{class t{constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Pe(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Pe(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{De.assertNotInAngularZone(),Rp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{De.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),u.unsubscribe()}});this.isStable=function gN(...t){const e=Ro(t),n=function lN(t,e){return"number"==typeof Zd(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Rn(r[0]):ss(n)(je(r,e)):Xn}(s,o.pipe(function mN(t={}){const{connector:e=(()=>new Mn),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,l,u=0,c=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,c=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return Qe((g,y)=>{u++,!d&&!c&&h();const I=l=l??e();y.add(()=>{u--,0===u&&!d&&!c&&(a=Xd(p,i))}),I.subscribe(y),!o&&u>0&&(o=new Mo({next:D=>I.next(D),error:D=>{d=!0,h(),a=Xd(f,n,D),I.error(D)},complete:()=>{c=!0,h(),a=Xd(f,r),I.complete()}}),Rn(g).subscribe(o))})(s)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof pI;if(!this._injector.get(Vu).done)throw!i&&function qs(t){const e=he(t)||_t(t)||yt(t);return null!==e&&e.standalone}(n),new P(405,false);let o;o=i?n:this._injector.get(Xo).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function RB(t){return t.isBoundToModule}(o)?void 0:this._injector.get(bi),u=o.create(qt.NULL,[],r||o.selector,a),c=u.location.nativeElement,d=u.injector.get(f0,null);return d?.registerApplication(c),u.onDestroy(()=>{this.detachView(u.hostView),Hu(this.components,u),d?.unregisterApplication(c)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new P(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Hu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(l0,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Hu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new P(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)(x(De),x(Ur),x(Ts))},t.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Hu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let b0=!0,Up=(()=>{class t{}return t.__NG_ELEMENT_ID__=LB,t})();function LB(t){return function UB(t,e,n){if($l(t)&&!n){const r=Wt(t.index,e);return new sa(r,r)}return 47&t.type?new sa(e[16],e):null}($e(),C(),16==(16&t))}class M0{constructor(){}supports(e){return aa(e)}create(e){return new WB(e)}}const HB=(t,e)=>e;class WB{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||HB}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<P0(r,i,s)?n:r,a=P0(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const u=a-i,c=l-i;if(u!=c){for(let h=0;h<u;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;c<=p&&p<u&&(s[h]=f+1)}s[o.previousIndex]=c-u}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!aa(e))throw new P(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function l2(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[wi()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new GB(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new R0),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new R0),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class GB{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zB{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class R0{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new zB,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function P0(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function x0(){return new zu([new M0])}let zu=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||x0()),deps:[[t,new qo,new it]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new P(901,!1)}}return t.\u0275prov=Q({token:t,providedIn:"root",factory:x0}),t})();const JB=_0(null,"core",[]);let ZB=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(x($u))},t.\u0275mod=nr({type:t}),t.\u0275inj=Pn({}),t})();function Qs(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let qu=null;function Hr(){return qu}const xt=new j("DocumentToken");let Ku=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Q({token:t,factory:function(){return function nj(){return x(O0)}()},providedIn:"platform"}),t})();const rj=new j("Location Initialized");let O0=(()=>{class t extends Ku{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Hr().getBaseHref(this._doc)}onPopState(n){const r=Hr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Hr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){F0()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){F0()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(x(xt))},t.\u0275prov=Q({token:t,factory:function(){return function ij(){return new O0(x(xt))}()},providedIn:"platform"}),t})();function F0(){return!!window.history.pushState}function Hp(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function L0(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function hr(t){return t&&"?"!==t[0]?"?"+t:t}let Ti=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Q({token:t,factory:function(){return function sj(){const t=x(xt).location;return new V0(x(Ku),t&&t.origin||"")}()},providedIn:"root"}),t})();const U0=new j("appBaseHref");let V0=(()=>{class t extends Ti{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Hp(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+hr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+hr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+hr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(x(Ku),x(U0,8))},t.\u0275prov=Q({token:t,factory:t.\u0275fac}),t})(),oj=(()=>{class t extends Ti{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Hp(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+hr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+hr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(x(Ku),x(U0,8))},t.\u0275prov=Q({token:t,factory:t.\u0275fac}),t})(),Wp=(()=>{class t{constructor(n){this._subject=new bt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._baseHref=L0(B0(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+hr(r))}normalize(n){return t.stripTrailingSlash(function lj(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,B0(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+hr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+hr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=hr,t.joinWithSlash=Hp,t.stripTrailingSlash=L0,t.\u0275fac=function(n){return new(n||t)(x(Ti))},t.\u0275prov=Q({token:t,factory:function(){return function aj(){return new Wp(x(Ti))}()},providedIn:"root"}),t})();function B0(t){return t.replace(/\/index.html$/,"")}class Kj{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let wa=(()=>{class t{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Kj(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),J0(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{J0(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(k(En),k(ur),k(zu))},t.\u0275dir=ut({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function J0(t,e){t.context.$implicit=e.item}let b$=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=nr({type:t}),t.\u0275inj=Pn({}),t})();let A$=(()=>{class t{}return t.\u0275prov=Q({token:t,providedIn:"root",factory:()=>new M$(x(xt),window)}),t})();class M${constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function R$(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=nS(this.window.history)||nS(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function nS(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class ig extends class k$ extends class tj{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ej(t){qu||(qu=t)}(new ig)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function x$(){return Ca=Ca||document.querySelector("base"),Ca?Ca.getAttribute("href"):null}();return null==n?null:function N$(t){ic=ic||document.createElement("a"),ic.setAttribute("href",t);const e=ic.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Ca=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Gj(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let ic,Ca=null;const rS=new j("TRANSITION_ID"),F$=[{provide:Uu,useFactory:function O$(t,e,n){return()=>{n.get(Vu).donePromise.then(()=>{const r=Hr(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[rS,xt,qt],multi:!0}];let U$=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Q({token:t,factory:t.\u0275fac}),t})();const sc=new j("EventManagerPlugins");let oc=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(x(sc),x(De))},t.\u0275prov=Q({token:t,factory:t.\u0275fac}),t})();class iS{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=Hr().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let sS=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Q({token:t,factory:t.\u0275fac}),t})(),Ia=(()=>{class t extends sS{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(oS),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(oS))}}return t.\u0275fac=function(n){return new(n||t)(x(xt))},t.\u0275prov=Q({token:t,factory:t.\u0275fac}),t})();function oS(t){Hr().remove(t)}const sg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},og=/%COMP%/g;function ac(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ac(t,i,n):(i=i.replace(og,t),n.push(i))}return n}function uS(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let ag=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new lg(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case kn.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new W$(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case kn.ShadowDom:return new G$(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=ac(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(x(oc),x(Ia),x(_a))},t.\u0275prov=Q({token:t,factory:t.\u0275fac}),t})();class lg{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(sg[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(dS(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(dS(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=sg[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=sg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Pt.DashCase|Pt.Important)?e.style.setProperty(n,r,i&Pt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Pt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,uS(r)):this.eventManager.addEventListener(e,n,uS(r))}}function dS(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class W$ extends lg{constructor(e,n,r,i){super(e),this.component=r;const s=ac(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr=function j$(t){return"_ngcontent-%COMP%".replace(og,t)}(i+"-"+r.id),this.hostAttr=function $$(t){return"_nghost-%COMP%".replace(og,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class G$ extends lg{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=ac(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let z$=(()=>{class t extends iS{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(x(xt))},t.\u0275prov=Q({token:t,factory:t.\u0275fac}),t})();const hS=["alt","control","meta","shift"],K$={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fS={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Q$={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Y$=(()=>{class t extends iS{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Hr().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="";if(hS.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function J$(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&fS.hasOwnProperty(e)&&(e=fS[e]))}return K$[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),hS.forEach(s=>{s!=i&&(0,Q$[s])(n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{t.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(x(xt))},t.\u0275prov=Q({token:t,factory:t.\u0275fac}),t})();const tH=_0(JB,"browser",[{provide:Bu,useValue:"browser"},{provide:a0,useValue:function Z$(){ig.makeCurrent()},multi:!0},{provide:xt,useFactory:function eH(){return function Z1(t){Vh=t}(document),document},deps:[]}]),gS=new j(""),mS=[{provide:ju,useClass:class L${addToWindow(e){pe.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},pe.getAllAngularTestabilities=()=>e.getAllTestabilities(),pe.getAllAngularRootElements=()=>e.getAllRootElements(),pe.frameworkStabilizers||(pe.frameworkStabilizers=[]),pe.frameworkStabilizers.push(r=>{const i=pe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Hr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:f0,useClass:xp,deps:[De,Np,ju]},{provide:xp,useClass:xp,deps:[De,Np,ju]}],_S=[{provide:Qh,useValue:"root"},{provide:Ts,useFactory:function X$(){return new Ts},deps:[]},{provide:sc,useClass:z$,multi:!0,deps:[xt,De,Bu]},{provide:sc,useClass:Y$,multi:!0,deps:[xt]},{provide:ag,useClass:ag,deps:[oc,Ia,_a]},{provide:mI,useExisting:ag},{provide:sS,useExisting:Ia},{provide:Ia,useClass:Ia,deps:[xt]},{provide:oc,useClass:oc,deps:[sc,De]},{provide:class P${},useClass:U$,deps:[]},[]];let nH=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:_a,useValue:n.appId},{provide:rS,useExisting:_a},F$]}}}return t.\u0275fac=function(n){return new(n||t)(x(gS,12))},t.\u0275mod=nr({type:t}),t.\u0275inj=Pn({providers:[..._S,...mS],imports:[b$,ZB]}),t})(),yS=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(x(xt))},t.\u0275prov=Q({token:t,factory:function(n){let r=null;return r=n?new n:function iH(){return new yS(x(xt))}(),r},providedIn:"root"}),t})();function L(...t){return je(t,Ro(t))}typeof window<"u"&&window;class bn extends Mn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:fH}=Array,{getPrototypeOf:pH,prototype:gH,keys:mH}=Object;const{isArray:vH}=Array;function wS(...t){const e=Ro(t),n=function aN(t){return ye(Zd(t))?t.pop():void 0}(t),{args:r,keys:i}=function _H(t){if(1===t.length){const e=t[0];if(fH(e))return{args:e,keys:null};if(function yH(t){return t&&"object"==typeof t&&pH(t)===gH}(e)){const n=mH(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return je([],e);const s=new Pe(function IH(t,e,n=ui){return r=>{CS(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)CS(e,()=>{const u=je(t[l],e);let c=!1;u.subscribe(Ye(r,d=>{s[l]=d,c||(c=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>function CH(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,o):ui));return n?s.pipe(function wH(t){return re(e=>function EH(t,e){return vH(e)?t(...e):t(e)}(t,e))}(n)):s}function CS(t,e,n){t?Zn(n,t,e):e()}function dg(...t){return function bH(){return ss(1)}()(je(t,Ro(t)))}function IS(t){return new Pe(e=>{Rn(t()).subscribe(e)})}function ba(t,e){const n=ye(t)?t:()=>t,r=i=>i.error(n());return new Pe(e?i=>e.schedule(r,0,i):r)}const Ys=Ao(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function hg(){return Qe((t,e)=>{let n=null;t._refCount++;const r=Ye(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class bS extends Pe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Rw(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Vt;const n=this.getSubject();e.add(this.source.subscribe(Ye(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Vt.EMPTY)}return e}refCount(){return hg()(this)}}function Bn(t,e){return Qe((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(Ye(r,l=>{i?.unsubscribe();let u=0;const c=s++;Rn(t(l,c)).subscribe(i=Ye(r,d=>r.next(e?e(l,d,c,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Da(t){return t<=0?()=>Xn:Qe((e,n)=>{let r=0;e.subscribe(Ye(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Gr(t,e){return Qe((n,r)=>{let i=0;n.subscribe(Ye(r,s=>t.call(e,s,i++)&&r.next(s)))})}function lc(t){return Qe((e,n)=>{let r=!1;e.subscribe(Ye(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function DS(t=TH){return Qe((e,n)=>{let r=!1;e.subscribe(Ye(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function TH(){return new Ys}function zr(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Gr((i,s)=>t(i,s,r)):ui,Da(1),n?lc(e):DS(()=>new Ys))}function Si(t,e){return ye(e)?rt(t,e,1):rt(t,1)}function st(t,e,n){const r=ye(t)||e||n?{next:t,error:e,complete:n}:t;return r?Qe((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Ye(s,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),s.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):ui}function qr(t){return Qe((e,n)=>{let s,r=null,i=!1;r=e.subscribe(Ye(n,void 0,void 0,o=>{s=Rn(t(o,qr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function SH(t,e,n,r,i){return(s,o)=>{let a=n,l=e,u=0;s.subscribe(Ye(o,c=>{const d=u++;l=a?t(l,c,d):(a=!0,c),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function TS(t,e){return Qe(SH(t,e,arguments.length>=2,!0))}function fg(t){return t<=0?()=>Xn:Qe((e,n)=>{let r=[];e.subscribe(Ye(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function SS(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Gr((i,s)=>t(i,s,r)):ui,fg(1),n?lc(e):DS(()=>new Ys))}function pg(t){return Qe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const Y="primary";class RH{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Js(t){return new RH(t)}function PH(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function jn(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!AS(t[i],e[i]))return!1;return!0}function AS(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function MS(t){return Array.prototype.concat.apply([],t)}function RS(t){return t.length>0?t[t.length-1]:null}function ot(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function pr(t){return Xb(t)?t:Su(t)?je(Promise.resolve(t)):L(t)}const NH={exact:function xS(t,e,n){if(!Mi(t.segments,e.segments)||!uc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!xS(t.children[r],e.children[r],n))return!1;return!0},subset:NS},PS={exact:function OH(t,e){return jn(t,e)},subset:function FH(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>AS(t[n],e[n]))},ignored:()=>!0};function kS(t,e,n){return NH[n.paths](t.root,e.root,n.matrixParams)&&PS[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function NS(t,e,n){return OS(t,e,e.segments,n)}function OS(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Mi(i,n)||e.hasChildren()||!uc(i,n,r))}if(t.segments.length===n.length){if(!Mi(t.segments,n)||!uc(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!NS(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Mi(t.segments,i)&&uc(t.segments,i,r)&&t.children[Y])&&OS(t.children[Y],e,s,r)}}function uc(t,e,n){return e.every((r,i)=>PS[n](t[i].parameters,r.parameters))}class Ai{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Js(this.queryParams)),this._queryParamMap}toString(){return VH.serialize(this)}}class X{constructor(e,n){this.segments=e,this.children=n,this.parent=null,ot(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cc(this)}}class Ta{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Js(this.parameters)),this._parameterMap}toString(){return BS(this)}}function Mi(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}class FS{}class LS{parse(e){const n=new KH(e);return new Ai(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Sa(e.root,!0)}`,r=function $H(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${dc(n)}=${dc(i)}`).join("&"):`${dc(n)}=${dc(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function BH(t){return encodeURI(t)}(e.fragment)}`:""}`}}const VH=new LS;function cc(t){return t.segments.map(e=>BS(e)).join("/")}function Sa(t,e){if(!t.hasChildren())return cc(t);if(e){const n=t.children[Y]?Sa(t.children[Y],!1):"",r=[];return ot(t.children,(i,s)=>{s!==Y&&r.push(`${s}:${Sa(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function UH(t,e){let n=[];return ot(t.children,(r,i)=>{i===Y&&(n=n.concat(e(r,i)))}),ot(t.children,(r,i)=>{i!==Y&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===Y?[Sa(t.children[Y],!1)]:[`${i}:${Sa(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Y]?`${cc(t)}/${n[0]}`:`${cc(t)}/(${n.join("//")})`}}function US(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dc(t){return US(t).replace(/%3B/gi,";")}function mg(t){return US(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hc(t){return decodeURIComponent(t)}function VS(t){return hc(t.replace(/\+/g,"%20"))}function BS(t){return`${mg(t.path)}${function jH(t){return Object.keys(t).map(e=>`;${mg(e)}=${mg(t[e])}`).join("")}(t.parameters)}`}const HH=/^[^\/()?;=#]+/;function fc(t){const e=t.match(HH);return e?e[0]:""}const WH=/^[^=?&#]+/,zH=/^[^&#]+/;class KH{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new X([],{}):new X([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Y]=new X(e,n)),r}parseSegment(){const e=fc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new P(4009,!1);return this.capture(e),new Ta(hc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=fc(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=fc(this.remaining);i&&(r=i,this.capture(r))}e[hc(n)]=hc(r)}parseQueryParam(e){const n=function GH(t){const e=t.match(WH);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function qH(t){const e=t.match(zH);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=VS(n),s=VS(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=fc(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new P(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Y);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[Y]:new X([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new P(4011,!1)}}function _g(t){return t.segments.length>0?new X([],{[Y]:t}):t}function pc(t){const e={};for(const r of Object.keys(t.children)){const s=pc(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function QH(t){if(1===t.numberOfChildren&&t.children[Y]){const e=t.children[Y];return new X(t.segments.concat(e.segments),e.children)}return t}(new X(t.segments,e))}function Ri(t){return t instanceof Ai}function ZH(t,e,n,r,i){if(0===n.length)return Zs(e.root,e.root,e.root,r,i);const s=function HS(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new $S(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return ot(s.outlets,(l,u)=>{a[u]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new $S(n,e,r)}(n);return s.toRoot()?Zs(e.root,e.root,new X([],{}),r,i):function o(l){const u=function e3(t,e,n,r){if(t.isAbsolute)return new Xs(e.root,!0,0);if(-1===r)return new Xs(n,n===e.root,0);return function WS(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new P(4005,!1);i=r.segments.length}return new Xs(r,!1,i-s)}(n,r+(Aa(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,e,t.snapshot?._urlSegment,l),c=u.processChildren?Ra(u.segmentGroup,u.index,s.commands):vg(u.segmentGroup,u.index,s.commands);return Zs(e.root,u.segmentGroup,c,r,i)}(t.snapshot?._lastPathIndex)}function Aa(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ma(t){return"object"==typeof t&&null!=t&&t.outlets}function Zs(t,e,n,r,i){let o,s={};r&&ot(r,(l,u)=>{s[u]=Array.isArray(l)?l.map(c=>`${c}`):`${l}`}),o=t===e?n:jS(t,e,n);const a=_g(pc(o));return new Ai(a,s,i)}function jS(t,e,n){const r={};return ot(t.children,(i,s)=>{r[s]=i===e?n:jS(i,e,n)}),new X(t.segments,r)}class $S{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Aa(r[0]))throw new P(4003,!1);const i=r.find(Ma);if(i&&i!==RS(r))throw new P(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Xs{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function vg(t,e,n){if(t||(t=new X([],{})),0===t.segments.length&&t.hasChildren())return Ra(t,e,n);const r=function n3(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Ma(a))break;const l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!zS(l,u,o))return s;r+=2}else{if(!zS(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new X(t.segments.slice(0,r.pathIndex),{});return s.children[Y]=new X(t.segments.slice(r.pathIndex),t.children),Ra(s,0,i)}return r.match&&0===i.length?new X(t.segments,{}):r.match&&!t.hasChildren()?Eg(t,e,n):r.match?Ra(t,0,i):Eg(t,e,n)}function Ra(t,e,n){if(0===n.length)return new X(t.segments,{});{const r=function t3(t){return Ma(t[0])?t[0].outlets:{[Y]:t}}(n),i={};return ot(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=vg(t.children[o],e,s))}),ot(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new X(t.segments,i)}}function Eg(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Ma(s)){const l=r3(s.outlets);return new X(r,l)}if(0===i&&Aa(n[0])){r.push(new Ta(t.segments[e].path,GS(n[0]))),i++;continue}const o=Ma(s)?s.outlets[Y]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Aa(a)?(r.push(new Ta(o,GS(a))),i+=2):(r.push(new Ta(o,{})),i++)}return new X(r,{})}function r3(t){const e={};return ot(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=Eg(new X([],{}),0,n))}),e}function GS(t){const e={};return ot(t,(n,r)=>e[r]=`${n}`),e}function zS(t,e,n){return t==n.path&&jn(e,n.parameters)}class gr{constructor(e,n){this.id=e,this.url=n}}class wg extends gr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Pi extends gr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class gc extends gr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class qS extends gr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class i3 extends gr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class s3 extends gr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class o3 extends gr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class a3 extends gr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class l3 extends gr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class u3{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class c3{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class d3{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class h3{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class f3{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class p3{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KS{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class QS{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Cg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Cg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Ig(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ig(e,this._root).map(n=>n.value)}}function Cg(t,e){if(t===e.value)return e;for(const n of e.children){const r=Cg(t,n);if(r)return r}return null}function Ig(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Ig(t,n);if(r.length)return r.unshift(e),r}return[]}class mr{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function eo(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class YS extends QS{constructor(e,n){super(e),this.snapshot=n,bg(this,e)}toString(){return this.snapshot.toString()}}function JS(t,e){const n=function m3(t,e){const o=new mc([],{},{},"",{},Y,e,null,t.root,-1,{});return new XS("",new mr(o,[]))}(t,e),r=new bn([new Ta("",{})]),i=new bn({}),s=new bn({}),o=new bn({}),a=new bn(""),l=new to(r,i,o,a,s,Y,e,n.root);return l.snapshot=n.root,new YS(new mr(l,[]),n)}class to{constructor(e,n,r,i,s,o,a,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(re(e=>Js(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(re(e=>Js(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ZS(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function _3(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class mc{constructor(e,n,r,i,s,o,a,l,u,c,d,h){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=c,this._correctedLastPathIndex=h??c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Js(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Js(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class XS extends QS{constructor(e,n){super(n),this.url=e,bg(this,n)}toString(){return eA(this._root)}}function bg(t,e){e.value._routerState=t,e.children.forEach(n=>bg(t,n))}function eA(t){const e=t.children.length>0?` { ${t.children.map(eA).join(", ")} } `:"";return`${t.value}${e}`}function Dg(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,jn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),jn(e.params,n.params)||t.params.next(n.params),function kH(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!jn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),jn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Tg(t,e){const n=jn(t.params,e.params)&&function LH(t,e){return Mi(t,e)&&t.every((n,r)=>jn(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Tg(t.parent,e.parent))}function Pa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function v3(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Pa(t,r,i);return Pa(t,r)})}(t,e,n);return new mr(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Pa(t,a)),o}}const r=function E3(t){return new to(new bn(t.url),new bn(t.params),new bn(t.queryParams),new bn(t.fragment),new bn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Pa(t,s));return new mr(r,i)}}const Sg="ngNavigationCancelingError";function tA(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Ri(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=nA(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function nA(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Sg]=!0,r.cancellationCode=e,n&&(r.url=n),r}function rA(t){return iA(t)&&Ri(t.url)}function iA(t){return t&&t[Sg]}class w3{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ka,this.attachRef=null}}class ka{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new w3,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}const _c=!1;let Ag=(()=>{class t{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.changeDetector=s,this.environmentInjector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new bt,this.deactivateEvents=new bt,this.attachEvents=new bt,this.detachEvents=new bt,this.name=i||Y,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P(4012,_c);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P(4012,_c);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P(4012,_c);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new P(4013,_c);this._activatedRoute=n;const i=this.location,o=n._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new C3(n,a,i.injector);if(r&&function I3(t){return!!t.resolveComponentFactory}(r)){const u=r.resolveComponentFactory(o);this.activated=i.createComponent(u,i.length,l)}else this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(k(ka),k(En),function Bo(t){return function v1(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(vC(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}($e(),t)}("name"),k(Up),k(Ur))},t.\u0275dir=ut({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class C3{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===to?this.route:e===ka?this.childContexts:this.parent.get(e,n)}}let sA=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Xt({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&N(0,"router-outlet")},dependencies:[Ag],encapsulation:2}),t})();function oA(t,e){return t.providers&&!t._injector&&(t._injector=Nu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Rg(t){const e=t.children&&t.children.map(Rg),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Y&&(n.component=sA),n}function an(t){return t.outlet||Y}function aA(t,e){const n=t.filter(r=>an(r)===e);return n.push(...t.filter(r=>an(r)!==e)),n}function lA(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class A3{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Dg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=eo(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),ot(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=eo(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=eo(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=eo(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new p3(s.value.snapshot))}),e.children.length&&this.forwardEvent(new h3(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(Dg(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Dg(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=lA(i.snapshot),l=a?.get(Xo)??null;o.attachRef=null,o.route=i,o.resolver=l,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class uA{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class yc{constructor(e,n){this.component=e,this.route=n}}function M3(t,e,n){const r=t._root;return xa(r,e?e._root:null,n,[r.value])}function vc(t,e,n){return(lA(e)??n).get(t)}function xa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=eo(e);return t.children.forEach(o=>{(function P3(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function k3(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Mi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Mi(t.url,e.url)||!jn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Tg(t,e)||!jn(t.queryParams,e.queryParams);default:return!Tg(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new uA(r)):(s.data=o.data,s._resolvedData=o._resolvedData),xa(t,e,s.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new yc(a.outlet.component,o))}else o&&Na(e,a,i),i.canActivateChecks.push(new uA(r)),xa(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),ot(s,(o,a)=>Na(o,n.getContext(a),i)),i}function Na(t,e,n){const r=eo(t),i=t.value;ot(r,(s,o)=>{Na(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new yc(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Oa(t){return"function"==typeof t}const Ec=Symbol("INITIAL_VALUE");function no(){return Bn(t=>wS(t.map(e=>e.pipe(Da(1),function DH(...t){const e=Ro(t);return Qe((n,r)=>{(e?dg(t,n,e):dg(t,n)).subscribe(r)})}(Ec)))).pipe(re(e=>{for(const n of e)if(!0!==n){if(n===Ec)return Ec;if(!1===n||n instanceof Ai)return n}return!0}),Gr(e=>e!==Ec),Da(1)))}function cA(t){return function jx(...t){return Sw(t)}(st(e=>{if(Ri(e))throw tA(0,e)}),re(e=>!0===e))}const Pg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dA(t,e,n,r,i){const s=kg(t,e,n);return s.matched?function Q3(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?L(i.map(o=>{const a=t.get(o),l=function U3(t){return t&&Oa(t.canMatch)}(a)?a.canMatch(e,n):a(e,n);return pr(l)})).pipe(no(),cA()):L(!0)}(r=oA(e,r),e,n).pipe(re(o=>!0===o?s:{...Pg})):L(s)}function kg(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Pg}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||PH)(n,t,e);if(!i)return{...Pg};const s={};ot(i.posParams,(a,l)=>{s[l]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function wc(t,e,n,r,i="corrected"){if(n.length>0&&function Z3(t,e,n){return n.some(r=>Cc(t,e,r)&&an(r)!==Y)}(t,n,r)){const o=new X(e,function J3(t,e,n,r){const i={};i[Y]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&an(s)!==Y){const o=new X([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[an(s)]=o}return i}(t,e,r,new X(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function X3(t,e,n){return n.some(r=>Cc(t,e,r))}(t,n,r)){const o=new X(t.segments,function Y3(t,e,n,r,i,s){const o={};for(const a of r)if(Cc(t,n,a)&&!i[an(a)]){const l=new X([],{});l._sourceSegment=t,l._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[an(a)]=l}return{...i,...o}}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new X(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Cc(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function hA(t,e,n,r){return!!(an(t)===r||r!==Y&&Cc(e,n,t))&&("**"===t.path||kg(e,t,n).matched)}function fA(t,e,n){return 0===e.length&&!t.children[n]}const Ic=!1;class bc{constructor(e){this.segmentGroup=e||null}}class pA{constructor(e){this.urlTree=e}}function Fa(t){return ba(new bc(t))}function gA(t){return ba(new pA(t))}class rW{constructor(e,n,r,i,s){this.injector=e,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=wc(this.urlTree.root,[],[],this.config).segmentGroup,n=new X(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,n,Y).pipe(re(s=>this.createUrlTree(pc(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(qr(s=>{if(s instanceof pA)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof bc?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Y).pipe(re(i=>this.createUrlTree(pc(i),e.queryParams,e.fragment))).pipe(qr(i=>{throw i instanceof bc?this.noMatchError(i):i}))}noMatchError(e){return new P(4002,Ic)}createUrlTree(e,n,r){const i=_g(e);return new Ai(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(re(s=>new X([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return je(i).pipe(Si(s=>{const o=r.children[s],a=aA(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(re(l=>({segment:l,outlet:s})))}),TS((s,o)=>(s[o.outlet]=o.segment,s),{}),SS())}expandSegment(e,n,r,i,s,o){return je(r).pipe(Si(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(qr(u=>{if(u instanceof bc)return L(null);throw u}))),zr(a=>!!a),qr((a,l)=>{if(a instanceof Ys||"EmptyError"===a.name)return fA(n,i,s)?L(new X([],{})):Fa(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return hA(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):Fa(n):Fa(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?gA(s):this.lineralizeSegments(r,s).pipe(rt(o=>{const a=new X(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:c}=kg(n,i,s);if(!a)return Fa(n);const d=this.applyRedirectCommands(l,i.redirectTo,c);return i.redirectTo.startsWith("/")?gA(d):this.lineralizeSegments(i,d).pipe(rt(h=>this.expandSegment(e,n,r,h.concat(u),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){return"**"===r.path?(e=oA(r,e),r.loadChildren?(r._loadedRoutes?L({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(re(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new X(i,{})))):L(new X(i,{}))):dA(n,r,i,e).pipe(Bn(({matched:o,consumedSegments:a,remainingSegments:l})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(rt(c=>{const d=c.injector??e,h=c.routes,{segmentGroup:f,slicedSegments:p}=wc(n,a,l,h),g=new X(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(re(v=>new X(a,v)));if(0===h.length&&0===p.length)return L(new X(a,{}));const y=an(r)===s;return this.expandSegment(d,g,h,p,y?Y:s,!0).pipe(re(D=>new X(a.concat(D.segments),D.children)))})):Fa(n)))}getChildConfig(e,n,r){return n.children?L({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?L({routes:n._loadedRoutes,injector:n._loadedInjector}):function K3(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?L(!0):L(i.map(o=>{const a=t.get(o),l=function N3(t){return t&&Oa(t.canLoad)}(a)?a.canLoad(e,n):a(e,n);return pr(l)})).pipe(no(),cA())}(e,n,r).pipe(rt(i=>i?this.configLoader.loadChildren(e,n).pipe(st(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function tW(t){return ba(nA(Ic,3))}())):L({routes:[],injector:e})}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return L(r);if(i.numberOfChildren>1||!i.children[Y])return ba(new P(4e3,Ic));i=i.children[Y]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Ai(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return ot(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return ot(n.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,r,i)}),new X(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new P(4001,Ic);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}class sW{}class lW{constructor(e,n,r,i,s,o,a,l){this.injector=e,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a,this.urlSerializer=l}recognize(){const e=wc(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Y).pipe(re(n=>{if(null===n)return null;const r=new mc([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Y,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new mr(r,n),s=new XS(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const n=e.value,r=ZS(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i)}processChildren(e,n,r){return je(Object.keys(r.children)).pipe(Si(i=>{const s=r.children[i],o=aA(n,i);return this.processSegmentGroup(e,o,s,i)}),TS((i,s)=>i&&s?(i.push(...s),i):null),function AH(t,e=!1){return Qe((n,r)=>{let i=0;n.subscribe(Ye(r,s=>{const o=t(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),lc(null),SS(),re(i=>{if(null===i)return null;const s=mA(i);return function uW(t){t.sort((e,n)=>e.value.outlet===Y?-1:n.value.outlet===Y?1:e.value.outlet.localeCompare(n.value.outlet))}(s),s}))}processSegment(e,n,r,i,s){return je(n).pipe(Si(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),zr(o=>!!o),qr(o=>{if(o instanceof Ys)return fA(r,i,s)?L([]):L(null);throw o}))}processSegmentAgainstRoute(e,n,r,i,s){if(n.redirectTo||!hA(n,r,i,s))return L(null);let o;if("**"===n.path){const a=i.length>0?RS(i).parameters:{},l=yA(r)+i.length;o=L({snapshot:new mc(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,EA(n),an(n),n.component??n._loadedComponent??null,n,_A(r),l,wA(n),l),consumedSegments:[],remainingSegments:[]})}else o=dA(r,n,i,e).pipe(re(({matched:a,consumedSegments:l,remainingSegments:u,parameters:c})=>{if(!a)return null;const d=yA(r)+l.length;return{snapshot:new mc(l,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,EA(n),an(n),n.component??n._loadedComponent??null,n,_A(r),d,wA(n),d),consumedSegments:l,remainingSegments:u}}));return o.pipe(Bn(a=>{if(null===a)return L(null);const{snapshot:l,consumedSegments:u,remainingSegments:c}=a;e=n._injector??e;const d=n._loadedInjector??e,h=function cW(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:f,slicedSegments:p}=wc(r,u,c,h.filter(y=>void 0===y.redirectTo),this.relativeLinkResolution);if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(re(y=>null===y?null:[new mr(l,y)]));if(0===h.length&&0===p.length)return L([new mr(l,[])]);const g=an(n)===s;return this.processSegment(d,h,f,p,g?Y:s).pipe(re(y=>null===y?null:[new mr(l,y)]))}))}}function dW(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function mA(t){const e=[],n=new Set;for(const r of t){if(!dW(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=mA(r.children);e.push(new mr(r.value,i))}return e.filter(r=>!n.has(r))}function _A(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function yA(t){let e=t,n=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift??0;return n-1}function EA(t){return t.data||{}}function wA(t){return t.resolve||{}}const xg=Symbol("RouteTitle");function CA(t){return"string"==typeof t.title||null===t.title}function Ng(t){return Bn(e=>{const n=t(e);return n?je(n).pipe(re(()=>e)):L(e)})}class wW extends class EW{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const Og=new j("ROUTES");let Fg=(()=>{class t{constructor(n,r){this.injector=n,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return L(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=pr(n.loadComponent()).pipe(st(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),pg(()=>{this.componentLoaders.delete(n)})),i=new bS(r,()=>new Mn).pipe(hg());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return L({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(re(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,u,c=!1;Array.isArray(a)?u=a:(l=a.create(n).injector,u=MS(l.get(Og,[],O.Self|O.Optional)));return{routes:u.map(Rg),injector:l}}),pg(()=>{this.childrenLoaders.delete(r)})),o=new bS(s,()=>new Mn).pipe(hg());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return pr(n()).pipe(rt(r=>r instanceof ET||Array.isArray(r)?L(r):je(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)(x(qt),x(Mp))},t.\u0275prov=Q({token:t,factory:t.\u0275fac}),t})();class IW{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function bW(t){throw t}function DW(t,e,n){return e.parse("/")}const TW={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},SW={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let pt=(()=>{class t{constructor(n,r,i,s,o,a,l){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Mn,this.errorHandler=bW,this.malformedUriErrorHandler=DW,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>L(void 0),this.urlHandlingStrategy=new IW,this.routeReuseStrategy=new wW,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=o.get(Fg),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new c3(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new u3(h)),this.ngModule=o.get(bi),this.console=o.get(mB);const d=o.get(De);this.isNgZoneEnabled=d instanceof De&&De.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function xH(){return new Ai(new X([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=JS(this.currentUrlTree,this.rootComponentType),this.transitions=new bn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(Gr(i=>0!==i.id),re(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Bn(i=>{let s=!1,o=!1;return L(i).pipe(st(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Bn(a=>{const l=this.browserUrlTree.toString(),u=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||u)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return bA(a.source)&&(this.browserUrlTree=a.extractedUrl),L(a).pipe(Bn(d=>{const h=this.transitions.getValue();return r.next(new wg(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Xn:Promise.resolve(d)}),function iW(t,e,n,r){return Bn(i=>function nW(t,e,n,r,i){return new rW(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(re(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),st(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},i.urlAfterRedirects=d.urlAfterRedirects}),function fW(t,e,n,r,i,s){return rt(o=>function aW(t,e,n,r,i,s,o="emptyOnly",a="legacy"){return new lW(t,e,n,r,i,o,a,s).recognize().pipe(Bn(l=>null===l?function oW(t){return new Pe(e=>e.error(t))}(new sW):L(l)))}(t,e,n,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i,s).pipe(re(a=>({...o,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),st(d=>{if(i.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new i3(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:y}=a,I=new wg(h,this.serializeUrl(f),p,g);r.next(I);const D=JS(f,this.rootComponentType).snapshot;return L(i={...a,targetSnapshot:D,urlAfterRedirects:f,extras:{...y,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),Xn}),st(a=>{const l=new s3(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),re(a=>i={...a,guards:M3(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function B3(t,e){return rt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?L({...n,guardsResult:!0}):function j3(t,e,n,r){return je(t).pipe(rt(i=>function q3(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?L(s.map(a=>{const l=vc(a,e,i);return pr(function L3(t){return t&&Oa(t.canDeactivate)}(l)?l.canDeactivate(t,e,n,r):l(t,e,n,r)).pipe(zr())})).pipe(no()):L(!0)}(i.component,i.route,n,e,r)),zr(i=>!0!==i,!0))}(o,r,i,t).pipe(rt(a=>a&&function x3(t){return"boolean"==typeof t}(a)?function $3(t,e,n,r){return je(e).pipe(Si(i=>dg(function W3(t,e){return null!==t&&e&&e(new d3(t)),L(!0)}(i.route.parent,r),function H3(t,e){return null!==t&&e&&e(new f3(t)),L(!0)}(i.route,r),function z3(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function R3(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>IS(()=>L(o.guards.map(l=>{const u=vc(l,o.node,n);return pr(function F3(t){return t&&Oa(t.canActivateChild)}(u)?u.canActivateChild(r,t):u(r,t)).pipe(zr())})).pipe(no())));return L(s).pipe(no())}(t,i.path,n),function G3(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return L(!0);const i=r.map(s=>IS(()=>{const o=vc(s,e,n);return pr(function O3(t){return t&&Oa(t.canActivate)}(o)?o.canActivate(e,t):o(e,t)).pipe(zr())}));return L(i).pipe(no())}(t,i.route,n))),zr(i=>!0!==i,!0))}(r,s,t,e):L(a)),re(a=>({...n,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),st(a=>{if(i.guardsResult=a.guardsResult,Ri(a.guardsResult))throw tA(0,a.guardsResult);const l=new o3(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Gr(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),Ng(a=>{if(a.guards.canActivateChecks.length)return L(a).pipe(st(l=>{const u=new a3(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}),Bn(l=>{let u=!1;return L(l).pipe(function pW(t,e){return rt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return L(n);let s=0;return je(i).pipe(Si(o=>function gW(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!CA(i)&&(s[xg]=i.title),function mW(t,e,n,r){const i=function _W(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return L({});const s={};return je(i).pipe(rt(o=>function yW(t,e,n,r){const i=vc(t,e,r);return pr(i.resolve?i.resolve(e,n):i(e,n))}(t[o],e,n,r).pipe(zr(),st(a=>{s[o]=a}))),fg(1),function MH(t){return re(()=>t)}(s),qr(o=>o instanceof Ys?Xn:ba(o)))}(s,t,e,r).pipe(re(o=>(t._resolvedData=o,t.data=ZS(t,n).resolve,i&&CA(i)&&(t.data[xg]=i.title),null)))}(o.route,r,t,e)),st(()=>s++),fg(1),rt(o=>s===i.length?L(n):Xn))})}(this.paramsInheritanceStrategy,this.ngModule.injector),st({next:()=>u=!0,complete:()=>{u||(this.restoreHistory(l),this.cancelNavigationTransition(l,"",2))}}))}),st(l=>{const u=new l3(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}))}),Ng(a=>{const l=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(st(d=>{u.component=d}),re(()=>{})));for(const d of u.children)c.push(...l(d));return c};return wS(l(a.targetSnapshot.root)).pipe(lc(),Da(1))}),Ng(()=>this.afterPreactivation()),re(a=>{const l=function y3(t,e,n){const r=Pa(t,e._root,n?n._root:void 0);return new YS(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:l}}),st(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>re(r=>(new A3(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),st({next(){s=!0},complete(){s=!0}}),pg(()=>{s||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),qr(a=>{if(o=!0,iA(a)){rA(a)||(this.navigated=!0,this.restoreHistory(i,!0));const l=new gc(i.id,this.serializeUrl(i.extractedUrl),a.message,a.cancellationCode);if(r.next(l),rA(a)){const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),c={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||bA(i.source)};this.scheduleNavigation(u,"imperative",null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new qS(i.id,this.serializeUrl(i.extractedUrl),a,i.targetSnapshot??void 0);r.next(l);try{i.resolve(this.errorHandler(a))}catch(u){i.reject(u)}}return Xn}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next({...this.transitions.value,...n})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=n.state?.navigationId?n.state:null;if(s){const a={...s};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const o=this.parseUrl(n.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){this.config=n.map(Rg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,u=i||this.routerState.root,c=l?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),ZH(u,this.currentUrlTree,n,d,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Ri(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function AW(t){for(let e=0;e<t.length;e++){if(null==t[e])throw new P(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...TW}:!1===r?{...SW}:r,Ri(n))return kS(this.currentUrlTree,n,i);const s=this.parseUrl(n);return kS(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new Pi(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,u;o?(a=o.resolve,l=o.reject,u=o.promise):u=new Promise((h,f)=>{a=h,l=f});const c=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),d=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:c,targetPageId:d,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r,i){const s=new gc(n.id,this.serializeUrl(n.extractedUrl),r,i);this.triggerEvent(s),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){Sf()},t.\u0275prov=Q({token:t,factory:t.\u0275fac}),t})();function bA(t){return"imperative"!==t}let La=(()=>{class t{constructor(n,r,i){this.router=n,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Mn,this.subscription=n.events.subscribe(s=>{s instanceof Pi&&this.updateTargetUrlAndHref()})}set routerLink(n){this.commands=null!=n?Array.isArray(n)?n:[n]:null}ngOnChanges(n){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(n,r,i,s,o){if(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:Qs(this.skipLocationChange),replaceUrl:Qs(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Qs(this.preserveFragment)})}}return t.\u0275fac=function(n){return new(n||t)(k(pt),k(to),k(Ti))},t.\u0275dir=ut({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(n,r){1&n&&Au("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&Xf("target",r.target)("href",r.href,Fe)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[mi]}),t})(),DA=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Y);return r}getResolvedTitleForRoute(n){return n.data[xg]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Q({token:t,factory:function(){return Fr(PW)},providedIn:"root"}),t})(),PW=(()=>{class t extends DA{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(x(yS))},t.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class TA{}let SA=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Gr(n=>n instanceof Pi),Si(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Nu(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return je(i).pipe(ss())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):L(null);const s=i.pipe(rt(o=>null===o?L(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?je([s,this.loader.loadComponent(r)]).pipe(ss()):s})}}return t.\u0275fac=function(n){return new(n||t)(x(pt),x(Mp),x(Ur),x(TA),x(Fg))},t.\u0275prov=Q({token:t,factory:t.\u0275fac}),t})();const AA=new j("");let kW=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof wg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Pi&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof KS&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new KS(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){Sf()},t.\u0275prov=Q({token:t,factory:t.\u0275fac}),t})();const Ug=new j("ROUTER_CONFIGURATION",{providedIn:"root",factory:()=>({})}),MA=new j("ROUTER_FORROOT_GUARD"),RA=new j(""),xW=[Wp,{provide:FS,useClass:LS},{provide:pt,useFactory:function VW(t,e,n,r,i,s,o,a={},l,u){const c=new pt(null,t,e,n,r,i,MS(s));return l&&(c.urlHandlingStrategy=l),u&&(c.routeReuseStrategy=u),c.titleStrategy=o,function BW(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(a,c),c},deps:[FS,ka,Wp,qt,Mp,Og,DA,Ug,[class CW{},new it],[class vW{},new it]]},ka,{provide:to,useFactory:function jW(t){return t.routerState.root},deps:[pt]},Fg];function NW(){return new g0("Router",pt)}let PA=(()=>{class t{constructor(n,r){}static forRoot(n,r){return{ngModule:t,providers:[xW,[],kA(n),{provide:MA,useFactory:UW,deps:[[pt,new it,new qo]]},{provide:Ug,useValue:r||{}},r?.useHash?{provide:Ti,useClass:oj}:{provide:Ti,useClass:V0},{provide:AA,useFactory:()=>{const t=Fr(pt),e=Fr(A$),n=Fr(Ug);return n.scrollOffset&&e.setOffset(n.scrollOffset),new kW(t,e,n)}},r?.preloadingStrategy?KW(r.preloadingStrategy):[],{provide:g0,multi:!0,useFactory:NW},r?.initialNavigation?HW(r):[],[{provide:xA,useFactory:$W},{provide:l0,multi:!0,useExisting:xA}]]}}static forChild(n){return{ngModule:t,providers:[kA(n)]}}}return t.\u0275fac=function(n){return new(n||t)(x(MA,8),x(pt,8))},t.\u0275mod=nr({type:t}),t.\u0275inj=Pn({}),t})();function UW(t){return"guarded"}function kA(t){return[{provide:T1,multi:!0,useValue:t},{provide:Og,multi:!0,useValue:t}]}function $W(){const t=Fr(qt);return e=>{const n=t.get($u);if(e!==n.components[0])return;const r=t.get(pt),i=t.get(NA);null===t.get(Vg,null,O.Optional)&&r.initialNavigation(),t.get(RA,null,O.Optional)?.setUpPreloading(),t.get(AA,null,O.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.next(),i.complete()}}const xA=new j("");function HW(t){return["disabled"===t.initialNavigation?[{provide:Uu,multi:!0,useFactory:()=>{const t=Fr(pt);return()=>{t.setUpLocationChangeListener()}}},{provide:Vg,useValue:"disabled"}]:[],"enabledBlocking"===t.initialNavigation?[{provide:Vg,useValue:"enabledBlocking"},{provide:Uu,multi:!0,deps:[qt],useFactory:t=>{const e=t.get(rj,Promise.resolve(null));let n=!1;return()=>e.then(()=>new Promise(i=>{const s=t.get(pt),o=t.get(NA);(function r(i){t.get(pt).events.pipe(Gr(o=>o instanceof Pi||o instanceof gc||o instanceof qS),re(o=>o instanceof Pi||o instanceof gc&&(0===o.code||1===o.code)&&null),Gr(o=>null!==o),Da(1)).subscribe(()=>{i()})})(()=>{i(!0),n=!0}),s.afterPreactivation=()=>(i(!0),n||o.closed?L(void 0):o),s.initialNavigation()}))}}]:[]]}const NA=new j("",{factory:()=>new Mn}),Vg=new j("");function KW(t){return[SA,{provide:RA,useExisting:SA},{provide:TA,useExisting:t}]}function OA(t,e,n,r,i,s,o){try{var a=t[s](o),l=a.value}catch(u){return void n(u)}a.done?e(l):Promise.resolve(l).then(r,i)}function E(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(l){OA(s,r,i,o,a,"next",l)}function a(l){OA(s,r,i,o,a,"throw",l)}o(void 0)})}}const b=function(t,e){if(!t)throw ro(e)},ro=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},FA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Sc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0;let h=(15&a)<<2|u>>6,f=63&u;l||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(FA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==u||null==d)throw Error();r.push(s<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},LA=function(t){const e=FA(t);return Sc.encodeByteArray(e,!0)},Ac=function(t){return LA(t).replace(/\./g,"")},jg=function(t){try{return Sc.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function YW(t){return UA(void 0,t)}function UA(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!JW(n)||(t[n]=UA(t[n],e[n]));return t}function JW(t){return"__proto__"!==t}class io{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Qt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function $g(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qt())}function Hg(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function VA(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ki(){return"object"==typeof indexedDB}function Ua(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function Wg(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class $n extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,$n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hn.prototype.create)}}class Hn{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function e4(t,e){return t.replace(t4,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new $n(i,`${this.serviceName}: ${o} (${i}).`,r)}}const t4=/\{\$([^}]+)}/g;function Va(t){return JSON.parse(t)}function Ze(t){return JSON.stringify(t)}const Mc=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Va(jg(s[0])||""),n=Va(jg(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};function vr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function so(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function BA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Rc(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Gg(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(jA(s)&&jA(o)){if(!Gg(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function jA(t){return null!==t&&"object"==typeof t}function zg(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class i4{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let u,c,i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const h=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=4294967295&(s<<30|s>>>2),s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(null==e)return;void 0===n&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(0===o)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&n,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}class o4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function a4(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=qg),void 0===i.error&&(i.error=qg),void 0===i.complete&&(i.complete=qg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qg(){}function Ba(t,e){return`${t} failed: ${e} argument `}const Pc=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function Kg(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Er(t){return t&&t._delegate?t._delegate:t}class gt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const xi="[DEFAULT]";class p4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new io;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function m4(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:xi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=xi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return E(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=xi){return this.instances.has(e)}getOptions(e=xi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===xi?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=xi){return this.component?this.component.multipleInstances?e:xi:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new p4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Qg=[];var ce=(()=>{return(t=ce||(ce={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",ce;var t})();const $A={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},y4=ce.INFO,v4={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},E4=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=v4[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class oo{constructor(e){this.name=e,this._logLevel=y4,this._logHandler=E4,this._userLogHandler=null,Qg.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?$A[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}let HA,WA;const GA=new WeakMap,Yg=new WeakMap,zA=new WeakMap,Jg=new WeakMap,Zg=new WeakMap;let Xg={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Yg.get(t);if("objectStoreNames"===e)return t.objectStoreNames||zA.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wr(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function A4(t){return"function"==typeof t?function S4(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function I4(){return WA||(WA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(em(this),e),wr(GA.get(this))}:function(...e){return wr(t.apply(em(this),e))}:function(e,...n){const r=t.call(em(this),e,...n);return zA.set(r,e.sort?e.sort():[e]),wr(r)}}(t):(t instanceof IDBTransaction&&function D4(t){if(Yg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Yg.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function C4(){return HA||(HA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Xg):t)}function wr(t){if(t instanceof IDBRequest)return function b4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(wr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&GA.set(n,t)}).catch(()=>{}),Zg.set(e,t),e}(t);if(Jg.has(t))return Jg.get(t);const e=A4(t);return e!==t&&(Jg.set(t,e),Zg.set(e,t)),e}const em=t=>Zg.get(t);function kc(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=wr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(wr(o.result),l.oldVersion,l.newVersion,wr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function tm(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),wr(n).then(()=>{})}const M4=["get","getKey","getAll","getAllKeys","count"],R4=["put","add","delete","clear"],nm=new Map;function qA(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(nm.get(e))return nm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=R4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!M4.includes(n))return;const s=function(){var o=E(function*(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(yield Promise.all([c[n](...l),i&&u.done]))[0]});return function(l){return o.apply(this,arguments)}}();return nm.set(e,s),s}!function T4(t){Xg=t(Xg)}(t=>({...t,get:(e,n,r)=>qA(e,n)||t.get(e,n,r),has:(e,n)=>!!qA(e,n)||t.has(e,n)}));class P4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function k4(t){return"VERSION"===t.getComponent()?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const rm="@firebase/app",Ni=new oo("@firebase/app"),im="[DEFAULT]",iG={[rm]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Oi=new Map,xc=new Map;function sG(t,e){try{t.container.addComponent(e)}catch(n){Ni.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Tt(t){const e=t.name;if(xc.has(e))return Ni.debug(`There were multiple attempts to register component ${e}.`),!1;xc.set(e,t);for(const n of Oi.values())sG(n,t);return!0}function Nc(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Kr=new Hn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class aG{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}function lG(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:im,automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw Kr.create("bad-app-name",{appName:String(r)});const i=Oi.get(r);if(i){if(Gg(t,i.options)&&Gg(n,i.config))return i;throw Kr.create("duplicate-app",{appName:r})}const s=new _4(r);for(const a of xc.values())s.addComponent(a);const o=new aG(t,n,s);return Oi.set(r,o),o}function QA(t=im){const e=Oi.get(t);if(!e)throw Kr.create("no-app",{appName:t});return e}function YA(){return Array.from(Oi.values())}function xe(t,e,n){var r;let i=null!==(r=iG[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ni.warn(a.join(" "))}Tt(new gt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const ja="firebase-heartbeat-store";let om=null;function JA(){return om||(om=kc("firebase-heartbeat-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ja)}}).catch(t=>{throw Kr.create("idb-open",{originalErrorMessage:t.message})})),om}function am(){return(am=E(function*(t){var e;try{return(yield JA()).transaction(ja).objectStore(ja).get(XA(t))}catch(n){if(n instanceof $n)Ni.warn(n.message);else{const r=Kr.create("idb-get",{originalErrorMessage:null===(e=n)||void 0===e?void 0:e.message});Ni.warn(r.message)}}})).apply(this,arguments)}function ZA(t,e){return lm.apply(this,arguments)}function lm(){return(lm=E(function*(t,e){var n;try{const i=(yield JA()).transaction(ja,"readwrite");return yield i.objectStore(ja).put(e,XA(t)),i.done}catch(r){if(r instanceof $n)Ni.warn(r.message);else{const i=Kr.create("idb-set",{originalErrorMessage:null===(n=r)||void 0===n?void 0:n.message});Ni.warn(i.message)}}})).apply(this,arguments)}function XA(t){return`${t.name}!${t.options.appId}`}class pG{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mG(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return E(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=eM();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return E(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=eM(),{heartbeatsToSend:r,unsentEntries:i}=function gG(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),tM(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),tM(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Ac(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function eM(){return(new Date).toISOString().substring(0,10)}class mG{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(function*(){return!!ki()&&Ua().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return E(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function dG(t){return am.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return E(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return ZA(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return E(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return ZA(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function tM(t){return Ac(JSON.stringify({version:2,heartbeats:t})).length}!function _G(t){Tt(new gt("platform-logger",e=>new P4(e),"PRIVATE")),Tt(new gt("heartbeat",e=>new pG(e),"PRIVATE")),xe(rm,"0.7.30",t),xe(rm,"0.7.30","esm2017"),xe("fire-js","")}(""),xe("firebase","9.9.2","app");const nM="@firebase/installations",um="0.5.12",iM=`w:${um}`,sM="FIS_v2",Cr=new Hn("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function oM(t){return t instanceof $n&&t.code.includes("request-failed")}function cm({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function aM(t){return{token:t.token,requestStatus:2,expiresIn:DG(t.expiresIn),creationTime:Date.now()}}function dm(t,e){return hm.apply(this,arguments)}function hm(){return(hm=E(function*(t,e){const r=(yield e.json()).error;return Cr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function lM({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function uM(t,{refreshToken:e}){const n=lM(t);return n.append("Authorization",function TG(t){return`${sM} ${t}`}(e)),n}function fm(t){return pm.apply(this,arguments)}function pm(){return(pm=E(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function DG(t){return Number(t.replace("s","000"))}function SG(t,e){return gm.apply(this,arguments)}function gm(){return(gm=E(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=cm(t),i=lM(t),s=e.getImmediate({optional:!0});if(s){const u=yield s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:sM,appId:t.appId,sdkVersion:iM})},l=yield fm(()=>fetch(r,a));if(l.ok){const u=yield l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:aM(u.authToken)}}throw yield dm("Create Installation",l)})).apply(this,arguments)}function cM(t){return new Promise(e=>{setTimeout(e,t)})}const MG=/^[cdef][\w-]{21}$/;function RG(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function PG(t){return function AG(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return MG.test(n)?n:""}catch{return""}}function ao(t){return`${t.appName}!${t.appId}`}const lo=new Map;function dM(t,e){const n=ao(t);hM(n,e),function NG(t,e){const n=function fM(){return!Fi&&"BroadcastChannel"in self&&(Fi=new BroadcastChannel("[Firebase] FID Change"),Fi.onmessage=t=>{hM(t.data.key,t.data.fid)}),Fi}();n&&n.postMessage({key:t,fid:e}),function pM(){0===lo.size&&Fi&&(Fi.close(),Fi=null)}()}(n,e)}function hM(t,e){const n=lo.get(t);if(n)for(const r of n)r(e)}let Fi=null;const Li="firebase-installations-store";let _m=null;function ym(){return _m||(_m=kc("firebase-installations-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Li)}})),_m}function Fc(t,e){return vm.apply(this,arguments)}function vm(){return(vm=E(function*(t,e){const n=ao(t),i=(yield ym()).transaction(Li,"readwrite"),s=i.objectStore(Li),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&dM(t,e.fid),e})).apply(this,arguments)}function Em(t){return wm.apply(this,arguments)}function wm(){return(wm=E(function*(t){const e=ao(t),r=(yield ym()).transaction(Li,"readwrite");yield r.objectStore(Li).delete(e),yield r.done})).apply(this,arguments)}function $a(t,e){return Cm.apply(this,arguments)}function Cm(){return(Cm=E(function*(t,e){const n=ao(t),i=(yield ym()).transaction(Li,"readwrite"),s=i.objectStore(Li),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&dM(t,a.fid),a})).apply(this,arguments)}function Im(t){return bm.apply(this,arguments)}function bm(){return(bm=E(function*(t){let e;const n=yield $a(t.appConfig,r=>{const i=LG(r),s=UG(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function LG(t){return mM(t||{fid:RG(),registrationStatus:0})}function UG(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Cr.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function VG(t,e){return Dm.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:BG(t)}:{installationEntry:e}}function Dm(){return(Dm=E(function*(t,e){try{const n=yield SG(t,e);return Fc(t.appConfig,n)}catch(n){throw oM(n)&&409===n.customData.serverCode?yield Em(t.appConfig):yield Fc(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function BG(t){return Tm.apply(this,arguments)}function Tm(){return(Tm=E(function*(t){let e=yield gM(t.appConfig);for(;1===e.registrationStatus;)yield cM(100),e=yield gM(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Im(t);return r||n}return e})).apply(this,arguments)}function gM(t){return $a(t,e=>{if(!e)throw Cr.create("installation-not-found");return mM(e)})}function mM(t){return function jG(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function $G(t,e){return Sm.apply(this,arguments)}function Sm(){return(Sm=E(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=HG(t,n),i=uM(t,n),s=e.getImmediate({optional:!0});if(s){const u=yield s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:iM,appId:t.appId}})},l=yield fm(()=>fetch(r,a));if(l.ok)return aM(yield l.json());throw yield dm("Generate Auth Token",l)})).apply(this,arguments)}function HG(t,{fid:e}){return`${cm(t)}/${e}/authTokens:generate`}function Am(t){return Mm.apply(this,arguments)}function Mm(){return(Mm=E(function*(t,e=!1){let n;const r=yield $a(t.appConfig,s=>{if(!yM(s))throw Cr.create("not-registered");const o=s.authToken;if(!e&&zG(o))return s;if(1===o.requestStatus)return n=WG(t,e),s;{if(!navigator.onLine)throw Cr.create("app-offline");const a=KG(s);return n=GG(t,a),a}});return n?yield n:r.authToken})).apply(this,arguments)}function WG(t,e){return Rm.apply(this,arguments)}function Rm(){return(Rm=E(function*(t,e){let n=yield _M(t.appConfig);for(;1===n.authToken.requestStatus;)yield cM(100),n=yield _M(t.appConfig);const r=n.authToken;return 0===r.requestStatus?Am(t,e):r})).apply(this,arguments)}function _M(t){return $a(t,e=>{if(!yM(e))throw Cr.create("not-registered");return function QG(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function GG(t,e){return Pm.apply(this,arguments)}function Pm(){return(Pm=E(function*(t,e){try{const n=yield $G(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Fc(t.appConfig,r),n}catch(n){if(!oM(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Fc(t.appConfig,r)}else yield Em(t.appConfig);throw n}})).apply(this,arguments)}function yM(t){return void 0!==t&&2===t.registrationStatus}function zG(t){return 2===t.requestStatus&&!function qG(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function KG(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function km(){return(km=E(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield Im(e);return r?r.catch(console.error):Am(e).catch(console.error),n.fid})).apply(this,arguments)}function xm(){return(xm=E(function*(t,e=!1){const n=t;return yield ZG(n),(yield Am(n,e)).token})).apply(this,arguments)}function ZG(t){return Nm.apply(this,arguments)}function Nm(){return(Nm=E(function*(t){const{registrationPromise:e}=yield Im(t);e&&(yield e)})).apply(this,arguments)}function Lm(t){return Cr.create("missing-app-config-values",{valueName:t})}const vM="installations",rz=t=>{const e=t.getProvider("app").getImmediate(),n=function tz(t){if(!t||!t.options)throw Lm("App Configuration");if(!t.name)throw Lm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Lm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Nc(e,"heartbeat"),_delete:()=>Promise.resolve()}},iz=t=>{const n=Nc(t.getProvider("app").getImmediate(),vM).getImmediate();return{getId:()=>function YG(t){return km.apply(this,arguments)}(n),getToken:i=>function JG(t){return xm.apply(this,arguments)}(n,i)}};(function sz(){Tt(new gt(vM,rz,"PUBLIC")),Tt(new gt("installations-internal",iz,"PRIVATE"))})(),xe(nM,um),xe(nM,um,"esm2017");const Um="@firebase/remote-config",Ot=new Hn("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class mz{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return E(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function _z(t=navigator){return t.languages&&t.languages[0]||t.language}class yz{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return E(function*(){var r,i,s;const[o,a]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),u=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,c={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},d={sdk_version:n.sdkVersion,app_instance_id:o,app_instance_id_token:a,app_id:n.appId,language_code:_z()},h={method:"POST",headers:c,body:JSON.stringify(d)},f=fetch(u,h),p=new Promise((R,V)=>{e.signal.addEventListener(()=>{const se=new Error("The operation was aborted.");se.name="AbortError",V(se)})});let g;try{yield Promise.race([f,p]),g=yield f}catch(R){let V="fetch-client-network";throw"AbortError"===(null===(r=R)||void 0===r?void 0:r.name)&&(V="fetch-timeout"),Ot.create(V,{originalErrorMessage:null===(i=R)||void 0===i?void 0:i.message})}let y=g.status;const I=g.headers.get("ETag")||void 0;let D,v;if(200===g.status){let R;try{R=yield g.json()}catch(V){throw Ot.create("fetch-client-parse",{originalErrorMessage:null===(s=V)||void 0===s?void 0:s.message})}D=R.entries,v=R.state}if("INSTANCE_STATE_UNSPECIFIED"===v?y=500:"NO_CHANGE"===v?y=304:("NO_TEMPLATE"===v||"EMPTY_CONFIG"===v)&&(D={}),304!==y&&200!==y)throw Ot.create("fetch-status",{httpStatus:y});return{status:y,eTag:I,config:D}})()}}class wz{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return E(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return E(function*(){yield function vz(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Ot.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function Ez(t){if(!(t instanceof $n&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Kg(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class bz{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Uc(t,e){var n;const r=t.target.error||void 0;return Ot.create(e,{originalErrorMessage:r&&(null===(n=r)||void 0===n?void 0:n.message)})}const Ui="app_namespace_store";class Az{constructor(e,n,r,i=function Sz(){return new Promise((t,e)=>{var n;try{const r=indexedDB.open("firebase_remote_config",1);r.onerror=i=>{e(Uc(i,"storage-open"))},r.onsuccess=i=>{t(i.target.result)},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Ui,{keyPath:"compositeKey"})}}catch(r){e(Ot.create("storage-open",{originalErrorMessage:null===(n=r)||void 0===n?void 0:n.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return E(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{var o;const l=r.transaction([Ui],"readonly").objectStore(Ui),u=n.createCompositeKey(e);try{const c=l.get(u);c.onerror=d=>{s(Uc(d,"storage-get"))},c.onsuccess=d=>{const h=d.target.result;i(h?h.value:void 0)}}catch(c){s(Ot.create("storage-get",{originalErrorMessage:null===(o=c)||void 0===o?void 0:o.message}))}})})()}set(e,n){var r=this;return E(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{var a;const u=i.transaction([Ui],"readwrite").objectStore(Ui),c=r.createCompositeKey(e);try{const d=u.put({compositeKey:c,value:n});d.onerror=h=>{o(Uc(h,"storage-set"))},d.onsuccess=()=>{s()}}catch(d){o(Ot.create("storage-set",{originalErrorMessage:null===(a=d)||void 0===a?void 0:a.message}))}})})()}delete(e){var n=this;return E(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{var o;const l=r.transaction([Ui],"readwrite").objectStore(Ui),u=n.createCompositeKey(e);try{const c=l.delete(u);c.onerror=d=>{s(Uc(d,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Ot.create("storage-delete",{originalErrorMessage:null===(o=c)||void 0===o?void 0:o.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Mz{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return E(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Pz(){return Hm.apply(this,arguments)}function Hm(){return(Hm=E(function*(){if(!ki())return!1;try{return yield Ua()}catch{return!1}})).apply(this,arguments)}!function Rz(){Tt(new gt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ot.create("registration-window");if(!ki())throw Ot.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Ot.create("registration-project-id");if(!o)throw Ot.create("registration-api-key");if(!a)throw Ot.create("registration-app-id");const l=new Az(a,r.name,n=n||"firebase"),u=new Mz(l),c=new oo(Um);c.logLevel=ce.ERROR;const d=new yz(i,"9.9.2",n,s,o,a),h=new wz(d,l),f=new mz(h,l,u,c),p=new bz(r,f,u,l,c);return function fz(t){const e=Er(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),xe(Um,"0.3.11"),xe(Um,"0.3.11","esm2017")}();const kz="/firebase-messaging-sw.js",xz="/firebase-cloud-messaging-push-scope",IM="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",bM="google.c.a.c_id",Oz="google.c.a.c_l",Fz="google.c.a.ts",Lz="google.c.a.e";var uo=(()=>{return(t=uo||(uo={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",uo;var t})();function Ir(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Uz(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const Wm="fcm_token_details_db",DM="fcm_token_object_Store";function Bz(t){return Gm.apply(this,arguments)}function Gm(){return Gm=E(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(Wm))return null;let e=null;return(yield kc(Wm,5,{upgrade:(r=E(function*(i,s,o,a){var l;if(s<2||!i.objectStoreNames.contains(DM))return;const u=a.objectStore(DM),c=yield u.index("fcmSenderId").get(t);if(yield u.clear(),c)if(2===s){const d=c;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(l=d.createTime)&&void 0!==l?l:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Ir(d.vapidKey)}}}else if(3===s){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ir(d.auth),p256dh:Ir(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ir(d.vapidKey)}}}else if(4===s){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ir(d.auth),p256dh:Ir(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ir(d.vapidKey)}}}}),function(s,o,a,l){return r.apply(this,arguments)})})).close(),yield tm(Wm),yield tm("fcm_vapid_details_db"),yield tm("undefined"),jz(e)?e:null;var r}),Gm.apply(this,arguments)}function jz(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Vi="firebase-messaging-store";let zm=null;function qm(){return zm||(zm=kc("firebase-messaging-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Vi)}})),zm}function TM(t){return Km.apply(this,arguments)}function Km(){return(Km=E(function*(t){const e=Zm(t),r=yield(yield qm()).transaction(Vi).objectStore(Vi).get(e);if(r)return r;{const i=yield Bz(t.appConfig.senderId);if(i)return yield Qm(t,i),i}})).apply(this,arguments)}function Qm(t,e){return Ym.apply(this,arguments)}function Ym(){return(Ym=E(function*(t,e){const n=Zm(t),i=(yield qm()).transaction(Vi,"readwrite");return yield i.objectStore(Vi).put(e,n),yield i.done,e})).apply(this,arguments)}function Wz(t){return Jm.apply(this,arguments)}function Jm(){return(Jm=E(function*(t){const e=Zm(t),r=(yield qm()).transaction(Vi,"readwrite");yield r.objectStore(Vi).delete(e),yield r.done})).apply(this,arguments)}function Zm({appConfig:t}){return t.appId}const at=new Hn("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function zz(t,e){return Xm.apply(this,arguments)}function Xm(){return(Xm=E(function*(t,e){var n;const r=yield r_(t),i=AM(e),s={method:"POST",headers:r,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(n_(t.appConfig),s)).json()}catch(a){throw at.create("token-subscribe-failed",{errorInfo:null===(n=a)||void 0===n?void 0:n.toString()})}if(o.error)throw at.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw at.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function qz(t,e){return e_.apply(this,arguments)}function e_(){return(e_=E(function*(t,e){var n;const r=yield r_(t),i=AM(e.subscriptionOptions),s={method:"PATCH",headers:r,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(`${n_(t.appConfig)}/${e.token}`,s)).json()}catch(a){throw at.create("token-update-failed",{errorInfo:null===(n=a)||void 0===n?void 0:n.toString()})}if(o.error)throw at.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw at.create("token-update-no-token");return o.token})).apply(this,arguments)}function SM(t,e){return t_.apply(this,arguments)}function t_(){return(t_=E(function*(t,e){var n;const i={method:"DELETE",headers:yield r_(t)};try{const o=yield(yield fetch(`${n_(t.appConfig)}/${e}`,i)).json();if(o.error)throw at.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(s){throw at.create("token-unsubscribe-failed",{errorInfo:null===(n=s)||void 0===n?void 0:n.toString()})}})).apply(this,arguments)}function n_({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function r_(t){return i_.apply(this,arguments)}function i_(){return(i_=E(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function AM({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==IM&&(i.web.applicationPubKey=r),i}const Kz=6048e5;function Qz(t){return s_.apply(this,arguments)}function s_(){return(s_=E(function*(t){const e=yield Jz(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Ir(e.getKey("auth")),p256dh:Ir(e.getKey("p256dh"))},r=yield TM(t.firebaseDependencies);if(r){if(Zz(r.subscriptionOptions,n))return Date.now()>=r.createTime+Kz?Yz(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield SM(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return RM(t.firebaseDependencies,n)}return RM(t.firebaseDependencies,n)})).apply(this,arguments)}function MM(t){return o_.apply(this,arguments)}function o_(){return(o_=E(function*(t){const e=yield TM(t.firebaseDependencies);e&&(yield SM(t.firebaseDependencies,e.token),yield Wz(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function Yz(t,e){return a_.apply(this,arguments)}function a_(){return(a_=E(function*(t,e){try{const n=yield qz(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield Qm(t.firebaseDependencies,r),n}catch(n){throw yield MM(t),n}})).apply(this,arguments)}function RM(t,e){return l_.apply(this,arguments)}function l_(){return(l_=E(function*(t,e){const r={token:yield zz(t,e),createTime:Date.now(),subscriptionOptions:e};return yield Qm(t,r),r.token})).apply(this,arguments)}function Jz(t,e){return u_.apply(this,arguments)}function u_(){return(u_=E(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Uz(e)})})).apply(this,arguments)}function Zz(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function PM(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function Xz(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i)}(e,t),function e6(t,e){!e.data||(t.data=e.data)}(e,t),function t6(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const l=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}(e,t),e}function n6(t){return"object"==typeof t&&!!t&&bM in t}function kM(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function c_(t){return at.create("missing-app-config-values",{valueName:t})}kM("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),kM("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class i6{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function r6(t){if(!t||!t.options)throw c_("App Configuration Object");if(!t.name)throw c_("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw c_(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function xM(t){return d_.apply(this,arguments)}function d_(){return(d_=E(function*(t){var e;try{t.swRegistration=yield navigator.serviceWorker.register(kz,{scope:xz}),t.swRegistration.update().catch(()=>{})}catch(n){throw at.create("failed-service-worker-registration",{browserErrorMessage:null===(e=n)||void 0===e?void 0:e.message})}})).apply(this,arguments)}function s6(t,e){return h_.apply(this,arguments)}function h_(){return(h_=E(function*(t,e){if(!e&&!t.swRegistration&&(yield xM(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw at.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function o6(t,e){return f_.apply(this,arguments)}function f_(){return(f_=E(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=IM)})).apply(this,arguments)}function p_(){return(p_=E(function*(t,e){if(!navigator)throw at.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw at.create("permission-blocked");return yield o6(t,e?.vapidKey),yield s6(t,e?.serviceWorkerRegistration),Qz(t)})).apply(this,arguments)}function a6(t,e,n){return g_.apply(this,arguments)}function g_(){return(g_=E(function*(t,e,n){const r=l6(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[bM],message_name:n[Oz],message_time:n[Fz],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function l6(t){switch(t){case uo.NOTIFICATION_CLICKED:return"notification_open";case uo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function m_(){return(m_=E(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===uo.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(PM(n)):t.onMessageHandler.next(PM(n)));const r=n.data;n6(r)&&"1"===r[Lz]&&(yield a6(t,n.messageType,r))})).apply(this,arguments)}const OM="@firebase/messaging",c6=t=>{const e=new i6(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function u6(t,e){return m_.apply(this,arguments)}(e,n)),e},d6=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function NM(t,e){return p_.apply(this,arguments)}(e,r)}};function LM(){return __.apply(this,arguments)}function __(){return(__=E(function*(){try{yield Ua()}catch{return!1}return typeof window<"u"&&ki()&&Wg()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function h6(){Tt(new gt("messaging",c6,"PUBLIC")),Tt(new gt("messaging-internal",d6,"PRIVATE")),xe(OM,"0.9.16"),xe(OM,"0.9.16","esm2017")}();const Vc="analytics",g6="firebase_id",y6="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",UM="https://www.googletagmanager.com/gtag/js",lt=new oo("@firebase/analytics");function VM(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function v6(t,e){const n=document.createElement("script");n.src=`${UM}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function w6(t,e,n,r,i,s){return E_.apply(this,arguments)}function E_(){return(E_=E(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const l=(yield VM(n)).find(u=>u.measurementId===i);l&&(yield e[l.appId])}}catch(a){lt.error(a)}t("config",i,s)})).apply(this,arguments)}function C6(t,e,n,r,i){return w_.apply(this,arguments)}function w_(){return(w_=E(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield VM(n);for(const l of o){const u=a.find(d=>d.measurementId===l),c=u&&e[u.appId];if(!c){s=[];break}s.push(c)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){lt.error(s)}})).apply(this,arguments)}function D6(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(UM))return e;return null}const Yt=new Hn("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),BM=new class M6{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function R6(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function P6(t){return C_.apply(this,arguments)}function C_(){return(C_=E(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:R6(r)},s=y6.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const l=yield o.json();null!==(e=l.error)&&void 0!==e&&e.message&&(a=l.error.message)}catch{}throw Yt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function k6(t){return I_.apply(this,arguments)}function I_(){return(I_=E(function*(t,e=BM,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Yt.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Yt.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new O6;return setTimeout(E(function*(){a.abort()}),void 0!==n?n:6e4),jM({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function jM(t,e,n){return b_.apply(this,arguments)}function b_(){return(b_=E(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=BM){var s,o;const{appId:a,measurementId:l}=t;try{yield x6(r,e)}catch(u){if(l)return lt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===(s=u)||void 0===s?void 0:s.message}]`),{appId:a,measurementId:l};throw u}try{const u=yield P6(t);return i.deleteThrottleMetadata(a),u}catch(u){const c=u;if(!N6(c)){if(i.deleteThrottleMetadata(a),l)return lt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:a,measurementId:l};throw u}const d=503===Number(null===(o=c?.customData)||void 0===o?void 0:o.httpStatus)?Kg(n,i.intervalMillis,30):Kg(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(a,h),lt.debug(`Calling attemptFetch again in ${d} millis`),jM(t,h,r,i)}})).apply(this,arguments)}function x6(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Yt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function N6(t){if(!(t instanceof $n&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class O6{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let D_,P_;function T_(){return(T_=E(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function $M(t){P_=t}function HM(t){D_=t}function j6(){return k_.apply(this,arguments)}function k_(){return(k_=E(function*(){var t;if(!ki())return lt.warn(Yt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Ua()}catch(e){return lt.warn(Yt.create("indexeddb-unavailable",{errorInfo:null===(t=e)||void 0===t?void 0:t.toString()}).message),!1}return!0})).apply(this,arguments)}function x_(){return(x_=E(function*(t,e,n,r,i,s,o){var a;const l=k6(t);l.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&lt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>lt.error(f)),e.push(l);const u=j6().then(f=>{if(f)return r.getId()}),[c,d]=yield Promise.all([l,u]);D6()||v6(s,c.measurementId),P_&&(i("consent","default",P_),$M(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[g6]=d),i("config",c.measurementId,h),D_&&(i("set",D_),HM(void 0)),c.measurementId})).apply(this,arguments)}class H6{constructor(e){this.app=e}_delete(){return delete br[this.app.options.appId],Promise.resolve()}}let br={},WM=[];const GM={};let qM,Dr,Bc="dataLayer",N_=!1;function G6(t,e,n){!function W6(){const t=[];if(Hg()&&t.push("This is a browser extension environment."),Wg()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Yt.create("invalid-analytics-context",{errorInfo:e});lt.warn(n.message)}}();const r=t.options.appId;if(!r)throw Yt.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Yt.create("no-api-key");lt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=br[r])throw Yt.create("already-exists",{id:r});if(!N_){!function E6(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Bc);const{wrappedGtag:s,gtagCore:o}=function b6(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function I6(t,e,n,r){function s(){return(s=E(function*(o,a,l){try{"event"===o?yield C6(t,e,n,a,l):"config"===o?yield w6(t,e,n,r,a,l):"consent"===o?t("consent","update",l):t("set",a)}catch(u){lt.error(u)}})).apply(this,arguments)}return function i(o,a,l){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(br,WM,GM,Bc,"gtag");Dr=s,qM=o,N_=!0}return br[r]=function $6(t,e,n,r,i,s,o){return x_.apply(this,arguments)}(t,WM,GM,e,qM,Bc,n),new H6(t)}function q6(){return O_.apply(this,arguments)}function O_(){return(O_=E(function*(){if(Hg()||!Wg()||!ki())return!1;try{return yield Ua()}catch{return!1}})).apply(this,arguments)}const KM="@firebase/analytics";!function Q6(){Tt(new gt(Vc,(e,{options:n})=>G6(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Tt(new gt("analytics-internal",function t(e){try{const n=e.getProvider(Vc).getImmediate();return{logEvent:(r,i,s)=>function K6(t,e,n,r){t=Er(t),function F6(t,e,n,r,i){return T_.apply(this,arguments)}(Dr,br[t.app.options.appId],e,n,r).catch(i=>lt.error(i))}(n,r,i,s)}}catch(n){throw Yt.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),xe(KM,"0.8.0"),xe(KM,"0.8.0","esm2017")}();class Y6 extends Vt{constructor(e,n){super()}schedule(e,n=0){return this}}const jc={setInterval(t,e,...n){const{delegate:r}=jc;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=jc;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class YM extends Y6{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return jc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;jc.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,is(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const JM={now:()=>(JM.delegate||Date).now(),delegate:void 0};class Ha{constructor(e,n=Ha.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Ha.now=JM.now;class ZM extends Ha{constructor(e,n=Ha.now){super(e,n),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const X6=new class Z6 extends ZM{}(class J6 extends YM{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):e.flush(this)}}),e8=new ZM(YM),F_=new ea("7.4.1"),L_="__angularfire_symbol__analyticsIsSupportedValue",U_="__angularfire_symbol__analyticsIsSupported",V_="__angularfire_symbol__remoteConfigIsSupportedValue",B_="__angularfire_symbol__remoteConfigIsSupported",j_="__angularfire_symbol__messagingIsSupportedValue",$_="__angularfire_symbol__messagingIsSupported";globalThis[U_]||(globalThis[U_]=q6().then(t=>globalThis[L_]=t).catch(()=>globalThis[L_]=!1)),globalThis[$_]||(globalThis[$_]=LM().then(t=>globalThis[j_]=t).catch(()=>globalThis[j_]=!1)),globalThis[B_]||(globalThis[B_]=Pz().then(t=>globalThis[V_]=t).catch(()=>globalThis[V_]=!1));const G_=(t,e)=>{const n=e?[e]:YA(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function co(){}class XM{constructor(e,n=X6){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class t8{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",co,{},co,co)),n.pipe(st({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let eR=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new XM(Zone.current)),this.insideAngular=n.run(()=>new XM(Zone.current,e8)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(x(De))},t.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Bi(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function n8(t){return Bi().ngZone.runOutsideAngular(()=>t())}function ji(t){return Bi().ngZone.run(()=>t())}function r8(t){return Bi(),function i8(t){return function(n){return(n=n.lift(new t8(t.ngZone))).pipe(Nl(t.outsideAngular),xl(t.insideAngular))}}(Bi())(t)}const s8=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ji(()=>t.apply(void 0,r))},$c=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=ji(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",co,{},co,co)))),r[s]=s8(r[s],n));const i=n8(()=>t.apply(this,r));if(!e){if(i instanceof Pe){const s=Bi();return i.pipe(Nl(s.outsideAngular),xl(s.insideAngular))}return ji(()=>i)}return i instanceof Pe?i.pipe(r8):i instanceof Promise?ji(()=>new Promise((s,o)=>i.then(a=>ji(()=>s(a)),a=>ji(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:ji(()=>i)};class ho{constructor(e){return e}}class tR{constructor(){return YA()}}const z_=new j("angularfire2._apps"),a8={provide:ho,useFactory:function o8(t){return t&&1===t.length?t[0]:new ho(QA())},deps:[[new it,z_]]},l8={provide:tR,deps:[[new it,z_]]};function u8(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new ho(r)}}let c8=(()=>{class t{constructor(n){xe("angularfire",F_.full,"core"),xe("angularfire",F_.full,"app"),xe("angular",_I.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(x(Bu))},t.\u0275mod=nr({type:t}),t.\u0275inj=Pn({providers:[a8,l8]}),t})();function d8(t,...e){return{ngModule:c8,providers:[{provide:z_,useFactory:u8(t),multi:!0,deps:[De,qt,eR,...e]}]}}const h8=$c(lG,!0);const f8=function nR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},rR=new Hn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),iR=new oo("@firebase/auth");function Hc(t,...e){iR.logLevel<=ce.ERROR&&iR.error(`Auth (9.9.2): ${t}`,...e)}function Ft(t,...e){throw q_(t,...e)}function Wn(t,...e){return q_(t,...e)}function sR(t,e,n){const r=Object.assign(Object.assign({},f8()),{[e]:n});return new Hn("auth","Firebase",r).create(e,{appName:t.name})}function q_(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return rR.create(t,...e)}function T(t,e,...n){if(!t)throw q_(e,...n)}function Gn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hc(e),new Error(e)}function Qr(t,e){t||Gn(e)}const oR=new Map;function Tr(t){Qr(t instanceof Function,"Expected a class definition");let e=oR.get(t);return e?(Qr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,oR.set(t,e),e)}function aR(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Ga{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qr(n>e,"Short delay should be less than long delay!"),this.isMobile=$g()||VA()}get(){return function m8(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function K_(){return"http:"===aR()||"https:"===aR()}()||Hg()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class lR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Gn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Gn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Gn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const y8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},v8=new Ga(3e4,6e4);function Xe(t,e,n,r){return Y_.apply(this,arguments)}function Y_(){return(Y_=E(function*(t,e,n,r,i={}){return uR(t,i,E(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=zg(Object.assign({key:t.config.apiKey},o)).slice(1),l=yield t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),lR.fetch()(cR(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function uR(t,e,n){return J_.apply(this,arguments)}function J_(){return(J_=E(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},y8),e);try{const i=new E8(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw za(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw za(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw za(t,"email-already-in-use",o);if("USER_DISABLED"===l)throw za(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw sR(t,c,u);Ft(t,c)}}catch(i){if(i instanceof $n)throw i;Ft(t,"network-request-failed")}})).apply(this,arguments)}function cR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function Q_(t,e){Qr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class E8{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Wn(this.auth,"network-request-failed")),v8.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function za(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Wn(t,e,r);return i.customData._tokenResponse=n,i}function X_(){return(X_=E(function*(t,e){return Xe(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function I8(t,e){return ty.apply(this,arguments)}function ty(){return(ty=E(function*(t,e){return Xe(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function qa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ny(){return(ny=E(function*(t,e=!1){const n=Er(t),r=yield n.getIdToken(e),i=Wc(r);T(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:qa(ry(i.auth_time)),issuedAtTime:qa(ry(i.iat)),expirationTime:qa(ry(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function ry(t){return 1e3*Number(t)}function Wc(t){var e;const[n,r,i]=t.split(".");if(void 0===n||void 0===r||void 0===i)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{const s=jg(r);return s?JSON.parse(s):(Hc("Failed to decode base64 JWT payload"),null)}catch(s){return Hc("Caught error parsing JWT payload as JSON",null===(e=s)||void 0===e?void 0:e.toString()),null}}function Ar(t,e){return iy.apply(this,arguments)}function iy(){return(iy=E(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof $n&&T8(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}function T8({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class S8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(E(function*(){yield n.iteration()}),r)}iteration(){var e=this;return E(function*(){var n;try{yield e.user.getIdToken(!0)}catch(r){return void("auth/network-request-failed"===(null===(n=r)||void 0===n?void 0:n.code)&&e.schedule(!0))}e.schedule()})()}}class dR{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qa(this.lastLoginAt),this.creationTime=qa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ka(t){return sy.apply(this,arguments)}function sy(){return(sy=E(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Ar(t,I8(n,{idToken:r}));T(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?R8(s.providerUserInfo):[],a=M8(t.providerData,o),c=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new dR(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)})).apply(this,arguments)}function oy(){return(oy=E(function*(t){const e=Er(t);yield Ka(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function M8(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function R8(t){return t.map(e=>{var{providerId:n}=e,r=kw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function ay(){return(ay=E(function*(t,e){const n=yield uR(t,{},E(function*(){const r=zg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=cR(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",lR.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){T(e.idToken,"internal-error"),T(typeof e.idToken<"u","internal-error"),T(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function D8(t){const e=Wc(t);return T(e,"internal-error"),T(typeof e.exp<"u","internal-error"),T(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return E(function*(){return T(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return E(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function P8(t,e){return ay.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Qa;return r&&(T("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(T("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(T("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qa,this.toJSON())}_performRefresh(){return Gn("not implemented")}}function Yr(t,e){T("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class $i{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=kw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new S8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new dR(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return E(function*(){const r=yield Ar(n,n.stsTokenManager.getToken(n.auth,e));return T(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function b8(t){return ny.apply(this,arguments)}(this,e)}reload(){return function A8(t){return oy.apply(this,arguments)}(this)}_assign(e){this!==e&&(T(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new $i(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){T(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return E(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Ka(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return E(function*(){const n=yield e.getIdToken();return yield Ar(e,function w8(t,e){return X_.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(l=n._redirectEventId)&&void 0!==l?l:void 0,I=null!==(u=n.createdAt)&&void 0!==u?u:void 0,D=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:R,isAnonymous:V,providerData:se,stsTokenManager:Jn}=n;T(v&&Jn,e,"internal-error");const Sl=Qa.fromJSON(this.name,Jn);T("string"==typeof v,e,"internal-error"),Yr(d,e.name),Yr(h,e.name),T("boolean"==typeof R,e,"internal-error"),T("boolean"==typeof V,e,"internal-error"),Yr(f,e.name),Yr(p,e.name),Yr(g,e.name),Yr(y,e.name),Yr(I,e.name),Yr(D,e.name);const rs=new $i({uid:v,auth:e,email:h,emailVerified:R,displayName:d,isAnonymous:V,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:Sl,createdAt:I,lastLoginAt:D});return se&&Array.isArray(se)&&(rs.providerData=se.map(Al=>Object.assign({},Al))),y&&(rs._redirectEventId=y),rs}static _fromIdTokenResponse(e,n,r=!1){return E(function*(){const i=new Qa;i.updateFromServerResponse(n);const s=new $i({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ka(s),s})()}}const hR=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(function*(){return!0})()}_set(n,r){var i=this;return E(function*(){i.storage[n]=r})()}_get(n){var r=this;return E(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return E(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Gc(t,e,n){return`firebase:${t}:${e}:${n}`}class po{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Gc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Gc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return E(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?$i._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return E(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return E(function*(){if(!n.length)return new po(Tr(hR),e,r);const i=(yield Promise.all(n.map(function(){var u=E(function*(c){if(yield c._isAvailable())return c});return function(c){return u.apply(this,arguments)}}()))).filter(u=>u);let s=i[0]||Tr(hR);const o=Gc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=yield u._get(o);if(c){const d=$i._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var u=E(function*(c){if(c!==s)try{yield c._remove(o)}catch{}});return function(c){return u.apply(this,arguments)}}())),new po(s,e,r)):new po(s,e,r)})()}}function fR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function mR(t=Qt()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function pR(t=Qt()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function yR(t=Qt()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function vR(t=Qt()){return/webos/i.test(t)}(e))return"Webos";if(function ly(t=Qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function gR(t=Qt()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function _R(t=Qt()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function ER(t,e=[]){let n;switch(t){case"Browser":n=fR(Qt());break;case"Worker":n=`${fR(Qt())}-${t}`;break;default:n=t}return`${n}/JsCore/9.9.2/${e.length?e.join(","):"FirebaseCore-web"}`}class N8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return E(function*(){var r;if(n.auth.currentUser===e)return;const i=[];try{for(const s of n.queue)yield s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const o of i)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:null===(r=s)||void 0===r?void 0:r.message})}})()}}class O8{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wR(this),this.idTokenSubscription=new wR(this),this.beforeStateQueue=new N8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rR,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Tr(n)),this._initializationPromise=this.queue(E(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield po.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return E(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return E(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,l=s?._redirectEventId,u=yield n.tryRedirectSignIn(e);(!a||a===l)&&u?.user&&(s=u.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return T(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return E(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return E(function*(){var r;try{yield Ka(e)}catch(i){if("auth/network-request-failed"!==(null===(r=i)||void 0===r?void 0:r.code))return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function _8(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return E(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return E(function*(){const r=e?Er(e):null;return r&&T(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return E(function*(){if(!r._deleted)return e&&T(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(E(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return E(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(E(function*(){yield n.assertedPersistence.setPersistence(Tr(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Hn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return E(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return E(function*(){if(!n.redirectPersistenceManager){const r=e&&Tr(e)||n._popupRedirectResolver;T(r,n,"argument-error"),n.redirectPersistenceManager=yield po.create(n,[Tr(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return E(function*(){var r,i;return n._isInitialized&&(yield n.queue(E(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return E(function*(){if(e===n.currentUser)return n.queue(E(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return T(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return E(function*(){n.currentUser&&n.currentUser!==e&&(n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh()),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return T(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ER(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return E(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}class wR{constructor(e){this.auth=e,this.observer=null,this.addObserver=function s4(t,e){const n=new o4(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return T(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function BR(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new Ga(3e4,6e4),new Ga(2e3,1e4),new Ga(3e4,6e4),new Ga(5e3,15e3);var ZR="@firebase/auth";class bq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return E(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){T(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function Tq(t){Tt(new gt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{T(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),T(!o?.includes(":"),"argument-error",{appName:a.name});const u={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ER(t)},c=new O8(a,l,u);return function g8(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Tr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Tt(new gt("auth-internal",e=>{const n=function Lt(t){return Er(t)}(e.getProvider("auth").getImmediate());return new bq(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xe(ZR,"0.20.5",function Dq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),xe(ZR,"0.20.5","esm2017")}("Browser");class tP{constructor(){return G_("auth")}}const nP=new Map,Rq={activated:!1,tokenObservers:[]},Pq={initialized:!1,enabled:!1};function et(t){return nP.get(t)||Rq}function Dn(t,e){nP.set(t,e)}function rd(){return Pq}class Fq{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return E(function*(){n.stop();try{n.pending=new io,yield function Lq(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new io,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const St=new Hn("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function iP(t){if(!et(t).activated)throw St.create("use-before-activation",{appName:t.name})}function zv(t,e){return qv.apply(this,arguments)}function qv(){return(qv=E(function*({url:t,body:e},n){var r,i;const s={"Content-Type":"application/json"},o=n.getImmediate({optional:!0});if(o){const f=yield o.getHeartbeatsHeader();f&&(s["X-Firebase-Client"]=f)}const a={method:"POST",body:JSON.stringify(e),headers:s};let l,u;try{l=yield fetch(t,a)}catch(f){throw St.create("fetch-network-error",{originalErrorMessage:null===(r=f)||void 0===r?void 0:r.message})}if(200!==l.status)throw St.create("fetch-status-error",{httpStatus:l.status});try{u=yield l.json()}catch(f){throw St.create("fetch-parse-error",{originalErrorMessage:null===(i=f)||void 0===i?void 0:i.message})}const c=u.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw St.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});const d=1e3*Number(c[1]),h=Date.now();return{token:u.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})).apply(this,arguments)}function jq(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const el="firebase-app-check-store";let od=null;function oP(){return od||(od=new Promise((t,e)=>{var n;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{t(i.target.result)},r.onerror=i=>{var s;e(St.create("storage-open",{originalErrorMessage:null===(s=i.target.error)||void 0===s?void 0:s.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(el,{keyPath:"compositeKey"})}}catch(r){e(St.create("storage-open",{originalErrorMessage:null===(n=r)||void 0===n?void 0:n.message}))}}),od)}function Kv(){return(Kv=E(function*(t,e){const r=(yield oP()).transaction(el,"readwrite"),s=r.objectStore(el).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var u;a(St.create("storage-set",{originalErrorMessage:null===(u=l.target.error)||void 0===u?void 0:u.message}))}})})).apply(this,arguments)}const tl=new oo("@firebase/app-check");function cP(t,e){return ki()?function Gq(t,e){return function aP(t,e){return Kv.apply(this,arguments)}(function uP(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{tl.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function dP(){return rd().enabled}function hP(){return Zv.apply(this,arguments)}function Zv(){return(Zv=E(function*(){const t=rd();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Jq={error:"UNKNOWN_ERROR"};function Zq(t){return Sc.encodeString(JSON.stringify(t),!1)}function ad(t){return Xv.apply(this,arguments)}function Xv(){return(Xv=E(function*(t,e=!1){const n=t.app;iP(n);const r=et(n);let s,i=r.token;if(!i){const l=yield r.cachedTokenPromise;l&&ld(l)&&(i=l)}if(!e&&i&&ld(i))return{token:i.token};let a,o=!1;if(dP()){r.exchangeTokenPromise||(r.exchangeTokenPromise=zv(jq(n,yield hP()),t.heartbeatServiceProvider).then(u=>(r.exchangeTokenPromise=void 0,u)),o=!0);const l=yield r.exchangeTokenPromise;return yield cP(n,l),Dn(n,Object.assign(Object.assign({},r),{token:l})),{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(l=>(r.exchangeTokenPromise=void 0,l)),o=!0),i=yield r.exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?tl.warn(l.message):tl.error(l),s=l}return i?(a={token:i.token},Dn(n,Object.assign(Object.assign({},r),{token:i})),yield cP(n,i)):a=e7(s),o&&pP(n,a),a})).apply(this,arguments)}function tE(t,e){const n=et(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),Dn(t,Object.assign(Object.assign({},n),{tokenObservers:r}))}function fP(t){const{app:e}=t,n=et(e);let r=n.tokenRefresher;r||(r=function Xq(t){const{app:e}=t;return new Fq(E(function*(){let r;if(r=et(e).token?yield ad(t,!0):yield ad(t),r.error)throw r.error}),()=>!0,()=>{const n=et(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),Dn(e,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function pP(t,e){const n=et(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function ld(t){return t.expireTimeMillis-Date.now()>0}function e7(t){return{token:Zq(Jq),error:t}}class t7{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=et(this.app);for(const n of e)tE(this.app,n.next);return Promise.resolve()}}const CP="app-check-internal";!function g7(){Tt(new gt("app-check",t=>function n7(t,e){return new t7(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(CP).initialize()})),Tt(new gt(CP,t=>function r7(t){return{getToken:e=>ad(t,e),addTokenListener:e=>function eE(t,e,n,r){const{app:i}=t,s=et(i),o={next:n,error:r,type:e};if(Dn(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&ld(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),fP(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>fP(t))}(t,"INTERNAL",e),removeTokenListener:e=>tE(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),xe("@firebase/app-check","0.5.12")}();class bP{constructor(){return G_("app-check")}}typeof window<"u"&&window;const DP="@firebase/database";let oE="";class w7{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ze(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:Va(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class C7{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return vr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const SP=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new w7(e)}}catch{}return new C7},zi=SP("localStorage"),aE=SP("sessionStorage"),go=new oo("@firebase/database"),AP=function(){let t=1;return function(){return t++}}(),MP=function(t){const e=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,b(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),n=new i4;n.update(e);const r=n.digest();return Sc.encodeByteArray(r)},nl=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=nl.apply(null,r):e+="object"==typeof r?Ze(r):r,e+=" "}return e};let qi=null,RP=!0;const tt=function(...t){if(!0===RP&&(RP=!1,null===qi&&!0===aE.get("logging_enabled")&&function(t,e){b(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(go.logLevel=ce.VERBOSE,qi=go.log.bind(go),e&&aE.set("logging_enabled",!0)):"function"==typeof t?qi=t:(qi=null,aE.remove("logging_enabled"))}(!0)),qi){const e=nl.apply(null,t);qi(e)}},rl=function(t){return function(...e){tt(t,...e)}},lE=function(...t){const e="FIREBASE INTERNAL ERROR: "+nl(...t);go.error(e)},zn=function(...t){const e=`FIREBASE FATAL ERROR: ${nl(...t)}`;throw go.error(e),new Error(e)},mt=function(...t){const e="FIREBASE WARNING: "+nl(...t);go.warn(e)},cd=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Rr="[MIN_NAME]",qn="[MAX_NAME]",Ki=function(t,e){if(t===e)return 0;if(t===Rr||e===qn)return-1;if(e===Rr||t===qn)return 1;{const n=dd(t),r=dd(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},D7=function(t,e){return t===e?0:t<e?-1:1},il=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ze(e))},uE=function(t){if("object"!=typeof t||null===t)return Ze(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=Ze(e[r]),n+=":",n+=uE(t[e[r]]);return n+="}",n},kP=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function nt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const xP=function(t){b(!cd(t),"Invalid JSON number");const r=1023;let i,s,o,a,l;0===t?(s=0,o=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(t/Math.pow(2,-1074))));const u=[];for(l=52;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=11;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},M7=new RegExp("^-?(0*)\\d{1,10}$"),dd=function(t){if(M7.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},mo=function(t){try{t()}catch(e){setTimeout(()=>{throw mt("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},sl=function(t,e){const n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n};class P7{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){mt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class k7{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(tt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',mt(e)}}let ol=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const VP=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,$P="websocket",HP="long_polling";class hE{constructor(e,n,r,i,s=!1,o="",a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=zi.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&zi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function WP(t,e,n){let r;if(b("string"==typeof e,"typeof type must == string"),b("object"==typeof n,"typeof params must == object"),e===$P)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==HP)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function x7(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return nt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class N7{constructor(){this.counters_={}}incrementCounter(e,n=1){vr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return YW(this.counters_)}}const fE={},pE={};function gE(t){const e=t.toString();return fE[e]||(fE[e]=new N7),fE[e]}class F7{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&mo(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Jr{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=rl(e),this.stats_=gE(n),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),WP(n,HP,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new F7(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new mE((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=l;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&VP.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Jr.forceAllow_=!0}static forceDisallow(){Jr.forceDisallow_=!0}static isAvailable(){return!(!Jr.forceAllow_&&(Jr.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ze(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=LA(n),i=kP(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ze(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class mE{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=AP(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=mE.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){tt("frame writing exception"),a.stack&&tt(a.stack),tt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||tt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{tt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let fd=null;typeof MozWebSocket<"u"?fd=MozWebSocket:typeof WebSocket<"u"&&(fd=WebSocket);let _o=(()=>{class t{constructor(n,r,i,s,o,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=rl(this.connId),this.stats_=gE(r),this.connURL=t.connectionURL_(r,a,l,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){const a={v:"5"};return typeof location<"u"&&location.hostname&&VP.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),WP(n,$P,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,zi.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new fd(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==fd&&!t.forceDisallow_}static previouslyFailed(){return zi.isInMemoryStorage||!0===zi.get("previous_websocket_failure")}markConnectionHealthy(){zi.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=Va(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(b(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=Ze(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=kP(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),JP=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Jr,_o]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=_o&&_o.isAvailable();let i=r&&!_o.previouslyFailed();if(n.webSocketOnly&&(r||mt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[_o];else{const s=this.transports_=[];for(const o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class ik{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=rl("c:"+this.id+":"),this.transportManager_=new JP(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=sl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=il("t",e),r=il("d",e);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=il("t",e),r=il("d",e);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=il("t",e);if("d"in e){const r=e.d;if("h"===n)this.onHandshake_(r);else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?lE("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):lE("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&mt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),sl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):sl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(zi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class sk{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class ok{constructor(e){this.allowedEvents_=e,this.listeners_={},b(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){b(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class pd extends ok{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!$g()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new pd}getInitialEvent(e){return b("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class de{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function ie(){return new de("")}function J(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Zr(t){return t.pieces_.length-t.pieceNum_}function _e(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new de(t.pieces_,e)}function yE(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function al(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function uk(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new de(e,0)}function be(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof de)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new de(n,0)}function Z(t){return t.pieceNum_>=t.pieces_.length}function At(t,e){const n=J(t),r=J(e);if(null===n)return e;if(n===r)return At(_e(t),_e(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function vE(t,e){if(Zr(t)!==Zr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function un(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Zr(t)>Zr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class s9{constructor(e,n){this.errorPrefix_=n,this.parts_=al(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Pc(this.parts_[r]);ck(this)}}function ck(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Qi(t))}function Qi(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class EE extends ok{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new EE}getInitialEvent(e){return b("visible"===e,"Unknown event type: "+e),[this.visible_]}}const ll=1e3;let md,Yi=(()=>{class t extends sk{constructor(n,r,i,s,o,a,l,u){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=t.nextPersistentConnectionId_++,this.log_=rl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ll,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");EE.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&pd.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(Ze(o)),b(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();const r=new io,i={p:n._path.toString(),q:n._queryObject};return this.outstandingGets_.push({action:"g",request:i,onComplete:a=>{const l=a.d;"ok"===a.s?r.resolve(l):r.reject(l)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,s){this.initConnection_();const o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),b(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),b(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest("q",o,l=>{const u=l.d,c=l.s;t.warnOnListenWarnings_(u,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",l),"ok"!==c&&this.removeListen_(i,s),n.onComplete&&n.onComplete(c,u))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&vr(n,"w")){const i=so(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();mt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(t){const e=Mc(t).claims;return"object"==typeof e&&!0===e.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=function(t){const n=Mc(t).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===n&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),b(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);const o={p:n};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Ze(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):lE("Unrecognized action received from server: "+Ze(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){b(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ll,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=ll,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ll),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return E(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),s=n.onRealtimeDisconnect_.bind(n),o=n.id+":"+t.nextConnectionId_++,a=n.lastSessionId;let l=!1,u=null;const c=function(){u?u.close():(l=!0,s())};n.realtime_={close:c,sendRequest:function(f){b(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(f)}};const h=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([n.authTokenProvider_.getToken(h),n.appCheckTokenProvider_.getToken(h)]);l?tt("getToken() completed but was canceled"):(tt("getToken() completed. Creating connection."),n.authToken_=f&&f.accessToken,n.appCheckToken_=p&&p.token,u=new ik(o,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,s,g=>{mt(g+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(f){n.log_("Failed to get token: "+f),l||(n.repoInfo_.nodeAdmin&&mt(f),c())}}})()}interrupt(n){tt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){tt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],BA(this.interruptReasons_)&&(this.reconnectDelay_=ll,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(o=>uE(o)).join("$"):"default";const s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){const i=new de(n).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){tt("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){tt("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+oE.replace(/\./g,"-")]=1,$g()?n["framework.cordova"]=1:VA()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=pd.getInstance().currentlyOnline();return BA(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class ee{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ee(e,n)}}class gd{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ee(Rr,e),i=new ee(Rr,n);return 0!==this.compare(r,i)}minPost(){return ee.MIN}}class fk extends gd{static get __EMPTY_NODE(){return md}static set __EMPTY_NODE(e){md=e}compare(e,n){return Ki(e.name,n.name)}isDefinedOn(e){throw ro("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ee.MIN}maxPost(){return new ee(qn,md)}makePost(e,n){return b("string"==typeof e,"KeyIndex indexValue must always be a string."),new ee(e,md)}toString(){return".key"}}const Kn=new fk;class _d{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let CE,Tn=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??Ut.EMPTY_NODE,this.right=o??Ut.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this;const o=i(n,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(n,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ut.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return Ut.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class Ut{constructor(e,n=Ut.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ut(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Tn.BLACK,null,null))}remove(e){return new Ut(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Tn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new _d(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new _d(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new _d(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new _d(this.root_,null,this.comparator_,!0,e)}}function f9(t,e){return Ki(t.name,e.name)}function wE(t,e){return Ki(t,e)}Ut.EMPTY_NODE=new class h9{copy(e,n,r,i,s){return this}insert(e,n,r){return new Tn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const pk=function(t){return"number"==typeof t?"number:"+xP(t):"string:"+t},gk=function(t){if(t.isLeafNode()){const e=t.val();b("string"==typeof e||"number"==typeof e||"object"==typeof e&&vr(e,".sv"),"Priority must be a string or number.")}else b(t===CE||t.isEmpty(),"priority of unexpected type.");b(t===CE||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let mk,_k,yk,yo=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,b(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),gk(this.priorityNode_)}static set __childrenNodeConstructor(n){mk=n}static get __childrenNodeConstructor(){return mk}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Z(n)?this:".priority"===J(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=J(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:(b(".priority"!==i||1===Zr(n),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(_e(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+pk(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?xP(this.value_):this.value_,this.lazyHash_=MP(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(b(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return b(s>=0,"Unknown leaf type: "+r),b(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const we=new class _9 extends gd{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return 0===s?Ki(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ee.MIN}maxPost(){return new ee(qn,new yo("[PRIORITY-POST]",yk))}makePost(e,n){const r=_k(e);return new ee(n,new yo("[PRIORITY-POST]",r))}toString(){return".priority"}},y9=Math.log(2);class v9{constructor(e){this.count=parseInt(Math.log(e+1)/y9,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const yd=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,h;if(0===c)return null;if(1===c)return d=t[l],h=n?n(d):d,new Tn(h,d.node,Tn.BLACK,null,null);{const f=parseInt(c/2,10)+l,p=i(l,f),g=i(f+1,u);return d=t[f],h=n?n(d):d,new Tn(h,d.node,Tn.BLACK,p,g)}},a=function(l){let u=null,c=null,d=t.length;const h=function(p,g){const y=d-p,I=d;d-=p;const D=i(y+1,I),v=t[y],R=n?n(v):v;f(new Tn(R,v.node,g,null,D))},f=function(p){u?(u.left=p,u=p):(c=p,u=p)};for(let p=0;p<l.count;++p){const g=l.nextBitIsOne(),y=Math.pow(2,l.count-(p+1));g?h(y,Tn.BLACK):(h(y,Tn.BLACK),h(y,Tn.RED))}return c}(new v9(t.length));return new Ut(r||e,a)};let IE;const vo={};class Pr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return b(vo&&we,"ChildrenNode.ts has not been loaded"),IE=IE||new Pr({".priority":vo},{".priority":we}),IE}get(e){const n=so(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ut?n:null}hasIndex(e){return vr(this.indexSet_,e.toString())}addIndex(e,n){b(e!==Kn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(ee.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?yd(r,e.getCompare()):vo;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new Pr(c,u)}addToIndexes(e,n){const r=Rc(this.indexes_,(i,s)=>{const o=so(this.indexSet_,s);if(b(o,"Missing index implementation for "+s),i===vo){if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(ee.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),yd(a,o.getCompare())}return vo}{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new ee(e.name,a))),l.insert(e,e.node)}});return new Pr(r,this.indexSet_)}removeFromIndexes(e,n){const r=Rc(this.indexes_,i=>{if(i===vo)return i;{const s=n.get(e.name);return s?i.remove(new ee(e.name,s)):i}});return new Pr(r,this.indexSet_)}}let ul,G=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&gk(this.priorityNode_),this.children_.isEmpty()&&b(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ul||(ul=new t(new Ut(wE),null,Pr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ul}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?ul:r}}getChild(n){const r=J(n);return null===r?this:this.getImmediateChild(r).getChild(_e(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if(b(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new ee(n,r);let s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?ul:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){const i=J(n);if(null===i)return r;{b(".priority"!==J(n)||1===Zr(n),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(_e(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(we,(a,l)=>{r[a]=l.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){const a=[];for(const l in r)a[l]=r[l];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+pk(this.getPriority().val())+":"),this.forEachChild(we,(r,i)=>{const s=i.hash();""!==s&&(n+=":"+r+":"+s)}),this.lazyHash_=""===n?"":MP(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new ee(n,r));return o?o.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new ee(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new ee(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{const s=this.children_.getIteratorFrom(n.name,ee.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{const s=this.children_.getReverseIteratorFrom(n.name,ee.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===cl?-1:0}withIndex(n){if(n===Kn||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Kn||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(we),s=r.getIterator(we);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(n){return n===Kn?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const cl=new class E9 extends G{constructor(){super(new Ut(wE),G.EMPTY_NODE,Pr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return G.EMPTY_NODE}isEmpty(){return!1}};function Se(t,e=null){if(null===t)return G.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),b(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new yo(t,Se(e));if(t instanceof Array){let n=G.EMPTY_NODE;return nt(t,(r,i)=>{if(vr(t,r)&&"."!==r.substring(0,1)){const s=Se(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Se(e))}{const n=[];let r=!1;if(nt(t,(o,a)=>{if("."!==o.substring(0,1)){const l=Se(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new ee(o,l)))}}),0===n.length)return G.EMPTY_NODE;const s=yd(n,f9,o=>o.name,wE);if(r){const o=yd(n,we.getCompare());return new G(s,Se(e),new Pr({".priority":o},{".priority":we}))}return new G(s,Se(e),Pr.Default)}}Object.defineProperties(ee,{MIN:{value:new ee(Rr,G.EMPTY_NODE)},MAX:{value:new ee(qn,cl)}}),fk.__EMPTY_NODE=G.EMPTY_NODE,yo.__childrenNodeConstructor=G,function p9(t){CE=t}(cl),function m9(t){yk=t}(cl),function g9(t){_k=t}(Se);class bE extends gd{constructor(e){super(),this.indexPath_=e,b(!Z(e)&&".priority"!==J(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return 0===s?Ki(e.name,n.name):s}makePost(e,n){const r=Se(e),i=G.EMPTY_NODE.updateChild(this.indexPath_,r);return new ee(n,i)}maxPost(){const e=G.EMPTY_NODE.updateChild(this.indexPath_,cl);return new ee(qn,e)}toString(){return al(this.indexPath_,0).join("/")}}const DE=new class C9 extends gd{compare(e,n){const r=e.node.compareTo(n.node);return 0===r?Ki(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ee.MIN}maxPost(){return ee.MAX}makePost(e,n){const r=Se(e);return new ee(n,r)}toString(){return".value"}};function Ik(t){return{type:"value",snapshotNode:t}}function wo(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function dl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function hl(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class SE{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){b(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(null!=o&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(dl(n,a)):b(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(wo(n,r)):o.trackChildChange(hl(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return null!=r&&(e.isLeafNode()||e.forEachChild(we,(i,s)=>{n.hasChild(i)||r.trackChildChange(dl(i,s))}),n.isLeafNode()||n.forEachChild(we,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(hl(i,s,o))}else r.trackChildChange(wo(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?G.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class fl{constructor(e){this.indexedFilter_=new SE(e.getIndex()),this.index_=e.getIndex(),this.startPost_=fl.getStartPost_(e),this.endPost_=fl.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,n,r,i,s,o){return this.matches(new ee(n,r))||(r=G.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=G.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(G.EMPTY_NODE);const s=this;return n.forEachChild(we,(o,a)=>{s.matches(new ee(o,a))||(i=i.updateImmediateChild(o,G.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}return e.getIndex().maxPost()}}class D9{constructor(e){this.rangedFilter_=new fl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new ee(n,r))||(r=G.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=G.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<n.numChildren()&&n.isIndexed(this.index_)){let s;i=G.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();let l;if(l=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0,!l)break;i=i.updateImmediateChild(a.name,a.node),o++}}else{let s,o,a,l;if(i=n.withIndex(this.index_),i=i.updatePriority(G.EMPTY_NODE),this.reverse_){l=i.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),o=this.rangedFilter_.getStartPost();const d=this.index_.getCompare();a=(h,f)=>d(f,h)}else l=i.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),o=this.rangedFilter_.getEndPost(),a=this.index_.getCompare();let u=0,c=!1;for(;l.hasNext();){const d=l.getNext();!c&&a(s,d)<=0&&(c=!0),c&&u<this.limit_&&a(d,o)<=0?u++:i=i.updateImmediateChild(d.name,G.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();const a=e;b(a.numChildren()===this.limit_,"");const l=new ee(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,u,this.reverse_);for(;null!=h&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const f=null==h?1:o(h,l);if(c&&!r.isEmpty()&&f>=0)return s?.trackChildChange(hl(n,r,d)),a.updateImmediateChild(n,r);{s?.trackChildChange(dl(n,d));const g=a.updateImmediateChild(n,G.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(s?.trackChildChange(wo(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}return r.isEmpty()?e:c&&o(u,l)>=0?(null!=s&&(s.trackChildChange(dl(u.name,u.node)),s.trackChildChange(wo(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,G.EMPTY_NODE)):e}}class AE{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=we}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return b(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return b(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Rr}hasEnd(){return this.endSet_}getIndexEndValue(){return b(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return b(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:qn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return b(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===we}copy(){const e=new AE;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function bk(t){const e={};if(t.isDefault())return e;let n;return t.index_===we?n="$priority":t.index_===DE?n="$value":t.index_===Kn?n="$key":(b(t.index_ instanceof bE,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ze(n),t.startSet_&&(e.startAt=Ze(t.indexStartValue_),t.startNameSet_&&(e.startAt+=","+Ze(t.indexStartName_))),t.endSet_&&(e.endAt=Ze(t.indexEndValue_),t.endNameSet_&&(e.endAt+=","+Ze(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Dk(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==we&&(e.i=t.index_.toString()),e}class Ed extends sk{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=rl("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:(b(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Ed.getListenId_(e,r),a={};this.listens_[o]=a;const l=bk(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(404===u&&(d=null,u=null),null===u&&this.onDataUpdate_(s,d,!1,r),so(this.listens_,o)===a){let h;h=u?401===u?"permission_denied":"rest_error:"+u:"ok",i(h,null)}})}unlisten(e,n){const r=Ed.getListenId_(e,n);delete this.listens_[r]}get(e){const n=bk(e._queryParams),r=e._path.toString(),i=new io;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+zg(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Va(a.responseText)}catch{mt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else 401!==a.status&&404!==a.status&&mt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class P9{constructor(){this.rootNode_=G.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function wd(){return{value:null,children:new Map}}function Co(t,e,n){if(Z(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=J(e);t.children.has(r)||t.children.set(r,wd()),Co(t.children.get(r),e=_e(e),n)}}function kE(t,e,n){null!==t.value?n(e,t.value):function k9(t,e){t.children.forEach((n,r)=>{e(r,n)})}(t,(r,i)=>{kE(i,new de(e.toString()+"/"+r),n)})}class x9{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&nt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}class F9{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new x9(e);const r=1e4+2e4*Math.random();sl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;nt(e,(i,s)=>{s>0&&vr(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),sl(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var cn=(()=>{return(t=cn||(cn={}))[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",cn;var t})();function OE(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class Cd{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=cn.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Z(this.path)){if(null!=this.affectedTree.value)return b(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new de(e));return new Cd(ie(),n,this.revert)}}return b(J(this.path)===e,"operationForChild called for unrelated child."),new Cd(_e(this.path),this.affectedTree,this.revert)}}class pl{constructor(e,n){this.source=e,this.path=n,this.type=cn.LISTEN_COMPLETE}operationForChild(e){return Z(this.path)?new pl(this.source,ie()):new pl(this.source,_e(this.path))}}class Ji{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=cn.OVERWRITE}operationForChild(e){return Z(this.path)?new Ji(this.source,ie(),this.snap.getImmediateChild(e)):new Ji(this.source,_e(this.path),this.snap)}}class Io{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=cn.MERGE}operationForChild(e){if(Z(this.path)){const n=this.children.subtree(new de(e));return n.isEmpty()?null:n.value?new Ji(this.source,ie(),n.value):new Io(this.source,ie(),n)}return b(J(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Io(this.source,_e(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Xr{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Z(e))return this.isFullyInitialized()&&!this.filtered_;const n=J(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class L9{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function gl(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>function B9(t,e,n){if(null==e.childName||null==n.childName)throw ro("Should only compare child_ events.");const r=new ee(e.childName,e.snapshotNode),i=new ee(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,a,l)),o.forEach(a=>{const l=function V9(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function Id(t,e){return{eventCache:t,serverCache:e}}function ml(t,e,n,r){return Id(new Xr(e,n,r),t.serverCache)}function Sk(t,e,n,r){return Id(t.eventCache,new Xr(e,n,r))}function bd(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Zi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let FE;class Ce{constructor(e,n=(()=>(FE||(FE=new Ut(D7)),FE))()){this.value=e,this.children=n}static fromObject(e){let n=new Ce(null);return nt(e,(r,i)=>{n=n.set(new de(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:ie(),value:this.value};if(Z(e))return null;{const r=J(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(_e(e),n);return null!=s?{path:be(new de(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Z(e))return this;{const n=J(e),r=this.children.get(n);return null!==r?r.subtree(_e(e)):new Ce(null)}}set(e,n){if(Z(e))return new Ce(n,this.children);{const r=J(e),s=(this.children.get(r)||new Ce(null)).set(_e(e),n),o=this.children.insert(r,s);return new Ce(this.value,o)}}remove(e){if(Z(e))return this.children.isEmpty()?new Ce(null):new Ce(null,this.children);{const n=J(e),r=this.children.get(n);if(r){const i=r.remove(_e(e));let s;return s=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&s.isEmpty()?new Ce(null):new Ce(this.value,s)}return this}}get(e){if(Z(e))return this.value;{const n=J(e),r=this.children.get(n);return r?r.get(_e(e)):null}}setTree(e,n){if(Z(e))return n;{const r=J(e),s=(this.children.get(r)||new Ce(null)).setTree(_e(e),n);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new Ce(this.value,o)}}fold(e){return this.fold_(ie(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(be(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ie(),n)}findOnPath_(e,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(Z(e))return null;{const s=J(e),o=this.children.get(s);return o?o.findOnPath_(_e(e),be(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ie(),n)}foreachOnPath_(e,n,r){if(Z(e))return this;{this.value&&r(n,this.value);const i=J(e),s=this.children.get(i);return s?s.foreachOnPath_(_e(e),be(n,i),r):new Ce(null)}}foreach(e){this.foreach_(ie(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(be(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class Sn{constructor(e){this.writeTree_=e}static empty(){return new Sn(new Ce(null))}}function _l(t,e,n){if(Z(e))return new Sn(new Ce(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=At(i,e);return s=s.updateChild(o,n),new Sn(t.writeTree_.set(i,s))}{const i=new Ce(n),s=t.writeTree_.setTree(e,i);return new Sn(s)}}}function LE(t,e,n){let r=t;return nt(n,(i,s)=>{r=_l(r,be(e,i),s)}),r}function Ak(t,e){if(Z(e))return Sn.empty();{const n=t.writeTree_.setTree(e,new Ce(null));return new Sn(n)}}function UE(t,e){return null!=Xi(t,e)}function Xi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(At(n.path,e)):null}function Mk(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(we,(r,i)=>{e.push(new ee(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new ee(r,i.value))}),e}function ei(t,e){if(Z(e))return t;{const n=Xi(t,e);return new Sn(null!=n?new Ce(n):t.writeTree_.subtree(e))}}function VE(t){return t.writeTree_.isEmpty()}function bo(t,e){return Rk(ie(),t.writeTree_,e)}function Rk(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?(b(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):n=Rk(be(t,i),s,n)}),!n.getChild(t).isEmpty()&&null!==r&&(n=n.updateChild(be(t,".priority"),r)),n}}function Dd(t,e){return Ok(e,t)}function z9(t,e){if(t.snap)return un(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&un(be(t.path,n),e))return!0;return!1}function K9(t){return t.visible}function Pk(t,e,n){let r=Sn.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)un(n,o)?(a=At(n,o),r=_l(r,a,s.snap)):un(o,n)&&(a=At(o,n),r=_l(r,ie(),s.snap.getChild(a)));else{if(!s.children)throw ro("WriteRecord should have .snap or .children");if(un(n,o))a=At(n,o),r=LE(r,a,s.children);else if(un(o,n))if(a=At(o,n),Z(a))r=LE(r,ie(),s.children);else{const l=so(s.children,J(a));if(l){const u=l.getChild(_e(a));r=_l(r,ie(),u)}}}}}return r}function kk(t,e,n,r,i){if(r||i){const s=ei(t.visibleWrites,e);return!i&&VE(s)?n:i||null!=n||UE(s,ie())?bo(Pk(t.allWrites,function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(un(u.path,e)||un(e,u.path))},e),n||G.EMPTY_NODE):null}{const s=Xi(t.visibleWrites,e);if(null!=s)return s;{const o=ei(t.visibleWrites,e);return VE(o)?n:null!=n||UE(o,ie())?bo(o,n||G.EMPTY_NODE):null}}}function Td(t,e,n,r){return kk(t.writeTree,t.treePath,e,n,r)}function BE(t,e){return function Q9(t,e,n){let r=G.EMPTY_NODE;const i=Xi(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(we,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=ei(t.visibleWrites,e);return n.forEachChild(we,(o,a)=>{const l=bo(ei(s,new de(o)),a);r=r.updateImmediateChild(o,l)}),Mk(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return Mk(ei(t.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(t.writeTree,t.treePath,e)}function xk(t,e,n,r){return function Y9(t,e,n,r,i){b(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=be(e,n);if(UE(t.visibleWrites,s))return null;{const o=ei(t.visibleWrites,s);return VE(o)?i.getChild(n):bo(o,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function Sd(t,e){return function Z9(t,e){return Xi(t.visibleWrites,e)}(t.writeTree,be(t.treePath,e))}function jE(t,e,n){return function J9(t,e,n,r){const i=be(e,n),s=Xi(t.visibleWrites,i);return null!=s?s:r.isCompleteForChild(n)?bo(ei(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function Nk(t,e){return Ok(be(t.treePath,e),t.writeTree)}function Ok(t,e){return{treePath:t,writeTree:e}}class nK{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;b("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),b(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===n&&"child_removed"===s)this.changeMap.set(r,hl(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===s)this.changeMap.set(r,dl(r,i.oldSnap));else if("child_changed"===n&&"child_added"===s)this.changeMap.set(r,wo(r,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==s)throw ro("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,hl(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const Fk=new class rK{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}};class $E{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Xr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return jE(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Zi(this.viewCache_),s=function tK(t,e,n,r,i,s){return function X9(t,e,n,r,i,s,o){let a;const l=ei(t.visibleWrites,e),u=Xi(l,ie());if(null!=u)a=u;else{if(null==n)return[];a=bo(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const c=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&c.length<i;)0!==d(f,r)&&c.push(f),f=h.getNext();return c}}(t.writeTree,t.treePath,e,n,r,i,s)}(this.writes_,i,n,1,r,e);return 0===s.length?null:s[0]}}function Lk(t,e,n,r,i,s){const o=e.eventCache;if(null!=Sd(r,n))return e;{let a,l;if(Z(n))if(b(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Zi(e),d=BE(r,u instanceof G?u:G.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=Td(r,Zi(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=J(n);if(".priority"===u){b(1===Zr(n),"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=xk(r,n,c,l);a=null!=d?t.filter.updatePriority(c,d):o.getNode()}else{const c=_e(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const h=xk(r,n,o.getNode(),l);d=null!=h?o.getNode().getImmediateChild(u).updateChild(c,h):o.getNode().getImmediateChild(u)}else d=jE(r,u,e.serverCache);a=null!=d?t.filter.updateChild(o.getNode(),u,d,c,i,s):o.getNode()}}return ml(e,a,o.isFullyInitialized()||Z(n),t.filter.filtersNodes())}}function Ad(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(Z(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{const f=J(n);if(!l.isCompleteForPath(n)&&Zr(n)>1)return e;const p=_e(n),y=l.getNode().getImmediateChild(f).updateChild(p,r);u=".priority"===f?c.updatePriority(l.getNode(),y):c.updateChild(l.getNode(),f,y,p,Fk,null)}const d=Sk(e,u,l.isFullyInitialized()||Z(n),c.filtersNodes());return Lk(t,d,n,i,new $E(i,d,s),a)}function HE(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new $E(i,e,s);if(Z(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=ml(e,u,!0,t.filter.filtersNodes());else{const d=J(n);if(".priority"===d)u=t.filter.updatePriority(e.eventCache.getNode(),r),l=ml(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=_e(n),f=a.getNode().getImmediateChild(d);let p;if(Z(h))p=r;else{const g=c.getCompleteChild(d);p=null!=g?".priority"===yE(h)&&g.getChild(uk(h)).isEmpty()?g:g.updateChild(h,r):G.EMPTY_NODE}l=f.equals(p)?e:ml(e,t.filter.updateChild(a.getNode(),d,p,h,c,o),a.isFullyInitialized(),t.filter.filtersNodes())}}return l}function Uk(t,e){return t.eventCache.isCompleteForChild(e)}function Vk(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function WE(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u,l=e;u=Z(n)?r:new Ce(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const p=Vk(0,e.serverCache.getNode().getImmediateChild(d),h);l=Ad(t,l,new de(d),p,i,s,o,a)}}),u.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&void 0===h.value;if(!c.hasChild(d)&&!f){const g=Vk(0,e.serverCache.getNode().getImmediateChild(d),h);l=Ad(t,l,new de(d),g,i,s,o,a)}}),l}class hK{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new SE(r.getIndex()),s=function T9(t){return t.loadsAllData()?new SE(t.getIndex()):t.hasLimit()?new D9(t):new fl(t)}(r);this.processor_=function iK(t){return{filter:t}}(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(G.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(G.EMPTY_NODE,a.getNode(),null),c=new Xr(l,o.isFullyInitialized(),i.filtersNodes()),d=new Xr(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Id(d,c),this.eventGenerator_=new L9(this.query_)}get query(){return this.query_}}function gK(t,e){const n=Zi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Z(e)&&!n.getImmediateChild(J(e)).isEmpty())?n.getChild(e):null}function Bk(t){return 0===t.eventRegistrations_.length}function jk(t,e,n){const r=[];if(n){b(null==e,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(o.matches(e)){if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}else i.push(o)}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function $k(t,e,n,r){e.type===cn.MERGE&&null!==e.source.queryId&&(b(Zi(t.viewCache_),"We should always have a full cache before handling merges"),b(bd(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=function oK(t,e,n,r,i){const s=new nK;let o,a;if(n.type===cn.OVERWRITE){const u=n;u.source.fromUser?o=HE(t,e,u.path,u.snap,r,i,s):(b(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Z(u.path),o=Ad(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===cn.MERGE){const u=n;u.source.fromUser?o=function lK(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=be(n,l);Uk(e,J(c))&&(a=HE(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=be(n,l);Uk(e,J(c))||(a=HE(t,a,c,u,i,s,o))}),a}(t,e,u.path,u.children,r,i,s):(b(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=WE(t,e,u.path,u.children,r,i,a,s))}else if(n.type===cn.ACK_USER_WRITE){const u=n;o=u.revert?function dK(t,e,n,r,i,s){let o;if(null!=Sd(r,n))return e;{const a=new $E(r,e,i),l=e.eventCache.getNode();let u;if(Z(n)||".priority"===J(n)){let c;if(e.serverCache.isFullyInitialized())c=Td(r,Zi(e));else{const d=e.serverCache.getNode();b(d instanceof G,"serverChildren would be complete if leaf node"),c=BE(r,d)}u=t.filter.updateFullNode(l,c,s)}else{const c=J(n);let d=jE(r,c,e.serverCache);null==d&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),u=null!=d?t.filter.updateChild(l,c,d,_e(n),a,s):e.eventCache.getNode().hasChild(c)?t.filter.updateChild(l,c,G.EMPTY_NODE,_e(n),a,s):l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Td(r,Zi(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=Sd(r,ie()),ml(e,u,o,t.filter.filtersNodes())}}(t,e,u.path,r,i,s):function uK(t,e,n,r,i,s,o){if(null!=Sd(i,n))return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=r.value){if(Z(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Ad(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Z(n)){let u=new Ce(null);return l.getNode().forEachChild(Kn,(c,d)=>{u=u.set(new de(c),d)}),WE(t,e,n,u,i,s,a,o)}return e}{let u=new Ce(null);return r.foreach((c,d)=>{const h=be(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),WE(t,e,n,u,i,s,a,o)}}(t,e,u.path,u.affectedTree,r,i,s)}else{if(n.type!==cn.LISTEN_COMPLETE)throw ro("Unknown operation type: "+n.type);o=function cK(t,e,n,r,i){const s=e.serverCache;return Lk(t,Sk(e,s.getNode(),s.isFullyInitialized()||Z(n),s.isFiltered()),n,r,Fk,i)}(t,e,n.path,r,s)}const l=s.getChanges();return function aK(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=bd(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Ik(bd(e)))}}(e,o,l),{viewCache:o,changes:l}}(t.processor_,i,e,n,r);return function sK(t,e){b(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),b(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,s.viewCache),b(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Hk(t,s.changes,s.viewCache.eventCache.getNode(),null)}function Hk(t,e,n,r){return function U9(t,e,n,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function b9(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(o.childName,o.snapshotNode))}),gl(t,i,"child_removed",e,r,n),gl(t,i,"child_added",e,r,n),gl(t,i,"child_moved",s,r,n),gl(t,i,"child_changed",e,r,n),gl(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}let Md,Pd;class Wk{constructor(){this.views=new Map}}function GE(t,e,n,r){const i=e.source.queryId;if(null!==i){const s=t.views.get(i);return b(null!=s,"SyncTree gave us an op for an invalid query."),$k(s,e,n,r)}{let s=[];for(const o of t.views.values())s=s.concat($k(o,e,n,r));return s}}function wK(t,e,n,r,i,s){const o=function zE(t,e,n,r,i){const o=t.views.get(e._queryIdentifier);if(!o){let a=Td(n,i?r:null),l=!1;a?l=!0:r instanceof G?(a=BE(n,r),l=!1):(a=G.EMPTY_NODE,l=!1);const u=Id(new Xr(a,l,!1),new Xr(r,i,!1));return new hK(e,u)}return o}(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),function mK(t,e){t.eventRegistrations_.push(e)}(o,n),function _K(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(we,(s,o)=>{r.push(wo(s,o))}),n.isFullyInitialized()&&r.push(Ik(n.getNode())),Hk(t,r,n.getNode(),e)}(o,n)}function Gk(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ti(t,e){let n=null;for(const r of t.views.values())n=n||gK(r,e);return n}function zk(t,e){return e._queryParams.loadsAllData()?Rd(t):t.views.get(e._queryIdentifier)}function qk(t,e){return null!=zk(t,e)}function ni(t){return null!=Rd(t)}function Rd(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let DK=1;class Kk{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ce(null),this.pendingWriteTree_=function eK(){return{visibleWrites:Sn.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function qE(t,e,n,r,i){return function $9(t,e,n,r,i){b(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=_l(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?Do(t,new Ji({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function ri(t,e,n=!1){const r=function W9(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function G9(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);b(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&z9(a,r.path)?i=!1:un(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function q9(t){t.visibleWrites=Pk(t.allWrites,K9,ie()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=Ak(t.visibleWrites,r.path):nt(r.children,l=>{t.visibleWrites=Ak(t.visibleWrites,be(r.path,l))}),!0))}(t.pendingWriteTree_,e)){let s=new Ce(null);return null!=r.snap?s=s.set(ie(),!0):nt(r.children,o=>{s=s.set(new de(o),!0)}),Do(t,new Cd(r.path,s,n))}return[]}function yl(t,e,n){return Do(t,new Ji({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function kd(t,e,n,r){const i=e._path,s=t.syncPointTree_.get(i);let o=[];if(s&&("default"===e._queryIdentifier||qk(s,e))){const a=function CK(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=ni(t);if("default"===i)for(const[l,u]of t.views.entries())o=o.concat(jk(u,n,r)),Bk(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{const l=t.views.get(i);l&&(o=o.concat(jk(l,n,r)),Bk(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!ni(t)&&s.push(new(function vK(){return b(Md,"Reference.ts has not been loaded"),Md}())(e._repo,e._path)),{removed:s,events:o}}(s,e,n,r);(function EK(t){return 0===t.views.size})(s)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const l=a.removed;o=a.events;const u=-1!==l.findIndex(d=>d._queryParams.loadsAllData()),c=t.syncPointTree_.findOnPath(i,(d,h)=>ni(h));if(u&&!c){const d=t.syncPointTree_.subtree(i);if(!d.isEmpty()){const h=function xK(t){return t.fold((e,n,r)=>{if(n&&ni(n))return[Rd(n)];{let i=[];return n&&(i=Gk(n)),nt(r,(s,o)=>{i=i.concat(o)}),i}})}(d);for(let f=0;f<h.length;++f){const p=h[f],g=p.query,y=ex(t,p);t.listenProvider_.startListening(El(g),vl(t,g),y.hashFn,y.onComplete)}}}!c&&l.length>0&&!r&&(u?t.listenProvider_.stopListening(El(e),null):l.forEach(d=>{const h=t.queryToTagMap.get(Nd(d));t.listenProvider_.stopListening(El(d),h)})),function NK(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Nd(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}(t,l)}return o}function Jk(t,e,n){const{syncPoint:r,serverCache:i,writesCache:s,serverCacheComplete:o,viewAlreadyExists:a,foundAncestorDefaultView:l}=function Yk(t,e){const n=t._path;let r=null,i=!1;e.syncPointTree_.foreachOnPath(n,(u,c)=>{const d=At(u,n);r=r||ti(c,d),i=i||ni(c)});let o,s=e.syncPointTree_.get(n);s?(i=i||ni(s),r=r||ti(s,ie())):(s=new Wk,e.syncPointTree_=e.syncPointTree_.set(n,s)),null!=r?o=!0:(o=!1,r=G.EMPTY_NODE,e.syncPointTree_.subtree(n).foreachChild((c,d)=>{const h=ti(d,ie());h&&(r=r.updateImmediateChild(c,h))}));const a=qk(s,t);if(!a&&!t._queryParams.loadsAllData()){const u=Nd(t);b(!e.queryToTagMap.has(u),"View does not exist, but we have a tag");const c=function OK(){return DK++}();e.queryToTagMap.set(u,c),e.tagToQueryMap.set(c,u)}return{syncPoint:s,writesCache:Dd(e.pendingWriteTree_,n),serverCache:r,serverCacheComplete:o,foundAncestorDefaultView:i,viewAlreadyExists:a}}(e,t);let u=wK(r,e,n,s,i,o);if(!a&&!l){const c=zk(r,e);u=u.concat(function FK(t,e,n){const r=e._path,i=vl(t,e),s=ex(t,n),o=t.listenProvider_.startListening(El(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)b(!ni(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,d)=>{if(!Z(u)&&c&&ni(c))return[Rd(c).query];{let h=[];return c&&(h=h.concat(Gk(c).map(f=>f.query))),nt(d,(f,p)=>{h=h.concat(p)}),h}});for(let u=0;u<l.length;++u){const c=l[u];t.listenProvider_.stopListening(El(c),vl(t,c))}}return o}(t,e,c))}return u}function xd(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const u=ti(a,At(o,e));if(u)return u});return kk(i,e,s,n,!0)}function Do(t,e){return Zk(e,t.syncPointTree_,null,Dd(t.pendingWriteTree_,ie()))}function Zk(t,e,n,r){if(Z(t.path))return Xk(t,e,n,r);{const i=e.get(ie());null==n&&null!=i&&(n=ti(i,ie()));let s=[];const o=J(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=Nk(r,o);s=s.concat(Zk(a,l,u,c))}return i&&(s=s.concat(GE(i,t,r,n))),s}}function Xk(t,e,n,r){const i=e.get(ie());null==n&&null!=i&&(n=ti(i,ie()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=Nk(r,o),c=t.operationForChild(o);c&&(s=s.concat(Xk(c,a,l,u)))}),i&&(s=s.concat(GE(i,t,r,n))),s}function ex(t,e){const n=e.query,r=vl(t,n);return{hashFn:()=>(function fK(t){return t.viewCache_.serverCache.getNode()}(e)||G.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function MK(t,e,n){const r=KE(t,n);if(r){const i=QE(r),s=i.path,o=i.queryId,a=At(s,e);return YE(t,s,new pl(OE(o),a))}return[]}(t,n._path,r):function AK(t,e){return Do(t,new pl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);{const s=function A7(t,e){let n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(i,n);return kd(t,n,null,s)}}}}function vl(t,e){const n=Nd(e);return t.queryToTagMap.get(n)}function Nd(t){return t._path.toString()+"$"+t._queryIdentifier}function KE(t,e){return t.tagToQueryMap.get(e)}function QE(t){const e=t.indexOf("$");return b(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new de(t.substr(0,e))}}function YE(t,e,n){const r=t.syncPointTree_.get(e);return b(r,"Missing sync point for query tag that we're tracking"),GE(r,n,Dd(t.pendingWriteTree_,e),null)}function El(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(function bK(){return b(Pd,"Reference.ts has not been loaded"),Pd}())(t._repo,t._path):t}class JE{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new JE(n)}node(){return this.node_}}class ZE{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=be(this.path_,e);return new ZE(this.syncTree_,n)}node(){return xd(this.syncTree_,this.path_)}}const tx=function(t,e,n){return t&&"object"==typeof t?(b(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?UK(t[".sv"],e,n):"object"==typeof t[".sv"]?VK(t[".sv"],e):void b(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},UK=function(t,e,n){if("timestamp"===t)return n.timestamp;b(!1,"Unexpected server value: "+t)},VK=function(t,e,n){t.hasOwnProperty("increment")||b(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&b(!1,"Unexpected increment value: "+r);const i=e.node();if(b(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},XE=function(t,e,n){return ew(t,new JE(e),n)};function ew(t,e,n){const r=t.getPriority().val(),i=tx(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=tx(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new yo(a,Se(i)):t}{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new yo(i))),o.forEachChild(we,(a,l)=>{const u=ew(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}class tw{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Od(t,e){let n=e instanceof de?e:new de(e),r=t,i=J(n);for(;null!==i;){const s=so(r.node.children,i)||{children:{},childCount:0};r=new tw(i,r,s),n=_e(n),i=J(n)}return r}function es(t){return t.node.value}function nw(t,e){t.node.value=e,rw(t)}function rx(t){return t.node.childCount>0}function Fd(t,e){nt(t.node.children,(n,r)=>{e(new tw(n,t,r))})}function ix(t,e,n,r){n&&!r&&e(t),Fd(t,i=>{ix(i,e,!0,r)}),n&&r&&e(t)}function wl(t){return new de(null===t.parent?t.name:wl(t.parent)+"/"+t.name)}function rw(t){null!==t.parent&&function $K(t,e,n){const r=function BK(t){return void 0===es(t)&&!rx(t)}(n),i=vr(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,rw(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,rw(t))}(t.parent,t.name,t)}const HK=/[\[\].#$\/\u0000-\u001F\u007F]/,WK=/[\[\].#$\u0000-\u001F\u007F]/,iw=10485760,Ld=function(t){return"string"==typeof t&&0!==t.length&&!HK.test(t)},sx=function(t){return"string"==typeof t&&0!==t.length&&!WK.test(t)},Il=function(t,e,n){const r=n instanceof de?new s9(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Qi(r));if("function"==typeof e)throw new Error(t+"contains a function "+Qi(r)+" with contents = "+e.toString());if(cd(e))throw new Error(t+"contains "+e.toString()+" "+Qi(r));if("string"==typeof e&&e.length>iw/3&&Pc(e)>iw)throw new Error(t+"contains a string greater than "+iw+" utf8 bytes "+Qi(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(nt(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!Ld(o)))throw new Error(t+" contains an invalid key ("+o+") "+Qi(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function o9(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Pc(e),ck(t)})(r,o),Il(t,a,r),function a9(t){const e=t.parts_.pop();t.byteLength_-=Pc(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&s)throw new Error(t+' contains ".value" child '+Qi(r)+" in addition to actual children.")}},ow=function(t,e,n,r){if(!(r&&void 0===n||sx(n)))throw new Error(Ba(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')};class KK{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ud(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==n&&!vE(s,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function lx(t,e,n){Ud(t,n),ux(t,r=>vE(r,e))}function dn(t,e,n){Ud(t,n),ux(t,r=>un(r,e)||un(e,r))}function ux(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(QK(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function QK(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();qi&&tt("event: "+n.toString()),mo(r)}}}class JK{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new KK,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=wd(),this.transactionQueueTree_=new tw,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function dx(t){const n=t.infoData_.getNode(new de(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function Dl(t){return function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t}({timestamp:dx(t)})}function hx(t,e,n,r,i){t.dataUpdateCount++;const s=new de(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=Rc(n,u=>Se(u));o=function PK(t,e,n,r){const i=KE(t,r);if(i){const s=QE(i),o=s.path,a=s.queryId,l=At(o,e),u=Ce.fromObject(n);return YE(t,o,new Io(OE(a),l,u))}return[]}(t.serverSyncTree_,s,l,i)}else{const l=Se(n);o=function Qk(t,e,n,r){const i=KE(t,r);if(null!=i){const s=QE(i),o=s.path,a=s.queryId,l=At(o,e);return YE(t,o,new Ji(OE(a),l,n))}return[]}(t.serverSyncTree_,s,l,i)}else if(r){const l=Rc(n,u=>Se(u));o=function SK(t,e,n){const r=Ce.fromObject(n);return Do(t,new Io({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,l)}else{const l=Se(n);o=yl(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=To(t,s)),dn(t.eventQueue_,a,o)}function fx(t,e){aw(t,"connected",e),!1===e&&function nQ(t){ts(t,"onDisconnectEvents");const e=Dl(t),n=wd();kE(t.onDisconnect_,ie(),(i,s)=>{const o=function(t,e,n,r){return ew(e,new ZE(n,t),r)}(i,s,t.serverSyncTree_,e);Co(n,i,o)});let r=[];kE(n,ie(),(i,s)=>{r=r.concat(yl(t.serverSyncTree_,i,s));const o=function dw(t,e){const n=wl(mx(t,e)),r=Od(t.transactionQueueTree_,e);return function jK(t,e,n){let r=n?t:t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{hw(t,i)}),hw(t,r),ix(r,i=>{hw(t,i)}),n}(t,i);To(t,o)}),t.onDisconnect_=wd(),dn(t.eventQueue_,ie(),r)}(t)}function aw(t,e,n){const r=new de("/.info/"+e),i=Se(n);t.infoData_.updateSnapshot(r,i);const s=yl(t.infoSyncTree_,r,i);dn(t.eventQueue_,r,s)}function Vd(t){return t.nextWriteId_++}function uw(t,e,n){let r;r=".info"===J(e._path)?kd(t.infoSyncTree_,e,n):kd(t.serverSyncTree_,e,n),lx(t.eventQueue_,e._path,r)}function ts(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),tt(n,...e)}function cw(t,e,n){return xd(t.serverSyncTree_,e,n)||G.EMPTY_NODE}function Bd(t,e=t.transactionQueueTree_){if(e||jd(t,e),es(e)){const n=_x(t,e);b(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function uQ(t,e,n){const r=n.map(u=>u.currentWriteId),i=cw(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];b(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=At(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{ts(t,"transaction put response",{path:l.toString(),status:u});let c=[];if("ok"===u){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(ri(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();jd(t,Od(t.transactionQueueTree_,e)),Bd(t,t.transactionQueueTree_),dn(t.eventQueue_,e,c);for(let h=0;h<d.length;h++)mo(d[h])}else{if("datastale"===u)for(let d=0;d<n.length;d++)n[d].status=3===n[d].status?4:0;else{mt("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}To(t,e)}},o)}(t,wl(e),n)}else rx(e)&&Fd(e,n=>{Bd(t,n)})}function To(t,e){const n=mx(t,e),r=wl(n);return function cQ(t,e,n){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=At(n,l.path);let d,c=!1;if(b(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)c=!0,d=l.abortReason,i=i.concat(ri(t.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)c=!0,d="maxretry",i=i.concat(ri(t.serverSyncTree_,l.currentWriteId,!0));else{const h=cw(t,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){Il("transaction failed: Data returned ",f,l.path);let p=Se(f);"object"==typeof f&&null!=f&&vr(f,".priority")||(p=p.updatePriority(h.getPriority()));const y=l.currentWriteId,I=Dl(t),D=XE(p,h,I);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=D,l.currentWriteId=Vd(t),o.splice(o.indexOf(y),1),i=i.concat(qE(t.serverSyncTree_,l.path,D,l.currentWriteId,l.applyLocally)),i=i.concat(ri(t.serverSyncTree_,y,!0))}else c=!0,d="nodata",i=i.concat(ri(t.serverSyncTree_,l.currentWriteId,!0))}dn(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}jd(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)mo(r[a]);Bd(t,t.transactionQueueTree_)}(t,_x(t,n),r),r}function mx(t,e){let n,r=t.transactionQueueTree_;for(n=J(e);null!==n&&void 0===es(r);)r=Od(r,n),n=J(e=_e(e));return r}function _x(t,e){const n=[];return yx(t,e,n),n.sort((r,i)=>r.order-i.order),n}function yx(t,e,n){const r=es(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Fd(e,i=>{yx(t,i,n)})}function jd(t,e){const n=es(e);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,nw(e,n.length>0?n:void 0)}Fd(e,r=>{jd(t,r)})}function hw(t,e){const n=es(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(b(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(b(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(ri(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?nw(e,void 0):n.length=s+1,dn(t.eventQueue_,wl(e),i);for(let o=0;o<r.length;o++)mo(r[o])}}const fw=function(t,e){const n=fQ(t),r=n.namespace;return"firebase.com"===n.domain&&zn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&zn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&mt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new hE(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,e,"",r!==n.subdomain),path:new de(n.pathString)}},fQ=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if("string"==typeof t){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");-1===c&&(c=t.length);let d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=function dQ(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(t.substring(c,d)));const h=function hQ(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):mt(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o="https"===a||"wss"===a,l=parseInt(e.substring(u+1),10)):u=e.length;const f=e.slice(0,u);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class vx{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ze(this.snapshot.exportVal())}}class Ex{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class wx{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return b(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Jt{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Z(this._path)?null:yE(this._path)}get ref(){return new An(this._repo,this._path)}get _queryIdentifier(){const e=Dk(this._queryParams),n=uE(e);return"{}"===n?"default":n}get _queryObject(){return Dk(this._queryParams)}isEqual(e){if(!((e=Er(e))instanceof Jt))return!1;const n=this._repo===e._repo,r=vE(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function r9(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}class An extends Jt{constructor(e,n){super(e,n,new AE,!1)}get parent(){const e=uk(this._path);return null===e?null:new An(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class ns{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new de(e),r=So(this.ref,e);return new ns(this._node.getChild(n),r,we)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new ns(i,So(this.ref,r),we)))}hasChild(e){const n=new de(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Cx(t,e){return(t=Er(t))._checkNotDeleted("ref"),void 0!==e?So(t._root,e):t._root}function So(t,e){return null===J((t=Er(t))._path)?(n=e,n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ow("child","path",n,!1)):ow("child","path",e,!1),new An(t._repo,be(t._path,e));var n}class Wd{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,n){const r=n._queryParams.getIndex();return new vx("value",this,new ns(e.snapshotNode,new An(n._repo,n._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Ex(this,e,n):null}matches(e){return e instanceof Wd&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Gd{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n="children_added"===e?"child_added":e;return n="children_removed"===n?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Ex(this,e,n):null}createEvent(e,n){b(null!=e.childName,"Child events should have a childName.");const r=So(new An(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new vx(e.type,this,new ns(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Gd&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function bx(t,e,n,r){return function Tl(t,e,n,r,i){let s;if("object"==typeof r&&(s=void 0,i=r),"function"==typeof r&&(s=r),i&&i.onlyOnce){const l=n,u=(c,d)=>{uw(t._repo,t,a),l(c,d)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new wx(n,s||void 0),a="value"===e?new Wd(o):new Gd(e,o);return function oQ(t,e,n){let r;r=".info"===J(e._path)?Jk(t.infoSyncTree_,e,n):Jk(t.serverSyncTree_,e,n),lx(t.eventQueue_,e._path,r)}(t._repo,t,a),()=>uw(t._repo,t,a)}(t,"value",e,n,r)}(function yK(t){b(!Md,"__referenceConstructor has already been defined"),Md=t})(An),function IK(t){b(!Pd,"__referenceConstructor has already been defined"),Pd=t}(An);const pw={};function TQ(t,e,n,r,i){let s=r||t.options.databaseURL;void 0===s&&(t.options.projectId||zn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),tt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let l,u,o=fw(s,i),a=o.repoInfo;typeof process<"u"&&process.env&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=fw(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new ol(ol.OWNER):new k7(t.name,t.options,e);(function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Ld(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),sx(t)}(n))throw new Error(Ba(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",o),Z(o.path)||zn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function AQ(t,e,n,r){let i=pw[e.name];i||(i={},pw[e.name]=i);let s=i[t.toURLString()];return s&&zn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new JK(t,false,n,r),i[t.toURLString()]=s,s}(a,t,c,new P7(t.name,n));return new RQ(d,t)}class RQ{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function ZK(t,e,n){if(t.stats_=gE(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new Ed(t.repoInfo_,(r,i,s,o)=>{hx(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>fx(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ze(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Yi(t.repoInfo_,e,(r,i,s,o)=>{hx(t,r,i,s,o)},r=>{fx(t,r)},r=>{!function XK(t,e){nt(e,(n,r)=>{aw(t,n,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function O7(t,e){const n=t.toString();return pE[n]||(pE[n]=e()),pE[n]}(t.repoInfo_,()=>new F9(t.stats_,t.server_)),t.infoData_=new P9,t.infoSyncTree_=new Kk({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=yl(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),aw(t,"connected",!1),t.serverSyncTree_=new Kk({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);dn(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new An(this._repo,ie())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function SQ(t,e){const n=pw[e];(!n||n[t.key]!==t)&&zn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),function gx(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&zn("Cannot call "+e+" on a deleted database.")}}function PQ(t=QA(),e){return Nc(t,"database").getImmediate({identifier:e})}Yi.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Yi.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function kQ(t){(function E7(t){oE=t})("9.9.2"),Tt(new gt("database",(e,{instanceIdentifier:n})=>TQ(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),xe(DP,"0.13.4",t),xe(DP,"0.13.4","esm2017")}();class oi{constructor(e){return e}}const Mx="database",gw=new j("angularfire2.database-instances");function LQ(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new oi(r)}}const UQ={provide:class OQ{constructor(){return G_(Mx)}},deps:[[new it,gw]]},VQ={provide:oi,useFactory:function FQ(t,e){const n=function W_(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(Mx,t,e);return n&&new oi(n)},deps:[[new it,gw],ho]};let BQ=(()=>{class t{constructor(){xe("angularfire",F_.full,"rtdb")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=nr({type:t}),t.\u0275inj=Pn({providers:[VQ,UQ]}),t})();function jQ(t,...e){return{ngModule:BQ,providers:[{provide:gw,useFactory:LQ(t),multi:!0,deps:[De,qt,eR,tR,[new it,tP],[new it,bP],...e]}]}}const $Q=$c(PQ,!0),Ve=$c(bx,!0),Be=$c(Cx,!0);let HQ=(()=>{class t{constructor(n){this.database=n,this.Estadio1=[],this.Estadio2=[],this.Estadio3=[],this.Estadio4=[],this.Estadio5=[],this.Estadio6=[]}ngOnInit(){this.obtenerEstadios()}obtenerEstadios(){const n=Be(this.database,"Estadios/Estadio1");Ve(n,l=>{l.forEach(u=>{const c=u.val();let d={nombresta:c.NombreSta,personas:c.Personas,rese\u00f1a:c.Rese\u00f1a};this.Estadio1.push(d),console.log(d)})});const r=Be(this.database,"Estadios/Estadio2");Ve(r,l=>{l.forEach(u=>{const c=u.val();let d={nombresta:c.NombreSta,personas:c.Personas,rese\u00f1a:c.Rese\u00f1a};this.Estadio2.push(d),console.log(d)})});const i=Be(this.database,"Estadios/Estadio3");Ve(i,l=>{l.forEach(u=>{const c=u.val();let d={nombresta:c.NombreSta,personas:c.Personas,rese\u00f1a:c.Rese\u00f1a};this.Estadio3.push(d),console.log(d)})});const s=Be(this.database,"Estadios/Estadio4");Ve(s,l=>{l.forEach(u=>{const c=u.val();let d={nombresta:c.NombreSta,personas:c.Personas,rese\u00f1a:c.Rese\u00f1a};this.Estadio4.push(d),console.log(d)})});const o=Be(this.database,"Estadios/Estadio5");Ve(o,l=>{l.forEach(u=>{const c=u.val();let d={nombresta:c.NombreSta,personas:c.Personas,rese\u00f1a:c.Rese\u00f1a};this.Estadio5.push(d),console.log(d)})});const a=Be(this.database,"Estadios/Estadio6");Ve(a,l=>{l.forEach(u=>{const c=u.val();let d={nombresta:c.NombreSta,personas:c.Personas,rese\u00f1a:c.Rese\u00f1a};this.Estadio6.push(d),console.log(d)})})}}return t.\u0275fac=function(n){return new(n||t)(k(oi))},t.\u0275cmp=Xt({type:t,selectors:[["app-estadios"]],decls:103,vars:0,consts:[[1,"body-bk"],[1,"logo"],["src","https://digitalhub.fifa.com/transform/e9d95991-47a6-45e9-af75-c33e93beaf11/Qatar_2022_white_logo"],[1,"container"],["src","https://img.asmedia.epimg.net/resizer/2PAsj2O3jXtr97opiLRozVUR_nw=/1952x1098/cloudfront-eu-central-1.images.arcpublishing.com/diarioas/XJKOFMHO7BM57IZN7EEVL2CHHQ.jpg"],["src","https://arquitecturaviva.com/assets/uploads/obras/44268/av_imagen.jpeg"],["src","https://a.espncdn.com/photo/2021/1107/r934253_1296x729_16-9.jpg"],["src","https://a.espncdn.com/combiner/i?img=%2Fphoto%2F2021%2F1107%2Fr934256_1296x729_16%2D9.jpg"],["src","https://www.qatar2022.qa/sites/default/files/stadiums/images/Ahmad-Bin-Ali-Stadium-inauguration-fireworks-meta.jpg"],["src","https://assets.goal.com/v3/assets/bltcc7a7ffd2fbf71f5/blt14ab3c62a1a70d70/6200fa18d5d1e417d05ca355/GettyImages-1359379450.jpg"]],template:function(n,r){1&n&&(m(0,"body",0),N(1,"br"),m(2,"div",1),N(3,"img",2),_(),N(4,"br")(5,"br"),m(6,"h1")(7,"b"),w(8,"COPA MUNDIAL DE LA FIFA CATAR 2022\u2122"),_()(),m(9,"h1")(10,"b"),w(11," ESTADIOS"),_()(),m(12,"div",3)(13,"div")(14,"table")(15,"thead")(16,"tr")(17,"th"),w(18,"Estadio 1"),_()()(),m(19,"tr")(20,"td"),N(21,"img",4),m(22,"label")(23,"b"),w(24,"AL BAYT"),_()(),m(25,"tr")(26,"label"),w(27,"A 35 km al norte de Doha, tendr\xe1 capacidad para 60 mil personas (32 mil despu\xe9s del Mundial) y la zona del complejo tendr\xe1 1.3 millones de metros cuadrados."),_()()()()()(),m(28,"div")(29,"table")(30,"thead")(31,"tr")(32,"th"),w(33,"Estadio 2"),_()()(),m(34,"tr")(35,"td"),N(36,"img",5),m(37,"label")(38,"b"),w(39,"AL WAKRAH"),_()(),m(40,"tr")(41,"label"),w(42,"A 15 km al sur de Doha, con capacidad para 40 mil espectadores (20 mil despu\xe9s del Mundial). Tambi\xe9n estar\xeda para principios de 2018."),_()()()()()(),m(43,"div")(44,"table")(45,"thead")(46,"tr")(47,"th"),w(48,"Estadio 3"),_()()(),m(49,"tr")(50,"td"),N(51,"img",6),m(52,"label")(53,"b"),w(54,"KHALIFA"),_()(),m(55,"tr")(56,"label"),w(57," A 5 km del centro de Doha, dentro de la zona deportiva Aspire, es el \xfanico que existe, auque lo est\xe1n remodelando. Tendr\xe1 capacidad para 40 mil personas."),_()()()()()(),m(58,"div")(59,"table")(60,"thead")(61,"tr")(62,"th"),w(63,"Estadio 4"),_()()(),m(64,"tr")(65,"td"),N(66,"img",7),m(67,"label")(68,"b"),w(69,"QATAR FOUNDATION"),_()(),m(70,"tr")(71,"label"),w(72,"A 7 km de Doha, con capacidad para 40 mil (20 mil despu\xe9s del Mundial) y con fecha l\xedmite para finales de 2018."),_()()()()()(),m(73,"div")(74,"table")(75,"thead")(76,"tr")(77,"th"),w(78,"Estadio 5"),_()()(),m(79,"tr")(80,"td"),N(81,"img",8),m(82,"label")(83,"b"),w(84,"AL RAYYAN"),_()(),m(85,"tr")(86,"label"),w(87,"Se espera que pronto este en funcionamiento, ya que se demolio con el fin de contruir su sucesor."),_()()()()()(),m(88,"div")(89,"table")(90,"thead")(91,"tr")(92,"th"),w(93,"Estadio 6"),_()()(),m(94,"tr")(95,"td"),N(96,"img",9),m(97,"label")(98,"b"),w(99,"LUSAIL"),_()(),m(100,"tr")(101,"label"),w(102,"Promete una capacidad para 86 mil personas y ser\xe1 el estadio de la final, estar\xe1 ubicado en lo que hoy es un desierto."),_()()()()()()()())},styles:[".container[_ngcontent-%COMP%]{justify-content:center;flex-direction:row;font-family:Arial;font-size:x-large;padding-top:3rem;padding-bottom:3rem}table[_ngcontent-%COMP%]{background-color:#f5eed5;width:100%;border-collapse:collapse}img[_ngcontent-%COMP%]{padding:1px;width:40%}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:solid 5px #56042C .5;padding:12px}th[_ngcontent-%COMP%]{text-align:center;color:#fff}h1[_ngcontent-%COMP%]{text-align:center;color:#f5f5f5;font-family:Arial,Helvetica,sans-serif;padding:12px;float:initial}label[_ngcontent-%COMP%]{padding:37px;color:#56042c}thead[_ngcontent-%COMP%]{background-color:#56042c}.logo[_ngcontent-%COMP%]{justify-content:center;padding-top:10px;padding-left:10px;margin-left:auto;margin-right:auto;float:left}"]}),t})();function WQ(t,e){if(1&t&&(m(0,"div",4)(1,"table")(2,"td"),N(3,"img",6),m(4,"label")(5,"b"),w(6),_()()()()()),2&t){const n=e.$implicit;S(3),We("src",n.bandera,Fe),S(3),le(n.nombre)}}function GQ(t,e){if(1&t&&(m(0,"div",4)(1,"table")(2,"td"),N(3,"img",6),m(4,"label")(5,"b"),w(6),_()()()()()),2&t){const n=e.$implicit;S(3),We("src",n.bandera,Fe),S(3),le(n.nombre)}}function zQ(t,e){if(1&t&&(m(0,"div",4)(1,"table")(2,"td"),N(3,"img",6),m(4,"label")(5,"b"),w(6),_()()()()()),2&t){const n=e.$implicit;S(3),We("src",n.bandera,Fe),S(3),le(n.nombre)}}function qQ(t,e){if(1&t&&(m(0,"div",4)(1,"table")(2,"td"),N(3,"img",6),m(4,"label")(5,"b"),w(6),_()()()()()),2&t){const n=e.$implicit;S(3),We("src",n.bandera,Fe),S(3),le(n.nombre)}}function KQ(t,e){if(1&t&&(m(0,"div",4)(1,"table")(2,"td"),N(3,"img",6),m(4,"label")(5,"b"),w(6),_()()()()()),2&t){const n=e.$implicit;S(3),We("src",n.bandera,Fe),S(3),le(n.nombre)}}function QQ(t,e){if(1&t&&(m(0,"div",4)(1,"table")(2,"td"),N(3,"img",6),m(4,"label")(5,"b"),w(6),_()()()()()),2&t){const n=e.$implicit;S(3),We("src",n.bandera,Fe),S(3),le(n.nombre)}}function YQ(t,e){if(1&t&&(m(0,"div",4)(1,"table")(2,"td"),N(3,"img",6),m(4,"label")(5,"b"),w(6),_()()()()()),2&t){const n=e.$implicit;S(3),We("src",n.bandera,Fe),S(3),le(n.nombre)}}function JQ(t,e){if(1&t&&(m(0,"div",4)(1,"table")(2,"td"),N(3,"img",6),m(4,"label")(5,"b"),w(6),_()()()()()),2&t){const n=e.$implicit;S(3),We("src",n.bandera,Fe),S(3),le(n.nombre)}}let ZQ=(()=>{class t{constructor(n){this.database=n,this.grupoA=[],this.grupoB=[],this.grupoC=[],this.grupoD=[],this.grupoE=[],this.grupoF=[],this.grupoG=[],this.grupoH=[]}ngOnInit(){this.obtenerEquipo()}obtenerEquipo(){const n=Be(this.database,"Equipos/GrupoA/");Ve(n,c=>{c.forEach(d=>{const h=d.val();this.grupoA.push({nombre:h.nombre,bandera:h.img,grupo:h.grupo})})});const r=Be(this.database,"Equipos/GrupoB/");Ve(r,c=>{c.forEach(d=>{const h=d.val();this.grupoB.push({nombre:h.nombre,bandera:h.img,grupo:h.grupo})})});const i=Be(this.database,"Equipos/GrupoC/");Ve(i,c=>{c.forEach(d=>{const h=d.val();this.grupoC.push({nombre:h.nombre,bandera:h.img,grupo:h.grupo})})});const s=Be(this.database,"Equipos/GrupoD/");Ve(s,c=>{c.forEach(d=>{const h=d.val();this.grupoD.push({nombre:h.nombre,bandera:h.img,grupo:h.grupo})})});const o=Be(this.database,"Equipos/GrupoE/");Ve(o,c=>{c.forEach(d=>{const h=d.val();this.grupoE.push({nombre:h.nombre,bandera:h.img,grupo:h.grupo})})});const a=Be(this.database,"Equipos/GrupoF/");Ve(a,c=>{c.forEach(d=>{const h=d.val();this.grupoF.push({nombre:h.nombre,bandera:h.img,grupo:h.grupo})})});const l=Be(this.database,"Equipos/GrupoG/");Ve(l,c=>{c.forEach(d=>{const h=d.val();this.grupoG.push({nombre:h.nombre,bandera:h.img,grupo:h.grupo})})});const u=Be(this.database,"Equipos/GrupoH/");Ve(u,c=>{c.forEach(d=>{const h=d.val();this.grupoH.push({nombre:h.nombre,bandera:h.img,grupo:h.grupo})})})}}return t.\u0275fac=function(n){return new(n||t)(k(oi))},t.\u0275cmp=Xt({type:t,selectors:[["app-group"]],decls:69,vars:8,consts:[[1,"body-bk"],[1,"logo"],["src","https://digitalhub.fifa.com/transform/e9d95991-47a6-45e9-af75-c33e93beaf11/Qatar_2022_white_logo"],[1,"container"],[1,"item"],["class","item",4,"ngFor","ngForOf"],[3,"src"]],template:function(n,r){1&n&&(m(0,"body",0),N(1,"br"),m(2,"div",1),N(3,"img",2),_(),N(4,"br")(5,"br"),m(6,"h1")(7,"b"),w(8,"COPA MUNDIAL DE LA FIFA CATAR 2022\u2122"),_()(),m(9,"h1")(10,"b"),w(11," GRUPOS"),_()(),m(12,"div",3)(13,"div",4)(14,"table")(15,"thead")(16,"tr")(17,"th"),w(18,"Grupo A"),_()()()(),Ct(19,WQ,7,2,"div",5),_(),m(20,"div",4)(21,"table")(22,"thead")(23,"tr")(24,"th"),w(25,"Grupo B"),_()()()(),Ct(26,GQ,7,2,"div",5),_(),m(27,"div",4)(28,"table")(29,"thead")(30,"tr")(31,"th"),w(32,"Grupo C"),_()()()(),Ct(33,zQ,7,2,"div",5),_(),m(34,"div",4)(35,"table")(36,"thead")(37,"tr")(38,"th"),w(39,"Grupo D"),_()()()(),Ct(40,qQ,7,2,"div",5),_(),m(41,"div",4)(42,"table")(43,"thead")(44,"tr")(45,"th"),w(46,"Grupo E"),_()()()(),Ct(47,KQ,7,2,"div",5),_(),m(48,"div",4)(49,"table")(50,"thead")(51,"tr")(52,"th"),w(53,"Grupo F"),_()()()(),Ct(54,QQ,7,2,"div",5),_(),m(55,"div",4)(56,"table")(57,"thead")(58,"tr")(59,"th"),w(60,"Grupo G"),_()()()(),Ct(61,YQ,7,2,"div",5),_(),m(62,"div",4)(63,"table")(64,"thead")(65,"tr")(66,"th"),w(67,"Grupo H"),_()()()(),Ct(68,JQ,7,2,"div",5),_()()()),2&n&&(S(19),fe("ngForOf",r.grupoA),S(7),fe("ngForOf",r.grupoB),S(7),fe("ngForOf",r.grupoC),S(7),fe("ngForOf",r.grupoD),S(7),fe("ngForOf",r.grupoE),S(7),fe("ngForOf",r.grupoF),S(7),fe("ngForOf",r.grupoG),S(7),fe("ngForOf",r.grupoH))},dependencies:[wa],styles:[".container[_ngcontent-%COMP%]{font-family:Arial;font-size:x-large;display:flex;flex-direction:row;justify-content:space-around;flex-wrap:wrap}table[_ngcontent-%COMP%]{background-color:#f5eed5;width:100%;border-collapse:collapse}img[_ngcontent-%COMP%]{padding:1px;width:25%;border-radius:6px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:solid 5px #56042C .5;padding:12px}th[_ngcontent-%COMP%]{text-align:center;color:#fff}h1[_ngcontent-%COMP%]{text-align:center;color:#f5f5f5;font-family:Arial,Helvetica,sans-serif;padding:12px;float:initial}.item[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;flex-wrap:wrap;width:380px;padding:0}label[_ngcontent-%COMP%]{padding:37px;color:#56042c}thead[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{background-color:#56042c;padding:0}.logo[_ngcontent-%COMP%]{justify-content:center;padding-top:25px;padding-left:30px;margin-left:auto;margin-right:auto;float:left}.logo[_ngcontent-%COMP%], .container[_ngcontent-%COMP%], h1[_ngcontent-%COMP%]{background:center center cover no-repeat fixed}"]}),t})();const Rx=function(){return["sedes"]},XQ=function(){return["paises"]},eY=function(){return["estadios"]},tY=function(){return["grupos"]},nY=function(){return["partidos"]};let rY=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Xt({type:t,selectors:[["app-home"]],decls:88,vars:12,consts:[["lang","en"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1"],["id","header","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-inner"],[1,"carousel-item","active"],["width","100%","height","100%","xmlns","http://www.w3.org/2000/svg","aria-hidden","true","preserveAspectRatio","xMidYMid slice","focusable","false",1,"bd-placeholder-img"],["width","100%","height","100%","fill",""],[0,"xlink","href","https://cnnespanol.cnn.com/wp-content/uploads/2021/07/medium.GettyImages-1172049905-e1637343496829.jpeg?quality=100&strip=info","x","-600","width","200%","height","150%"],[1,"container"],[1,"carousel-caption","text-start"],[1,"btn","btn-lg","btn-light",3,"routerLink"],[1,"container","marketing"],[1,"row"],[1,"col-lg-4"],["xmlns","http://www.w3.org/2000/svg","role","img","aria-label","Placeholder: 140x140","preserveAspectRatio","xMidYMid slice","focusable","false",1,"bd-placeholder-img-round","rounded-circle"],["width","100%","height","100%","fill","#777"],[0,"xlink","href","https://ca-times.brightspotcdn.com/dims4/default/512974c/2147483647/strip/true/crop/8276x5517+0+0/resize/1486x991!/quality/90/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F7e%2Fc7%2Fc498f71f4cb78d09e0846c8318a4%2Fsoccer-wcup-qatar-tickets-48888.jpg","x","0","width","145%","height","100%"],[1,"fw-normal"],[1,"btn","btn-secondary",3,"routerLink"],[0,"xlink","href","https://www.prensalibre.com/wp-content/uploads/2022/03/20220331-c208997daa02282d544328846bdd3fac58d6fd3f.jpg?quality=52&w=760&h=430&crop=1g","x","-40","width","155%","height","100%"],[0,"xlink","href","https://cdn.hispantv.com/hispanmedia/files/images/thumbnail/20190523/01143622_xl.jpg","x","-54","width","160%","height","100%"],[1,"row","offset-md-3"],[0,"xlink","href","https://www.elfinanciero.com.mx/resizer/my1m4iSMJusNFJx3JgiQmpvqfcg=/400x225/filters:format(jpg):quality(70)/cloudfront-us-east-1.images.arcpublishing.com/elfinanciero/Y7GB5EQQGRFZRD6PQMLI62KESA.jpg","x","-80","width","170%","height","100%"],[0,"xlink","href","https://i.ytimg.com/vi/Lx6bqsbldhU/maxresdefault.jpg","x","-175","width","300%","height","100%"]],template:function(n,r){1&n&&(m(0,"html",0)(1,"head"),N(2,"meta",1)(3,"meta",2),_(),m(4,"body")(5,"main")(6,"div",3)(7,"div",4)(8,"div",5),_i(),m(9,"svg",6),N(10,"rect",7)(11,"image",8),_(),yi(),m(12,"div",9)(13,"div",10)(14,"h1"),w(15,"QATAR 2022"),_(),m(16,"p"),w(17,"\xa1La Copa Mundial QATAR 2022! \xa1Conoce todo lo que debes saber aqui!"),_(),m(18,"a",11),w(19,"Mas Informaci\xf3n"),_()()()()()(),m(20,"div",12)(21,"div",13)(22,"div",14),_i(),m(23,"svg",15)(24,"title"),w(25,"Sedes"),_(),N(26,"rect",16)(27,"image",17),_(),yi(),m(28,"h2",18),w(29,"Sedes"),_(),m(30,"p"),w(31,"Conoce mas sobre las sedes del mundial 2022. Al Wakrah, Doha, Ray\xe1n, Jor..."),_(),m(32,"p")(33,"a",19),w(34,"View details \xbb"),_()()(),m(35,"div",14),_i(),m(36,"svg",15)(37,"title"),w(38,"Paises"),_(),N(39,"rect",16)(40,"image",20),_(),yi(),m(41,"h2",18),w(42,"Paises"),_(),m(43,"p"),w(44,"Conoce los paises calificados en este emocinante mundial 2022"),_(),m(45,"p")(46,"a",19),w(47,"View details \xbb"),_()()(),m(48,"div",14),_i(),m(49,"svg",15)(50,"title"),w(51,"Estadios"),_(),N(52,"rect",16)(53,"image",21),_(),yi(),m(54,"h2",18),w(55,"Estadios"),_(),m(56,"p"),w(57,"Conoce los estadios en los cuales se celebraran los partidos."),_(),m(58,"p")(59,"a",19),w(60,"View details \xbb"),_()()()(),m(61,"div",22)(62,"div",14),_i(),m(63,"svg",15)(64,"title"),w(65,"Grupos"),_(),N(66,"rect",16)(67,"image",23),_(),yi(),m(68,"h2",18),w(69,"Grupos"),_(),m(70,"p"),w(71,"Conoce los grupos seleccionados para este mundial 2022. \xbfQuienes competiran juntos?"),_(),m(72,"p")(73,"a",19),w(74,"View details \xbb"),_()()(),m(75,"div",14),_i(),m(76,"svg",15)(77,"title"),w(78,"Partidos"),_(),N(79,"rect",16)(80,"image",24),_(),yi(),m(81,"h2",18),w(82,"Partidos"),_(),m(83,"p"),w(84,"Todo lo que quieres saber sobre los partidos, horarios,estadios y mas..."),_(),m(85,"p")(86,"a",19),w(87,"View details \xbb"),_()()()()()()()()),2&n&&(S(18),fe("routerLink",kt(6,Rx)),S(15),fe("routerLink",kt(7,Rx)),S(13),fe("routerLink",kt(8,XQ)),S(13),fe("routerLink",kt(9,eY)),S(14),fe("routerLink",kt(10,tY)),S(13),fe("routerLink",kt(11,nY)))},dependencies:[La],styles:["body[_ngcontent-%COMP%]{padding-bottom:3rem;color:#000000ef}.carousel[_ngcontent-%COMP%]{margin-bottom:4rem}.carousel-caption[_ngcontent-%COMP%]{bottom:7rem;z-index:10;background-color:#09090978;border-radius:5%}.carousel-item[_ngcontent-%COMP%]{height:32rem}.marketing[_ngcontent-%COMP%]   .col-lg-4[_ngcontent-%COMP%]{margin-bottom:1.5rem;text-align:center}.marketing[_ngcontent-%COMP%]   .col-lg-4[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-right:.75rem;margin-left:.75rem}.marketing[_ngcontent-%COMP%]   .col-lg-4[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#56042c}.featurette-divider[_ngcontent-%COMP%]{margin:5rem 0}@media (min-width: 50em){.carousel-caption[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1.25rem;font-size:1.25rem;line-height:1.4}.carousel-caption[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:1.25rem}.featurette-heading[_ngcontent-%COMP%]{font-size:50px}}@media (min-width: 62em){.featurette-heading[_ngcontent-%COMP%]{margin-top:7rem}}.bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}.bd-placeholder-img-round[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none;border-color:#e7b51d;border-style:double;border-width:.3cm;width:200px;height:200px}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}.b-example-divider[_ngcontent-%COMP%]{height:3rem;background-color:#0000001a;border:solid rgba(0,0,0,.15);border-width:1px 0;box-shadow:inset 0 .5em 1.5em #0000001a,inset 0 .125em .5em #00000026}.b-example-vr[_ngcontent-%COMP%]{flex-shrink:0;width:1.5rem;height:100vh}.bi[_ngcontent-%COMP%]{vertical-align:-.125em;fill:currentColor}.nav-scroller[_ngcontent-%COMP%]{position:relative;z-index:2;height:2.75rem;overflow-y:hidden}.nav-scroller[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;padding-bottom:1rem;margin-top:-1px;overflow-x:auto;text-align:center;white-space:nowrap;-webkit-overflow-scrolling:touch}"]}),t})();function iY(t,e){if(1&t&&(m(0,"div")(1,"div",9)(2,"div",10)(3,"h2",11),w(4),N(5,"span",12),_(),m(6,"table",13)(7,"thead")(8,"tr")(9,"th",14),w(10,"Bandera"),_(),m(11,"th",14),w(12,"Region"),_(),m(13,"th",14),w(14,"Ranking FIFA"),_()()(),m(15,"tbody")(16,"tr")(17,"td"),N(18,"img",15),_(),m(19,"td"),w(20),_(),m(21,"td"),w(22),_()()()()()(),N(23,"hr",7),_()),2&t){const n=e.$implicit;S(4),$s("",n.nombre," "),S(14),We("src",n.bandera,Fe),S(2),le(n.jugadores),S(2),le(n.numfifa)}}let sY=(()=>{class t{constructor(n){this.database=n,this.paises=[]}ngOnInit(){this.obtenerPais()}registrarPais(){}obtenerPais(){const n=Be(this.database,"Paises/");Ve(n,r=>{r.forEach(i=>{const s=i.val();this.paises.push({nombre:s.nombre,bandera:s.img,jugadores:s.region,numfifa:s.numFifa})})})}}return t.\u0275fac=function(n){return new(n||t)(k(oi))},t.\u0275cmp=Xt({type:t,selectors:[["app-paises"]],decls:15,vars:1,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"body-bk"],[1,"container-fluid"],[1,"blockquote","featurette-p"],[1,"featurette-divider"],[4,"ngFor","ngForOf"],[1,"row","offset-md-4","max-w-25","min-w-20"],[1,"col-md-7","order-md-3","div-1"],[1,"featurette-heading","fw-normal","lh-1"],[1,"text-muted"],[1,"table"],["scope","col"],["width","150","height","150",1,"img-fluid",3,"src"]],template:function(n,r){1&n&&(m(0,"html",0)(1,"head"),N(2,"meta",1)(3,"meta",2)(4,"meta",3),m(5,"title"),w(6,"Document"),_()(),m(7,"body",4)(8,"div",5)(9,"h2"),w(10,"Las 32 selecciones clasificadas representado a su pais"),_(),m(11,"p",6),w(12,"Despu\xe9s de una larga eliminatoria quedaron definidas las 32 selecciones invitadas a Qatar 2022, conoce los paises aqui:"),_()(),N(13,"hr",7),Ct(14,iY,24,4,"div",8),_()()),2&n&&(S(14),fe("ngForOf",r.paises))},dependencies:[wa],styles:["body[_ngcontent-%COMP%]{padding-top:3rem;padding-bottom:3rem}.featurette-divider[_ngcontent-%COMP%]{margin:1rem}.div-1[_ngcontent-%COMP%]{background-color:#f5eed5;border-radius:5%}h2[_ngcontent-%COMP%]{font-size:40px;text-align:center;color:#fff}.featurette-heading[_ngcontent-%COMP%]{font-size:40px;text-align:center;color:#56042c}.featurette-p[_ngcontent-%COMP%]{font-size:25px;color:#fff;text-align:center}@media (min-width: 60em){.featurette-heading[_ngcontent-%COMP%]{margin-top:0rem}}.bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width: 800px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}"]}),t})();function oY(t,e){if(1&t&&(m(0,"div",7)(1,"table",8)(2,"thead")(3,"tr")(4,"th"),w(5,"Grupo"),_(),m(6,"th"),w(7),_()()(),m(8,"tbody")(9,"tr")(10,"td"),N(11,"img",9),_(),m(12,"td"),w(13),_(),m(14,"td"),w(15),_()()(),m(16,"tbody")(17,"tr")(18,"td"),N(19,"img",9),_(),m(20,"td"),w(21),_(),m(22,"td"),w(23),_()()()()()),2&t){const n=e.$implicit;S(7),le(n.grupos1),S(4),We("src",n.bandera1,Fe),S(2),le(n.pais1),S(2),le(n.fecha),S(4),We("src",n.bandera2,Fe),S(2),le(n.pais2),S(2),le(n.horario)}}function aY(t,e){if(1&t&&(m(0,"div",7)(1,"table",8)(2,"thead")(3,"tr")(4,"th"),w(5,"Grupo"),_(),m(6,"th"),w(7),_()()(),m(8,"tbody")(9,"tr")(10,"td"),N(11,"img",9),_(),m(12,"td"),w(13),_(),m(14,"td"),w(15),_()()(),m(16,"tbody")(17,"tr")(18,"td"),N(19,"img",9),_(),m(20,"td"),w(21),_(),m(22,"td"),w(23),_()()()()()),2&t){const n=e.$implicit;S(7),le(n.grupos1),S(4),We("src",n.bandera1,Fe),S(2),le(n.pais1),S(2),le(n.fecha),S(4),We("src",n.bandera2,Fe),S(2),le(n.pais2),S(2),le(n.horario)}}function lY(t,e){if(1&t&&(m(0,"div",7)(1,"table",8)(2,"thead")(3,"tr")(4,"th"),w(5,"Grupo"),_(),m(6,"th"),w(7),_()()(),m(8,"tbody")(9,"tr")(10,"td"),N(11,"img",9),_(),m(12,"td"),w(13),_(),m(14,"td"),w(15),_()()(),m(16,"tbody")(17,"tr")(18,"td"),N(19,"img",9),_(),m(20,"td"),w(21),_(),m(22,"td"),w(23),_()()()()()),2&t){const n=e.$implicit;S(7),le(n.grupos1),S(4),We("src",n.bandera1,Fe),S(2),le(n.pais1),S(2),le(n.fecha),S(4),We("src",n.bandera2,Fe),S(2),le(n.pais2),S(2),le(n.horario)}}let uY=(()=>{class t{constructor(n){this.database=n,this.Jornada1=[],this.Jornada2=[],this.Jornada3=[]}ngOnInit(){this.obtenerPartidos()}obtenerPartidos(){const n=Be(this.database,"Partidos/Jornada1/");Ve(n,s=>{s.forEach(o=>{const a=o.val();this.Jornada1.push({bandera1:a.Bandera1,bandera2:a.Bandera2,pais1:a.Pais1,pais2:a.Pais2,horario:a.Horario,fecha:a.Fecha,grupos1:a.Tama\u00f1o})})});const r=Be(this.database,"Partidos/Jornada2/");Ve(r,s=>{s.forEach(o=>{const a=o.val();this.Jornada2.push({bandera1:a.Bandera1,bandera2:a.Bandera2,pais1:a.Pais1,pais2:a.Pais2,horario:a.Horario,fecha:a.Fecha,grupos1:a.Tama\u00f1o})})});const i=Be(this.database,"Partidos/Jornada3/");Ve(i,s=>{s.forEach(o=>{const a=o.val();this.Jornada3.push({bandera1:a.Bandera1,bandera2:a.Bandera2,pais1:a.Pais1,pais2:a.Pais2,horario:a.Horario,fecha:a.Fecha,grupos1:a.Tama\u00f1o})})})}}return t.\u0275fac=function(n){return new(n||t)(k(oi))},t.\u0275cmp=Xt({type:t,selectors:[["app-partidos"]],decls:26,vars:3,consts:[[1,"body-bk"],[1,"h1T"],[1,"b-example-divider"],[1,"ff"],[1,"container"],[1,"row","row","justify-content-center"],["class","col-sm-6 ",4,"ngFor","ngForOf"],[1,"col-sm-6"],[1,"table","rounded-3"],["width","50",1,"img-fluid",3,"src"]],template:function(n,r){1&n&&(m(0,"body",0)(1,"div")(2,"h1"),w(3,"Horarios de partidos"),_(),m(4,"h1",1),w(5,"Mundial Qatar 2022"),_()(),N(6,"div",2),m(7,"h3"),w(8,"Jornada 1 de 3"),_(),m(9,"div",3)(10,"div",4)(11,"div",5),Ct(12,oY,24,7,"div",6),_()()(),m(13,"h3"),w(14,"Jornada 2 de 3"),_(),m(15,"div",3)(16,"div",4)(17,"div",5),Ct(18,aY,24,7,"div",6),_()()(),m(19,"h3"),w(20,"Jornada 3 de 3"),_(),m(21,"div",3)(22,"div",4)(23,"div",5),Ct(24,lY,24,7,"div",6),_()()(),N(25,"div",2),_()),2&n&&(S(12),fe("ngForOf",r.Jornada1),S(6),fe("ngForOf",r.Jornada2),S(6),fe("ngForOf",r.Jornada3))},dependencies:[wa],styles:[".container[_ngcontent-%COMP%]{font-family:Arial;font-size:x-large;display:flex;flex-direction:row;justify-content:space-around;flex-wrap:wrap}table[_ngcontent-%COMP%], .tajeta[_ngcontent-%COMP%]{background-color:#f5eed5;width:100%;border-collapse:collapse}h1[_ngcontent-%COMP%]{text-align:left;color:#f5f5f5;font-family:Arial,Helvetica,sans-serif;padding:13px;float:initial}h3[_ngcontent-%COMP%], .h1T[_ngcontent-%COMP%]{text-align:center;color:#f5f5f5;font-family:Arial,Helvetica,sans-serif;padding:13px;float:initial}.b-example-divider[_ngcontent-%COMP%]{height:3rem;background-color:#0000001a;border:solid rgba(0,0,0,.15);border-width:1px 0;box-shadow:inset 0 .5em 1.5em #0000001a,inset 0 .125em .5em #00000026}tbody[_ngcontent-%COMP%]{display:table-row-group;vertical-align:middle;border-color:inherit}.bd[_ngcontent-%COMP%]{padding:1.5rem;margin-right:0;margin-left:0;border-width:1px;border-top-left-radius:.25rem;border-top-right-radius:.25rem}"]}),t})();function cY(t,e){if(1&t&&(m(0,"div")(1,"div",10)(2,"div",11)(3,"h2",12),w(4),N(5,"span",13),_(),m(6,"table",14)(7,"thead")(8,"tr")(9,"th",15),w(10,"Descripci\xf3n"),_(),m(11,"th",15),w(12,"Poblacion"),_()()(),m(13,"tbody")(14,"tr")(15,"td"),w(16),_(),m(17,"td"),w(18),_()()()()(),m(19,"div",16),N(20,"img",17)(21,"br")(22,"br"),_()(),N(23,"hr",8),_()),2&t){const n=e.$implicit;S(4),$s("",n.nombre," "),S(12),le(n.descripcion),S(2),le(n.poblacion),S(2),We("src",n.imgSedePais,Fe)}}function dY(t,e){if(1&t&&(m(0,"div")(1,"div",10)(2,"div",11)(3,"h2",12),w(4),N(5,"span",13),_(),m(6,"table",14)(7,"thead")(8,"tr")(9,"th",15),w(10,"Descripci\xf3n"),_(),m(11,"th",15),w(12,"Estadios"),_()()(),m(13,"tbody")(14,"tr")(15,"td"),w(16),_(),m(17,"td"),w(18),_()()()()(),m(19,"div",16),N(20,"img",17)(21,"br")(22,"br"),_()(),N(23,"hr",8),_()),2&t){const n=e.$implicit;S(4),$s("",n.nombre," "),S(12),le(n.descripcion),S(2),le(n.estadios),S(2),We("src",n.imgCiudad,Fe)}}const hY=[{path:"",component:rY,pathMatch:"full"},{path:"paises",component:sY},{path:"grupos",component:ZQ},{path:"sedes",component:(()=>{class t{constructor(n){this.database=n,this.sedes=[],this.sedesPais=[]}ngOnInit(){this.obtenerSede(),this.obtenerSedePais()}registrarSede(){}obtenerSede(){const n=Be(this.database,"Sedes/");Ve(n,r=>{r.forEach(i=>{const s=i.val();this.sedes.push({nombre:s.nombre,imgCiudad:s.imgCiudad,descripcion:s.descripcion,estadios:s.estadios})})})}obtenerSedePais(){const n=Be(this.database,"SedePais/");Ve(n,r=>{r.forEach(i=>{const s=i.val();this.sedesPais.push({nombre:s.nombre,imgSedePais:s.imgSedePais,descripcion:s.descripcion,poblacion:s.poblacion})})})}}return t.\u0275fac=function(n){return new(n||t)(k(oi))},t.\u0275cmp=Xt({type:t,selectors:[["app-sedes"]],decls:22,vars:2,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"body-bk"],[1,"container-fluid"],[1,"featurette-heading1"],[1,"blockquote","featurette-p"],[1,"featurette-divider"],[4,"ngFor","ngForOf"],[1,"row","offset-md-3","w-50"],[1,"col-md-auto","order-md-2","div-1"],[1,"featurette-heading","fw-normal","lh-1"],[1,"text-muted"],[1,"table"],["scope","col"],[1,"col-8","order-md-1","container-fluid"],["alt","Responsive image",1,"img-thumbnail",3,"src"]],template:function(n,r){1&n&&(m(0,"html",0)(1,"head"),N(2,"meta",1)(3,"meta",2)(4,"meta",3),m(5,"title"),w(6,"Document"),_()(),m(7,"body",4)(8,"div",5)(9,"h2",6),w(10,"Qatar 2022"),_(),m(11,"p",7),w(12,"Qatar es el Pais Sede de la Copa Mundial FIFA 2022"),_()(),N(13,"hr",8),Ct(14,cY,24,4,"div",9),m(15,"div",5)(16,"h2",6),w(17,"Ciudades Sede del Mundial"),_(),m(18,"p",7),w(19,"Cinco son las ciudades Sede del Mundial, aunque cuatro de ellas pertenecen casi al mismo espacio metropolitano, conoce las Sedes:"),_()(),N(20,"hr",8),Ct(21,dY,24,4,"div",9),_()()),2&n&&(S(14),fe("ngForOf",r.sedesPais),S(7),fe("ngForOf",r.sedes))},dependencies:[wa],styles:["body[_ngcontent-%COMP%]{padding-top:3rem;padding-bottom:3rem}.featurette-divider[_ngcontent-%COMP%]{margin:3rem}.div-1[_ngcontent-%COMP%]{background-color:#fff;border-radius:10%}.featurette-heading[_ngcontent-%COMP%]{font-size:50px;text-align:center;color:#56042c}.featurette-heading1[_ngcontent-%COMP%]{font-size:50px;text-align:center;color:#fff}.featurette-p[_ngcontent-%COMP%]{font-size:25px;text-align:center;color:#fff}@media (min-width: 60em){.featurette-heading[_ngcontent-%COMP%]{margin-top:0rem}}.bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}"]}),t})()},{path:"partidos",component:uY},{path:"estadios",component:HQ},{path:"**",redirectTo:"/",pathMatch:"full"}];let fY=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=nr({type:t}),t.\u0275inj=Pn({imports:[PA.forRoot(hY),PA]}),t})();const Px=function(){return["/"]},pY=function(){return["sedes"]},gY=function(){return["paises"]},mY=function(){return["estadios"]},_Y=function(){return["grupos"]},yY=function(){return["partidos"]};let vY=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Xt({type:t,selectors:[["app-encabezado"]],decls:26,vars:14,consts:[[1,"navbar","navbar-expand-md","navbar-dark","bg-dark"],[1,"container-fluid"],[1,"navbar-brand",3,"routerLink"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-md-0"],[1,"nav-item"],["aria-current","page",1,"nav-link","active",3,"routerLink"],[1,"nav-link",3,"routerLink"]],template:function(n,r){1&n&&(m(0,"nav",0)(1,"div",1)(2,"a",2),w(3,"Copa Mundial FIFA 2022"),_(),m(4,"button",3),N(5,"span",4),_(),m(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),w(10,"Home"),_()(),m(11,"li",7)(12,"a",9),w(13,"Sedes"),_()(),m(14,"li",7)(15,"a",9),w(16,"Paises"),_()(),m(17,"li",7)(18,"a",9),w(19,"Estadios"),_()(),m(20,"li",7)(21,"a",9),w(22,"Grupos"),_()(),m(23,"li",7)(24,"a",9),w(25,"Partidos"),_()()()()()()),2&n&&(S(2),fe("routerLink",kt(7,Px)),S(7),fe("routerLink",kt(8,Px)),S(3),fe("routerLink",kt(9,pY)),S(3),fe("routerLink",kt(10,gY)),S(3),fe("routerLink",kt(11,mY)),S(3),fe("routerLink",kt(12,_Y)),S(3),fe("routerLink",kt(13,yY)))},dependencies:[La],styles:[".nav-scroller[_ngcontent-%COMP%]{position:relative;z-index:2;height:2.75rem;overflow-y:hidden}.nav-scroller[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;padding-bottom:1rem;margin-top:-1px;overflow-x:auto;text-align:center;white-space:nowrap;-webkit-overflow-scrolling:touch}"]}),t})(),EY=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Xt({type:t,selectors:[["app-footer"]],decls:8,vars:0,consts:[[1,"container"],["href","#"]],template:function(n,r){1&n&&(m(0,"footer",0)(1,"p"),w(2,"\xa9 UMG 2022 \xb7 "),m(3,"a",1),w(4,"Privacy"),_(),w(5," \xb7 "),m(6,"a",1),w(7,"Terms"),_()()())}}),t})(),wY=(()=>{class t{constructor(){this.title="UMGFIFA2022",this.show=!0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Xt({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(n,r){1&n&&N(0,"app-encabezado")(1,"router-outlet")(2,"app-footer")},dependencies:[Ag,vY,EY]}),t})();const kx_firebase={projectId:"umg2022fifa",appId:"1:883173134709:web:b913960b810be8b78a033c",databaseURL:"https://umg2022fifa-default-rtdb.firebaseio.com",storageBucket:"umg2022fifa.appspot.com",locationId:"us-central",apiKey:"AIzaSyCK2yKqP8GbL2_EDTHm6OEBzQFkHIV3Q6c",authDomain:"umg2022fifa.firebaseapp.com",messagingSenderId:"883173134709"};let CY=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=nr({type:t,bootstrap:[wY]}),t.\u0275inj=Pn({imports:[nH,fY,d8(()=>h8(kx_firebase)),jQ(()=>$Q())]}),t})();(function FB(){b0=!1})(),tH().bootstrapModule(CY).catch(t=>console.error(t))}},ye=>{ye(ye.s=206)}]);